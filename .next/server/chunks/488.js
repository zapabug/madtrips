exports.id=488,exports.ids=[488],exports.modules={99:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HTTPAccessFallbackBoundary",{enumerable:!0,get:function(){return c}});let n=r(740),i=r(687),o=n._(r(3210)),s=r(3883),a=r(6358);r(148);let l=r(2142);class u extends o.default.Component{componentDidCatch(){}static getDerivedStateFromError(e){if((0,a.isHTTPAccessFallbackError)(e))return{triggeredStatus:(0,a.getAccessFallbackHTTPStatus)(e)};throw e}static getDerivedStateFromProps(e,t){return e.pathname!==t.previousPathname&&t.triggeredStatus?{triggeredStatus:void 0,previousPathname:e.pathname}:{triggeredStatus:t.triggeredStatus,previousPathname:e.pathname}}render(){let{notFound:e,forbidden:t,unauthorized:r,children:n}=this.props,{triggeredStatus:o}=this.state,s={[a.HTTPAccessErrorStatus.NOT_FOUND]:e,[a.HTTPAccessErrorStatus.FORBIDDEN]:t,[a.HTTPAccessErrorStatus.UNAUTHORIZED]:r};if(o){let l=o===a.HTTPAccessErrorStatus.NOT_FOUND&&e,u=o===a.HTTPAccessErrorStatus.FORBIDDEN&&t,c=o===a.HTTPAccessErrorStatus.UNAUTHORIZED&&r;return l||u||c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{name:"robots",content:"noindex"}),!1,s[o]]}):n}return n}constructor(e){super(e),this.state={triggeredStatus:void 0,previousPathname:e.pathname}}}function c(e){let{notFound:t,forbidden:r,unauthorized:n,children:a}=e,c=(0,s.useUntrackedPathname)(),f=(0,o.useContext)(l.MissingSlotContext);return t||r||n?(0,i.jsx)(u,{pathname:c,notFound:t,forbidden:r,unauthorized:n,missingSlots:f,children:a}):(0,i.jsx)(i.Fragment,{children:a})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},137:function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var i=r(8756),o=r(6421),s=r(586);function a(e,t,r,n,i,o){var s=this.events[e];if(s){if(0===s.length)return!1;if(s.argsNum<6)s.call(t,r,n,i,o);else{for(var a=Array(s.argsNum),l=0,u=a.length;l<u;++l)a[l]=arguments[l+1];s.call.apply(void 0,a)}return!0}return!1}function l(e,t,r,n,i,o){var s,a=this.events[e];if(void 0!==a){if(0===a.length)return!1;if(a.argsNum<6)a.call(t,r,n,i,o);else{s=Array(a.argsNum);for(var l=0,u=s.length;l<u;++l)s[l]=arguments[l+1];a.call.apply(void 0,s)}}var c=this.onceEvents[e];if(c){if("function"==typeof c){if(this.onceEvents[e]=void 0,arguments.length<6)c(t,r,n,i,o);else{if(void 0===s){s=Array(arguments.length-1);for(var l=0,u=s.length;l<u;++l)s[l]=arguments[l+1]}c.apply(void 0,s)}}else{var f=c;if(this.onceEvents[e]=void 0,arguments.length<6)for(var l=0;l<f.length;++l)f[l](t,r,n,i,o);else{if(void 0===s){s=Array(arguments.length-1);for(var l=0,u=s.length;l<u;++l)s[l]=arguments[l+1]}for(var l=0;l<f.length;++l)f[l].apply(void 0,s)}}return!0}return void 0!==a}var u=function(){function e(){this.events=(0,s.nullObj)(),this.onceEvents=(0,s.nullObj)(),this._symbolKeys=new Set,this.maxListeners=1/0}return Object.defineProperty(e.prototype,"_eventsCount",{get:function(){return this.eventNames().length},enumerable:!1,configurable:!0}),e}();function c(e,t){switch(this.emit===a&&(this.emit=l),typeof this.onceEvents[e]){case"undefined":this.onceEvents[e]=t,"symbol"==typeof e&&this._symbolKeys.add(e);break;case"function":this.onceEvents[e]=[this.onceEvents[e],t];break;case"object":this.onceEvents[e].push(t)}return this}function f(e,t,r){if(void 0===r&&(r=t.length),"function"!=typeof t)throw TypeError("The listener must be a function");var n=this.events[e];return n?(n.push(t),n.growArgsNum(r),this.maxListeners!==1/0&&this.maxListeners<=n.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(this.events[e]=new i.TaskCollection(r,!0,t,!1),"symbol"==typeof e&&this._symbolKeys.add(e)),this}function d(e,t){var r=this.events[e];r&&r.removeLast(t);var n=this.onceEvents[e];return n&&("function"==typeof n?this.onceEvents[e]=void 0:"object"==typeof n&&(1===n.length&&n[0]===t?this.onceEvents[e]=void 0:(0,o._fast_remove_single)(n,n.lastIndexOf(t)))),this}function h(e,t,r,n){void 0===r&&(r=this),void 0===n&&(n=t.length),this.boundFuncs||(this.boundFuncs=new Map);var i=t.bind(r);return this.boundFuncs.set(t,i),this.addListener(e,i,n)}function p(e,t){var r,n,i=null===(r=this.boundFuncs)||void 0===r?void 0:r.get(t);return null===(n=this.boundFuncs)||void 0===n||n.delete(t),this.removeListener(e,i)}function g(e){return this.events[e]&&!!this.events[e].length}function y(e,t,r){if(void 0===r&&(r=t.length),"function"!=typeof t)throw TypeError("The listener must be a function");var n=this.events[e];return n&&n instanceof i.TaskCollection?(n.insert(0,t),n.growArgsNum(r),this.maxListeners!==1/0&&this.maxListeners<=n.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(n=this.events[e]=new i.TaskCollection(r,!0,t,!1),"symbol"==typeof e&&this._symbolKeys.add(e)),this}function m(e,t){this.emit===a&&(this.emit=l);var r=this.onceEvents[e];return r?"object"!=typeof r?(this.onceEvents[e]=[t,r],"symbol"==typeof e&&this._symbolKeys.add(e)):(r.unshift(t),this.maxListeners!==1/0&&this.maxListeners<=r.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" once event!'))):(this.onceEvents[e]=[t],"symbol"==typeof e&&this._symbolKeys.add(e)),this}function b(e){return void 0===e?(this.events=(0,s.nullObj)(),this.onceEvents=(0,s.nullObj)(),this._symbolKeys=new Set):(this.events[e]=void 0,this.onceEvents[e]=void 0,"symbol"==typeof e&&this._symbolKeys.delete(e)),this}function v(e){return this.maxListeners=e,this}function w(){return this.maxListeners}function E(e){return this.emit===a?this.events[e]?this.events[e].tasksAsArray().slice():[]:this.events[e]&&this.onceEvents[e]?n(n([],this.events[e].tasksAsArray(),!0),"function"==typeof this.onceEvents[e]?[this.onceEvents[e]]:this.onceEvents[e],!0):this.events[e]?this.events[e].tasksAsArray():this.onceEvents[e]?"function"==typeof this.onceEvents[e]?[this.onceEvents[e]]:this.onceEvents[e]:[]}function _(){var e=this;if(this.emit===a){var t=Object.keys(this.events);return n(n([],t,!0),Array.from(this._symbolKeys),!0).filter(function(t){return t in e.events&&e.events[t]&&e.events[t].length})}var t=Object.keys(this.events).filter(function(t){return e.events[t]&&e.events[t].length}),r=Object.keys(this.onceEvents).filter(function(t){return e.onceEvents[t]&&e.onceEvents[t].length});return n(n(n([],t,!0),r,!0),Array.from(this._symbolKeys).filter(function(t){return t in e.events&&e.events[t]&&e.events[t].length||t in e.onceEvents&&e.onceEvents[t]&&e.onceEvents[t].length}),!0)}function x(e){return this.emit===a?this.events[e]&&this.events[e].length||0:(this.events[e]&&this.events[e].length||0)+(this.onceEvents[e]&&this.onceEvents[e].length||0)}t.EventEmitter=u,u.prototype.emit=a,u.prototype.on=f,u.prototype.once=c,u.prototype.addListener=f,u.prototype.removeListener=d,u.prototype.addListenerBound=h,u.prototype.removeListenerBound=p,u.prototype.hasListeners=g,u.prototype.prependListener=y,u.prototype.prependOnceListener=m,u.prototype.off=d,u.prototype.removeAllListeners=b,u.prototype.setMaxListeners=v,u.prototype.getMaxListeners=w,u.prototype.listeners=E,u.prototype.eventNames=_,u.prototype.listenerCount=x},148:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return c},RedirectType:function(){return i.RedirectType},forbidden:function(){return s.forbidden},notFound:function(){return o.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return a.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow}});let n=r(6875),i=r(7860),o=r(5211),s=r(414),a=r(929),l=r(8613);class u extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class c extends URLSearchParams{append(){throw new u}delete(){throw new u}set(){throw new u}sort(){throw new u}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},195:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatUrl:function(){return o},formatWithValidation:function(){return a},urlObjectKeys:function(){return s}});let n=r(740)._(r(6715)),i=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,o=e.protocol||"",s=e.pathname||"",a=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(n.urlQueryToSearchParams(l)));let c=e.search||l&&"?"+l||"";return o&&!o.endsWith(":")&&(o+=":"),e.slashes||(!o||i.test(o))&&!1!==u?(u="//"+(u||""),s&&"/"!==s[0]&&(s="/"+s)):u||(u=""),a&&"#"!==a[0]&&(a="#"+a),c&&"?"!==c[0]&&(c="?"+c),""+o+u+(s=s.replace(/[?#]/g,encodeURIComponent))+(c=c.replace("#","%23"))+a}let s=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function a(e){return o(e)}},218:(e,t,r)=>{"use strict";r.d(t,{N:()=>u});var n=r(3210),i=(e,t,r,n,i,o,s,a)=>{let l=document.documentElement,u=["light","dark"];function c(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&o?i.map(e=>o[e]||e):i;r?(l.classList.remove(...n),l.classList.add(o&&o[t]?o[t]:t)):l.setAttribute(e,t)}),f(t)}function f(e){a&&u.includes(e)&&(l.style.colorScheme=e)}function d(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=s&&"system"===e?d():e;c(n)}catch(e){}},o=["light","dark"],s="(prefers-color-scheme: dark)",a=!0,l=n.createContext(void 0),u=e=>n.useContext(l)?n.createElement(n.Fragment,null,e.children):n.createElement(f,{...e}),c=["light","dark"],f=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:i=!0,storageKey:a="theme",themes:u=c,defaultTheme:f=r?"system":"light",attribute:y="data-theme",value:m,children:b,nonce:v,scriptProps:w})=>{let[E,_]=n.useState(()=>h(a,f)),[x,R]=n.useState(()=>"system"===E?g():E),S=m?Object.values(m):u,O=n.useCallback(e=>{let n=e;if(!n)return;"system"===e&&r&&(n=g());let s=m?m[n]:n,a=t?p(v):null,l=document.documentElement,u=e=>{"class"===e?(l.classList.remove(...S),s&&l.classList.add(s)):e.startsWith("data-")&&(s?l.setAttribute(e,s):l.removeAttribute(e))};if(Array.isArray(y)?y.forEach(u):u(y),i){let e=o.includes(f)?f:null,t=o.includes(n)?n:e;l.style.colorScheme=t}null==a||a()},[v]),P=n.useCallback(e=>{let t="function"==typeof e?e(E):e;_(t);try{localStorage.setItem(a,t)}catch(e){}},[E]),A=n.useCallback(t=>{R(g(t)),"system"===E&&r&&!e&&O("system")},[E,e]);n.useEffect(()=>{let e=window.matchMedia(s);return e.addListener(A),A(e),()=>e.removeListener(A)},[A]),n.useEffect(()=>{let e=e=>{e.key===a&&(e.newValue?_(e.newValue):P(f))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[P]),n.useEffect(()=>{O(null!=e?e:E)},[e,E]);let k=n.useMemo(()=>({theme:E,setTheme:P,forcedTheme:e,resolvedTheme:"system"===E?x:E,themes:r?[...u,"system"]:u,systemTheme:r?x:void 0}),[E,P,e,x,r,u]);return n.createElement(l.Provider,{value:k},n.createElement(d,{forcedTheme:e,storageKey:a,attribute:y,enableSystem:r,enableColorScheme:i,defaultTheme:f,value:m,themes:u,nonce:v,scriptProps:w}),b)},d=n.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:o,enableColorScheme:s,defaultTheme:a,value:l,themes:u,nonce:c,scriptProps:f})=>{let d=JSON.stringify([r,t,a,e,u,l,o,s]).slice(1,-1);return n.createElement("script",{...f,suppressHydrationWarning:!0,nonce:c,dangerouslySetInnerHTML:{__html:`(${i.toString()})(${d})`}})}),h=(e,t)=>{let r;if(!a){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},g=e=>(e||(e=window.matchMedia(s)),e.matches?"dark":"light")},407:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Meta:function(){return o},MetaFilter:function(){return s},MultiMeta:function(){return f}});let n=r(7413);r(1120);let i=r(9735);function o({name:e,property:t,content:r,media:i}){return null!=r&&""!==r?(0,n.jsx)("meta",{...e?{name:e}:{property:t},...i?{media:i}:void 0,content:"string"==typeof r?r:r.toString()}):null}function s(e){let t=[];for(let r of e)Array.isArray(r)?t.push(...r.filter(i.nonNullable)):(0,i.nonNullable)(r)&&t.push(r);return t}function a(e){return e.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})}let l=new Set(["og:image","twitter:image","og:video","og:audio"]);function u(e,t){return l.has(e)&&"url"===t?e:((e.startsWith("og:")||e.startsWith("twitter:"))&&(t=a(t)),e+":"+t)}function c({content:e,namePrefix:t,propertyPrefix:r}){return e?s(Object.entries(e).map(([e,n])=>void 0===n?null:o({...r&&{property:u(r,e)},...t&&{name:u(t,e)},content:"string"==typeof n?n:null==n?void 0:n.toString()}))):null}function f({propertyPrefix:e,namePrefix:t,contents:r}){return null==r?null:s(r.map(r=>"string"==typeof r||"number"==typeof r||r instanceof URL?o({...e?{property:e}:{name:t},content:r}):c({namePrefix:t,propertyPrefix:e,content:r})))}},414:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(6358).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},449:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.HooksClientContext},474:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var n=r(1261),i=r.n(n)},512:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return y},defaultHead:function(){return f}});let n=r(4985),i=r(740),o=r(687),s=i._(r(3210)),a=n._(r(7755)),l=r(4959),u=r(9513),c=r(4604);function f(e){void 0===e&&(e=!1);let t=[(0,o.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function d(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(148);let h=["name","httpEquiv","charSet","itemProp"];function p(){let e=new Set,t=new Set,r=new Set,n={};return i=>{let o=!0,s=!1;if(i.key&&"number"!=typeof i.key&&i.key.indexOf("$")>0){s=!0;let t=i.key.slice(i.key.indexOf("$")+1);e.has(t)?o=!1:e.add(t)}switch(i.type){case"title":case"base":t.has(i.type)?o=!1:t.add(i.type);break;case"meta":for(let e=0,t=h.length;e<t;e++){let t=h[e];if(i.props.hasOwnProperty(t)){if("charSet"===t)r.has(t)?o=!1:r.add(t);else{let e=i.props[t],r=n[t]||new Set;("name"!==t||!s)&&r.has(e)?o=!1:(r.add(e),n[t]=r)}}}}return o}}function g(e,t){let{inAmpMode:r}=t;return e.reduce(d,[]).reverse().concat(f(r).reverse()).filter(p()).reverse().map((e,t)=>{let n=e.key||t;if(process.env.__NEXT_OPTIMIZE_FONTS&&!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,s.default.cloneElement(e,t)}return s.default.cloneElement(e,{key:n})})}let y=function(e){let{children:t}=e,r=(0,s.useContext)(l.AmpStateContext),n=(0,s.useContext)(u.HeadManagerContext);return(0,o.jsx)(a.default,{reduceComponentsToState:g,headManager:n,inAmpMode:(0,c.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},586:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nullObj=void 0,t.nullObj=function(){var e={};return e.__proto__=null,e}},593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{NavigationResultTag:function(){return f},PrefetchPriority:function(){return d},bumpPrefetchTask:function(){return u},cancelPrefetchTask:function(){return l},createCacheKey:function(){return c},getCurrentCacheVersion:function(){return s},navigate:function(){return i},prefetch:function(){return n},revalidateEntireCache:function(){return o},schedulePrefetchTask:function(){return a}});let r=()=>{throw Object.defineProperty(Error("Segment Cache experiment is not enabled. This is a bug in Next.js."),"__NEXT_ERROR_CODE",{value:"E654",enumerable:!1,configurable:!0})},n=r,i=r,o=r,s=r,a=r,l=r,u=r,c=r;var f=function(e){return e[e.MPA=0]="MPA",e[e.Success=1]="Success",e[e.NoOp=2]="NoOp",e[e.Async=3]="Async",e}({}),d=function(e){return e[e.Intent=2]="Intent",e[e.Default=1]="Default",e[e.Background=0]="Background",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},642:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{computeChangedPath:function(){return f},extractPathFromFlightRouterState:function(){return u},getSelectedParams:function(){return d}});let n=r(2859),i=r(3913),o=r(4077),s=e=>"/"===e[0]?e.slice(1):e,a=e=>"string"==typeof e?"children"===e?"":e:e[1];function l(e){return e.reduce((e,t)=>""===(t=s(t))||(0,i.isGroupSegment)(t)?e:e+"/"+t,"")||"/"}function u(e){var t;let r=Array.isArray(e[0])?e[0][1]:e[0];if(r===i.DEFAULT_SEGMENT_KEY||n.INTERCEPTION_ROUTE_MARKERS.some(e=>r.startsWith(e)))return;if(r.startsWith(i.PAGE_SEGMENT_KEY))return"";let o=[a(r)],s=null!=(t=e[1])?t:{},c=s.children?u(s.children):void 0;if(void 0!==c)o.push(c);else for(let[e,t]of Object.entries(s)){if("children"===e)continue;let r=u(t);void 0!==r&&o.push(r)}return l(o)}function c(e,t){let[r,i]=e,[s,l]=t,f=a(r),d=a(s);if(n.INTERCEPTION_ROUTE_MARKERS.some(e=>f.startsWith(e)||d.startsWith(e)))return"";if(!(0,o.matchSegment)(r,s)){var h;return null!=(h=u(t))?h:""}for(let e in i)if(l[e]){let t=c(i[e],l[e]);if(null!==t)return a(s)+"/"+t}return null}function f(e,t){let r=c(e,t);return null==r||"/"===r?r:l(r.split("/"))}function d(e,t){for(let r of(void 0===t&&(t={}),Object.values(e[1]))){let e=r[0],n=Array.isArray(e),o=n?e[1]:e;!(!o||o.startsWith(i.PAGE_SEGMENT_KEY))&&(n&&("c"===e[2]||"oc"===e[2])?t[e[0]]=e[1].split("/"):n&&(t[e[0]]=e[1]),t=d(r,t))}return t}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},678:(e,t,r)=>{let n=r(3997),i=r(8354);t.init=f,t.log=l,t.formatArgs=s,t.save=u,t.load=c,t.useColors=o,t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=r(9228);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function o(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)}function s(t){let{namespace:r,useColors:n}=this;if(n){let n=this.color,i="\x1b[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${r} \u001B[0m`;t[0]=o+t[0].split("\n").join("\n"+o),t.push(i+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else t[0]=a()+r+" "+t[0]}function a(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function l(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")}function u(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function c(){return process.env.DEBUG}function f(e){e.inspectOpts={};let r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(6211)(t);let{formatters:d}=e.exports;d.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},d.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},687:(e,t,r)=>{"use strict";e.exports=r(4041).vendored["react-ssr"].ReactJsxRuntime},740:(e,t,r)=>{"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,r&&r.set(e,i),i}r.r(t),r.d(t,{_:()=>i})},824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createParamsFromClient:function(){return u},createPrerenderParamsForClientSegment:function(){return h},createServerParamsForMetadata:function(){return c},createServerParamsForRoute:function(){return f},createServerParamsForServerSegment:function(){return d}}),r(3717);let n=r(4717),i=r(3033),o=r(5539),s=r(4627),a=r(8238),l=r(4768);function u(e,t){let r=i.workUnitAsyncStorage.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return p(e,t,r)}return g(e,t)}r(2825);let c=d;function f(e,t){let r=i.workUnitAsyncStorage.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return p(e,t,r)}return g(e,t)}function d(e,t){let r=i.workUnitAsyncStorage.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return p(e,t,r)}return g(e,t)}function h(e,t){let r=i.workUnitAsyncStorage.getStore();if(r&&"prerender"===r.type){let n=t.fallbackRouteParams;if(n){for(let t in e)if(n.has(t))return(0,a.makeHangingPromise)(r.renderSignal,"`params`")}}return Promise.resolve(e)}function p(e,t,r){let n=t.fallbackRouteParams;if(n){let i=!1;for(let t in e)if(n.has(t)){i=!0;break}if(i)return"prerender"===r.type?m(e,t.route,r):b(e,n,t,r)}return v(e)}function g(e,t){return v(e)}let y=new WeakMap;function m(e,t,r){let i=y.get(e);if(i)return i;let o=(0,a.makeHangingPromise)(r.renderSignal,"`params`");return y.set(e,o),Object.keys(e).forEach(e=>{s.wellKnownProperties.has(e)||Object.defineProperty(o,e,{get(){let i=(0,s.describeStringPropertyAccess)("params",e),o=_(t,i);(0,n.abortAndThrowOnSynchronousRequestDataAccess)(t,i,o,r)},set(t){Object.defineProperty(o,e,{value:t,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0})}),o}function b(e,t,r,i){let o=y.get(e);if(o)return o;let a={...e},l=Promise.resolve(a);return y.set(e,l),Object.keys(e).forEach(o=>{s.wellKnownProperties.has(o)||(t.has(o)?(Object.defineProperty(a,o,{get(){let e=(0,s.describeStringPropertyAccess)("params",o);"prerender-ppr"===i.type?(0,n.postponeWithTracking)(r.route,e,i.dynamicTracking):(0,n.throwToInterruptStaticGeneration)(e,r,i)},enumerable:!0}),Object.defineProperty(l,o,{get(){let e=(0,s.describeStringPropertyAccess)("params",o);"prerender-ppr"===i.type?(0,n.postponeWithTracking)(r.route,e,i.dynamicTracking):(0,n.throwToInterruptStaticGeneration)(e,r,i)},set(e){Object.defineProperty(l,o,{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0})):l[o]=e[o])}),l}function v(e){let t=y.get(e);if(t)return t;let r=Promise.resolve(e);return y.set(e,r),Object.keys(e).forEach(t=>{s.wellKnownProperties.has(t)||(r[t]=e[t])}),r}let w=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(_),E=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(x);function _(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`params\` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E307",enumerable:!1,configurable:!0})}function x(e,t,r){let n=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${n}used ${t}. \`params\` should be awaited before using its properties. The following properties were not available through enumeration because they conflict with builtin property names: ${R(r)}. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E482",enumerable:!1,configurable:!0})}function R(e){switch(e.length){case 0:throw Object.defineProperty(new o.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:!1,configurable:!0});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let r=0;r<e.length-1;r++)t+=`\`${e[r]}\`, `;return t+`, and \`${e[e.length-1]}\``}}}},884:(e,t,r)=>{"use strict";var n=r(6033),i={stream:!0};function o(e,t){if(e){var r=e[t[0]];if(e=r&&r[t[2]])r=e.name;else{if(!(e=r&&r["*"]))throw Error('Could not find the module "'+t[0]+'" in the React Server Consumer Manifest. This is probably a bug in the React Server Components bundler.');r=t[2]}return 4===t.length?[e.id,e.chunks,r,1]:[e.id,e.chunks,r]}return t}function s(e,t){var r="",n=e[t];if(n)r=n.name;else{var i=t.lastIndexOf("#");if(-1!==i&&(r=t.slice(i+1),n=e[t.slice(0,i)]),!n)throw Error('Could not find the module "'+t+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return n.async?[n.id,n.chunks,r,1]:[n.id,n.chunks,r]}var a=new Map;function l(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function u(){}function c(e){for(var t=e[1],n=[],i=0;i<t.length;){var o=t[i++];t[i++];var s=a.get(o);if(void 0===s){s=r.e(o),n.push(s);var c=a.set.bind(a,o,null);s.then(c,u),a.set(o,s)}else null!==s&&n.push(s)}return 4===e.length?0===n.length?l(e[0]):Promise.all(n).then(function(){return l(e[0])}):0<n.length?Promise.all(n):null}function f(e){var t=globalThis.__next_require__(e[0]);if(4===e.length&&"function"==typeof t.then){if("fulfilled"===t.status)t=t.value;else throw t.reason}return"*"===e[2]?t:""===e[2]?t.__esModule?t.default:t:t[e[2]]}function d(e,t,r){if(null!==e)for(var n=1;n<t.length;n+=2){var i=r,o=h.d,s=o.X,a=e.prefix+t[n],l=e.crossOrigin;l="string"==typeof l?"use-credentials"===l?l:"":void 0,s.call(o,a,{crossOrigin:l,nonce:i})}}var h=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,p=Symbol.for("react.transitional.element"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function m(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}var b=Symbol.asyncIterator,v=Array.isArray,w=Object.getPrototypeOf,E=Object.prototype,_=new WeakMap;function x(e){return Number.isFinite(e)?0===e&&-1/0==1/e?"$-0":e:1/0===e?"$Infinity":-1/0===e?"$-Infinity":"$NaN"}function R(e,t,r,n,i){function o(e,r){r=new Blob([new Uint8Array(r.buffer,r.byteOffset,r.byteLength)]);var n=d++;return null===y&&(y=new FormData),y.append(t+n,r),"$"+e+n.toString(16)}function s(e){function r(l){l.done?(l=d++,o.append(t+l,new Blob(a)),o.append(t+s,'"$o'+l.toString(16)+'"'),o.append(t+s,"C"),0==--h&&n(o)):(a.push(l.value),e.read(new Uint8Array(1024)).then(r,i))}null===y&&(y=new FormData);var o=y;h++;var s=d++,a=[];return e.read(new Uint8Array(1024)).then(r,i),"$r"+s.toString(16)}function a(e){function r(a){if(a.done)o.append(t+s,"C"),0==--h&&n(o);else try{var l=JSON.stringify(a.value,c);o.append(t+s,l),e.read().then(r,i)}catch(e){i(e)}}null===y&&(y=new FormData);var o=y;h++;var s=d++;return e.read().then(r,i),"$R"+s.toString(16)}function l(e){try{var t=e.getReader({mode:"byob"})}catch(t){return a(e.getReader())}return s(t)}function u(e,r){function o(e){if(e.done){if(void 0===e.value)s.append(t+a,"C");else try{var l=JSON.stringify(e.value,c);s.append(t+a,"C"+l)}catch(e){i(e);return}0==--h&&n(s)}else try{var u=JSON.stringify(e.value,c);s.append(t+a,u),r.next().then(o,i)}catch(e){i(e)}}null===y&&(y=new FormData);var s=y;h++;var a=d++;return e=e===r,r.next().then(o,i),"$"+(e?"x":"X")+a.toString(16)}function c(e,s){if(null===s)return null;if("object"==typeof s){switch(s.$$typeof){case p:if(void 0!==r&&-1===e.indexOf(":")){var a=R.get(this);if(void 0!==a)return r.set(a+":"+e,s),"$T"}throw Error("React Element cannot be passed to Server Functions from the Client without a temporary reference set. Pass a TemporaryReferenceSet to the options.");case g:a=s._payload;var O=s._init;null===y&&(y=new FormData),h++;try{var P=O(a),A=d++,k=f(P,A);return y.append(t+A,k),"$"+A.toString(16)}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then){h++;var T=d++;return a=function(){try{var e=f(s,T),r=y;r.append(t+T,e),h--,0===h&&n(r)}catch(e){i(e)}},e.then(a,a),"$"+T.toString(16)}return i(e),null}finally{h--}}if("function"==typeof s.then){null===y&&(y=new FormData),h++;var M=d++;return s.then(function(e){try{var r=f(e,M);(e=y).append(t+M,r),h--,0===h&&n(e)}catch(e){i(e)}},i),"$@"+M.toString(16)}if(void 0!==(a=R.get(s))){if(S!==s)return a;S=null}else -1===e.indexOf(":")&&void 0!==(a=R.get(this))&&(e=a+":"+e,R.set(s,e),void 0!==r&&r.set(e,s));if(v(s))return s;if(s instanceof FormData){null===y&&(y=new FormData);var j=y,C=t+(e=d++)+"_";return s.forEach(function(e,t){j.append(C+t,e)}),"$K"+e.toString(16)}if(s instanceof Map)return e=d++,a=f(Array.from(s),e),null===y&&(y=new FormData),y.append(t+e,a),"$Q"+e.toString(16);if(s instanceof Set)return e=d++,a=f(Array.from(s),e),null===y&&(y=new FormData),y.append(t+e,a),"$W"+e.toString(16);if(s instanceof ArrayBuffer)return e=new Blob([s]),a=d++,null===y&&(y=new FormData),y.append(t+a,e),"$A"+a.toString(16);if(s instanceof Int8Array)return o("O",s);if(s instanceof Uint8Array)return o("o",s);if(s instanceof Uint8ClampedArray)return o("U",s);if(s instanceof Int16Array)return o("S",s);if(s instanceof Uint16Array)return o("s",s);if(s instanceof Int32Array)return o("L",s);if(s instanceof Uint32Array)return o("l",s);if(s instanceof Float32Array)return o("G",s);if(s instanceof Float64Array)return o("g",s);if(s instanceof BigInt64Array)return o("M",s);if(s instanceof BigUint64Array)return o("m",s);if(s instanceof DataView)return o("V",s);if("function"==typeof Blob&&s instanceof Blob)return null===y&&(y=new FormData),e=d++,y.append(t+e,s),"$B"+e.toString(16);if(e=m(s))return(a=e.call(s))===s?(e=d++,a=f(Array.from(a),e),null===y&&(y=new FormData),y.append(t+e,a),"$i"+e.toString(16)):Array.from(a);if("function"==typeof ReadableStream&&s instanceof ReadableStream)return l(s);if("function"==typeof(e=s[b]))return u(s,e.call(s));if((e=w(s))!==E&&(null===e||null!==w(e))){if(void 0===r)throw Error("Only plain objects, and a few built-ins, can be passed to Server Functions. Classes or null prototypes are not supported.");return"$T"}return s}if("string"==typeof s)return"Z"===s[s.length-1]&&this[e]instanceof Date?"$D"+s:e="$"===s[0]?"$"+s:s;if("boolean"==typeof s)return s;if("number"==typeof s)return x(s);if(void 0===s)return"$undefined";if("function"==typeof s){if(void 0!==(a=_.get(s)))return e=JSON.stringify(a,c),null===y&&(y=new FormData),a=d++,y.set(t+a,e),"$F"+a.toString(16);if(void 0!==r&&-1===e.indexOf(":")&&void 0!==(a=R.get(this)))return r.set(a+":"+e,s),"$T";throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof s){if(void 0!==r&&-1===e.indexOf(":")&&void 0!==(a=R.get(this)))return r.set(a+":"+e,s),"$T";throw Error("Symbols cannot be passed to a Server Function without a temporary reference set. Pass a TemporaryReferenceSet to the options.")}if("bigint"==typeof s)return"$n"+s.toString(10);throw Error("Type "+typeof s+" is not supported as an argument to a Server Function.")}function f(e,t){return"object"==typeof e&&null!==e&&(t="$"+t.toString(16),R.set(e,t),void 0!==r&&r.set(t,e)),S=e,JSON.stringify(e,c)}var d=1,h=0,y=null,R=new WeakMap,S=e,O=f(e,0);return null===y?n(O):(y.set(t+"0",O),0===h&&n(y)),function(){0<h&&(h=0,null===y?n(O):n(y))}}var S=new WeakMap;function O(e){var t,r,n=new Promise(function(e,n){t=e,r=n});return R(e,"",void 0,function(e){if("string"==typeof e){var r=new FormData;r.append("0",e),e=r}n.status="fulfilled",n.value=e,t(e)},function(e){n.status="rejected",n.reason=e,r(e)}),n}function P(e){var t=_.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var r=null;if(null!==t.bound){if((r=S.get(t))||(r=O(t),S.set(t,r)),"rejected"===r.status)throw r.reason;if("fulfilled"!==r.status)throw r;t=r.value;var n=new FormData;t.forEach(function(t,r){n.append("$ACTION_"+e+":"+r,t)}),r=n,t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:r}}function A(e,t){var r=_.get(this);if(!r)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(r.id!==e)return!1;var n=r.bound;if(null===n)return 0===t;switch(n.status){case"fulfilled":return n.value.length===t;case"pending":throw n;case"rejected":throw n.reason;default:throw"string"!=typeof n.status&&(n.status="pending",n.then(function(e){n.status="fulfilled",n.value=e},function(e){n.status="rejected",n.reason=e})),n}}function k(e,t,r,n){Object.defineProperties(e,{$$FORM_ACTION:{value:void 0===n?P:function(){var e=_.get(this);if(!e)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var t=e.bound;return null===t&&(t=Promise.resolve([])),n(e.id,t)}},$$IS_SIGNATURE_EQUAL:{value:A},bind:{value:j}}),_.set(e,{id:t,bound:r})}var T=Function.prototype.bind,M=Array.prototype.slice;function j(){var e=T.apply(this,arguments),t=_.get(this);if(t){var r=M.call(arguments,1),n=null;n=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(r)}):Promise.resolve(r),Object.defineProperties(e,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:A},bind:{value:j}}),_.set(e,{id:t.id,bound:n})}return e}function C(e,t,r){function n(){var e=Array.prototype.slice.call(arguments);return o?"fulfilled"===o.status?t(i,o.value.concat(e)):Promise.resolve(o).then(function(r){return t(i,r.concat(e))}):t(i,e)}var i=e.id,o=e.bound;return k(n,i,o,r),n}function N(e,t,r){function n(){var r=Array.prototype.slice.call(arguments);return t(e,r)}return k(n,e,null,r),n}function I(e,t,r,n){this.status=e,this.value=t,this.reason=r,this._response=n}function U(e){switch(e.status){case"resolved_model":V(e);break;case"resolved_module":K(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":throw e;default:throw e.reason}}function D(e){return new I("pending",null,null,e)}function L(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}function B(e,t,r){switch(e.status){case"fulfilled":L(t,e.value);break;case"pending":case"blocked":if(e.value)for(var n=0;n<t.length;n++)e.value.push(t[n]);else e.value=t;if(e.reason){if(r)for(t=0;t<r.length;t++)e.reason.push(r[t])}else e.reason=r;break;case"rejected":r&&L(r,e.reason)}}function F(e,t){if("pending"!==e.status&&"blocked"!==e.status)e.reason.error(t);else{var r=e.reason;e.status="rejected",e.reason=t,null!==r&&L(r,t)}}function $(e,t,r){return new I("resolved_model",(r?'{"done":true,"value":':'{"done":false,"value":')+t+"}",null,e)}function H(e,t,r){z(e,(r?'{"done":true,"value":':'{"done":false,"value":')+t+"}")}function z(e,t){if("pending"!==e.status)e.reason.enqueueModel(t);else{var r=e.value,n=e.reason;e.status="resolved_model",e.value=t,null!==r&&(V(e),B(e,r,n))}}function q(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.value,n=e.reason;e.status="resolved_module",e.value=t,null!==r&&(K(e),B(e,r,n))}}I.prototype=Object.create(Promise.prototype),I.prototype.then=function(e,t){switch(this.status){case"resolved_model":V(this);break;case"resolved_module":K(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t&&t(this.reason)}};var W=null;function V(e){var t=W;W=null;var r=e.value;e.status="blocked",e.value=null,e.reason=null;try{var n=JSON.parse(r,e._response._fromJSON),i=e.value;if(null!==i&&(e.value=null,e.reason=null,L(i,n)),null!==W){if(W.errored)throw W.value;if(0<W.deps){W.value=n,W.chunk=e;return}}e.status="fulfilled",e.value=n}catch(t){e.status="rejected",e.reason=t}finally{W=t}}function K(e){try{var t=f(e.value);e.status="fulfilled",e.value=t}catch(t){e.status="rejected",e.reason=t}}function G(e,t){e._closed=!0,e._closedReason=t,e._chunks.forEach(function(e){"pending"===e.status&&F(e,t)})}function Y(e){return{$$typeof:g,_payload:e,_init:U}}function J(e,t){var r=e._chunks,n=r.get(t);return n||(n=e._closed?new I("rejected",null,e._closedReason,e):D(e),r.set(t,n)),n}function Z(e,t,r,n,i,o){function s(e){for(var u=1;u<o.length;u++){for(;e.$$typeof===g;)if((e=e._payload)===l.chunk)e=l.value;else if("fulfilled"===e.status)e=e.value;else{o.splice(0,u-1),e.then(s,a);return}e=e[o[u]]}u=i(n,e,t,r),t[r]=u,""===r&&null===l.value&&(l.value=u),t[0]===p&&"object"==typeof l.value&&null!==l.value&&l.value.$$typeof===p&&(e=l.value,"3"===r)&&(e.props=u),l.deps--,0===l.deps&&null!==(u=l.chunk)&&"blocked"===u.status&&(e=u.value,u.status="fulfilled",u.value=l.value,null!==e&&L(e,l.value))}function a(e){if(!l.errored){l.errored=!0,l.value=e;var t=l.chunk;null!==t&&"blocked"===t.status&&F(t,e)}}if(W){var l=W;l.deps++}else l=W={parent:null,chunk:null,value:null,deps:1,errored:!1};return e.then(s,a),null}function X(e,t,r,n){if(!e._serverReferenceConfig)return C(t,e._callServer,e._encodeFormAction);var i=s(e._serverReferenceConfig,t.id),o=c(i);if(o)t.bound&&(o=Promise.all([o,t.bound]));else{if(!t.bound)return k(o=f(i),t.id,t.bound,e._encodeFormAction),o;o=Promise.resolve(t.bound)}if(W){var a=W;a.deps++}else a=W={parent:null,chunk:null,value:null,deps:1,errored:!1};return o.then(function(){var o=f(i);if(t.bound){var s=t.bound.value.slice(0);s.unshift(null),o=o.bind.apply(o,s)}k(o,t.id,t.bound,e._encodeFormAction),r[n]=o,""===n&&null===a.value&&(a.value=o),r[0]===p&&"object"==typeof a.value&&null!==a.value&&a.value.$$typeof===p&&(s=a.value,"3"===n)&&(s.props=o),a.deps--,0===a.deps&&null!==(o=a.chunk)&&"blocked"===o.status&&(s=o.value,o.status="fulfilled",o.value=a.value,null!==s&&L(s,a.value))},function(e){if(!a.errored){a.errored=!0,a.value=e;var t=a.chunk;null!==t&&"blocked"===t.status&&F(t,e)}}),null}function Q(e,t,r,n,i){var o=parseInt((t=t.split(":"))[0],16);switch((o=J(e,o)).status){case"resolved_model":V(o);break;case"resolved_module":K(o)}switch(o.status){case"fulfilled":var s=o.value;for(o=1;o<t.length;o++){for(;s.$$typeof===g;)if("fulfilled"!==(s=s._payload).status)return Z(s,r,n,e,i,t.slice(o-1));else s=s.value;s=s[t[o]]}return i(e,s,r,n);case"pending":case"blocked":return Z(o,r,n,e,i,t);default:return W?(W.errored=!0,W.value=o.reason):W={parent:null,chunk:null,value:o.reason,deps:0,errored:!0},null}}function ee(e,t){return new Map(t)}function et(e,t){return new Set(t)}function er(e,t){return new Blob(t.slice(1),{type:t[0]})}function en(e,t){e=new FormData;for(var r=0;r<t.length;r++)e.append(t[r][0],t[r][1]);return e}function ei(e,t){return t[Symbol.iterator]()}function eo(e,t){return t}function es(e,t,r,n){if("$"===n[0]){if("$"===n)return null!==W&&"0"===r&&(W={parent:W,chunk:null,value:null,deps:0,errored:!1}),p;switch(n[1]){case"$":return n.slice(1);case"L":return Y(e=J(e,t=parseInt(n.slice(2),16)));case"@":if(2===n.length)return new Promise(function(){});return J(e,t=parseInt(n.slice(2),16));case"S":return Symbol.for(n.slice(2));case"F":return Q(e,n=n.slice(2),t,r,X);case"T":if(t="$"+n.slice(2),null==(e=e._tempRefs))throw Error("Missing a temporary reference set but the RSC response returned a temporary reference. Pass a temporaryReference option with the set that was used with the reply.");return e.get(t);case"Q":return Q(e,n=n.slice(2),t,r,ee);case"W":return Q(e,n=n.slice(2),t,r,et);case"B":return Q(e,n=n.slice(2),t,r,er);case"K":return Q(e,n=n.slice(2),t,r,en);case"Z":return ey();case"i":return Q(e,n=n.slice(2),t,r,ei);case"I":return 1/0;case"-":return"$-0"===n?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(n.slice(2)));case"n":return BigInt(n.slice(2));default:return Q(e,n=n.slice(1),t,r,eo)}}return n}function ea(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function el(e,t,r,n,i,o,s){var a=new Map;this._bundlerConfig=e,this._serverReferenceConfig=t,this._moduleLoading=r,this._callServer=void 0!==n?n:ea,this._encodeFormAction=i,this._nonce=o,this._chunks=a,this._stringDecoder=new TextDecoder,this._fromJSON=null,this._rowLength=this._rowTag=this._rowID=this._rowState=0,this._buffer=[],this._closed=!1,this._closedReason=null,this._tempRefs=s,this._fromJSON=ew(this)}function eu(e,t,r){var n=e._chunks,i=n.get(t);i&&"pending"!==i.status?i.reason.enqueueValue(r):n.set(t,new I("fulfilled",r,null,e))}function ec(e,t,r){var n=e._chunks,i=n.get(t);r=JSON.parse(r,e._fromJSON);var s=o(e._bundlerConfig,r);if(d(e._moduleLoading,r[1],e._nonce),r=c(s)){if(i){var a=i;a.status="blocked"}else a=new I("blocked",null,null,e),n.set(t,a);r.then(function(){return q(a,s)},function(e){return F(a,e)})}else i?q(i,s):n.set(t,new I("resolved_module",s,null,e))}function ef(e,t,r,n){var i=e._chunks,o=i.get(t);o?"pending"===o.status&&(e=o.value,o.status="fulfilled",o.value=r,o.reason=n,null!==e&&L(e,o.value)):i.set(t,new I("fulfilled",r,n,e))}function ed(e,t,r){var n=null;r=new ReadableStream({type:r,start:function(e){n=e}});var i=null;ef(e,t,r,{enqueueValue:function(e){null===i?n.enqueue(e):i.then(function(){n.enqueue(e)})},enqueueModel:function(t){if(null===i){var r=new I("resolved_model",t,null,e);V(r),"fulfilled"===r.status?n.enqueue(r.value):(r.then(function(e){return n.enqueue(e)},function(e){return n.error(e)}),i=r)}else{r=i;var o=D(e);o.then(function(e){return n.enqueue(e)},function(e){return n.error(e)}),i=o,r.then(function(){i===o&&(i=null),z(o,t)})}},close:function(){if(null===i)n.close();else{var e=i;i=null,e.then(function(){return n.close()})}},error:function(e){if(null===i)n.error(e);else{var t=i;i=null,t.then(function(){return n.error(e)})}}})}function eh(){return this}function ep(e){return(e={next:e})[b]=eh,e}function eg(e,t,r){var n=[],i=!1,o=0,s={};s[b]=function(){var t=0;return ep(function(r){if(void 0!==r)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(t===n.length){if(i)return new I("fulfilled",{done:!0,value:void 0},null,e);n[t]=D(e)}return n[t++]})},ef(e,t,r?s[b]():s,{enqueueValue:function(t){if(o===n.length)n[o]=new I("fulfilled",{done:!1,value:t},null,e);else{var r=n[o],i=r.value,s=r.reason;r.status="fulfilled",r.value={done:!1,value:t},null!==i&&B(r,i,s)}o++},enqueueModel:function(t){o===n.length?n[o]=$(e,t,!1):H(n[o],t,!1),o++},close:function(t){for(i=!0,o===n.length?n[o]=$(e,t,!0):H(n[o],t,!0),o++;o<n.length;)H(n[o++],'"$undefined"',!0)},error:function(t){for(i=!0,o===n.length&&(n[o]=D(e));o<n.length;)F(n[o++],t)}})}function ey(){var e=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.");return e.stack="Error: "+e.message,e}function em(e,t){for(var r=e.length,n=t.length,i=0;i<r;i++)n+=e[i].byteLength;n=new Uint8Array(n);for(var o=i=0;o<r;o++){var s=e[o];n.set(s,i),i+=s.byteLength}return n.set(t,i),n}function eb(e,t,r,n,i,o){eu(e,t,i=new i((r=0===r.length&&0==n.byteOffset%o?n:em(r,n)).buffer,r.byteOffset,r.byteLength/o))}function ev(e,t,r,n,o){switch(r){case 65:eu(e,t,em(n,o).buffer);return;case 79:eb(e,t,n,o,Int8Array,1);return;case 111:eu(e,t,0===n.length?o:em(n,o));return;case 85:eb(e,t,n,o,Uint8ClampedArray,1);return;case 83:eb(e,t,n,o,Int16Array,2);return;case 115:eb(e,t,n,o,Uint16Array,2);return;case 76:eb(e,t,n,o,Int32Array,4);return;case 108:eb(e,t,n,o,Uint32Array,4);return;case 71:eb(e,t,n,o,Float32Array,4);return;case 103:eb(e,t,n,o,Float64Array,8);return;case 77:eb(e,t,n,o,BigInt64Array,8);return;case 109:eb(e,t,n,o,BigUint64Array,8);return;case 86:eb(e,t,n,o,DataView,1);return}for(var s=e._stringDecoder,a="",l=0;l<n.length;l++)a+=s.decode(n[l],i);switch(n=a+=s.decode(o),r){case 73:ec(e,t,n);break;case 72:switch(t=n[0],e=JSON.parse(n=n.slice(1),e._fromJSON),n=h.d,t){case"D":n.D(e);break;case"C":"string"==typeof e?n.C(e):n.C(e[0],e[1]);break;case"L":t=e[0],r=e[1],3===e.length?n.L(t,r,e[2]):n.L(t,r);break;case"m":"string"==typeof e?n.m(e):n.m(e[0],e[1]);break;case"X":"string"==typeof e?n.X(e):n.X(e[0],e[1]);break;case"S":"string"==typeof e?n.S(e):n.S(e[0],0===e[1]?void 0:e[1],3===e.length?e[2]:void 0);break;case"M":"string"==typeof e?n.M(e):n.M(e[0],e[1])}break;case 69:r=JSON.parse(n),(n=ey()).digest=r.digest,(o=(r=e._chunks).get(t))?F(o,n):r.set(t,new I("rejected",null,n,e));break;case 84:(o=(r=e._chunks).get(t))&&"pending"!==o.status?o.reason.enqueueValue(n):r.set(t,new I("fulfilled",n,null,e));break;case 78:case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");case 82:ed(e,t,void 0);break;case 114:ed(e,t,"bytes");break;case 88:eg(e,t,!1);break;case 120:eg(e,t,!0);break;case 67:(e=e._chunks.get(t))&&"fulfilled"===e.status&&e.reason.close(""===n?'"$undefined"':n);break;default:(o=(r=e._chunks).get(t))?z(o,n):r.set(t,new I("resolved_model",n,null,e))}}function ew(e){return function(t,r){if("string"==typeof r)return es(e,this,t,r);if("object"==typeof r&&null!==r){if(r[0]===p){if(t={$$typeof:p,type:r[1],key:r[2],ref:null,props:r[3]},null!==W){if(W=(r=W).parent,r.errored)t=Y(t=new I("rejected",null,r.value,e));else if(0<r.deps){var n=new I("blocked",null,null,e);r.value=t,r.chunk=n,t=Y(n)}}}else t=r;return t}return r}}function eE(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function e_(e){return new el(e.serverConsumerManifest.moduleMap,e.serverConsumerManifest.serverModuleMap,e.serverConsumerManifest.moduleLoading,eE,e.encodeFormAction,"string"==typeof e.nonce?e.nonce:void 0,e&&e.temporaryReferences?e.temporaryReferences:void 0)}function ex(e,t){function r(t){var o=t.value;if(t.done)G(e,Error("Connection closed."));else{var s=0,a=e._rowState;t=e._rowID;for(var l=e._rowTag,u=e._rowLength,c=e._buffer,f=o.length;s<f;){var d=-1;switch(a){case 0:58===(d=o[s++])?a=1:t=t<<4|(96<d?d-87:d-48);continue;case 1:84===(a=o[s])||65===a||79===a||111===a||85===a||83===a||115===a||76===a||108===a||71===a||103===a||77===a||109===a||86===a?(l=a,a=2,s++):64<a&&91>a||35===a||114===a||120===a?(l=a,a=3,s++):(l=0,a=3);continue;case 2:44===(d=o[s++])?a=4:u=u<<4|(96<d?d-87:d-48);continue;case 3:d=o.indexOf(10,s);break;case 4:(d=s+u)>o.length&&(d=-1)}var h=o.byteOffset+s;if(-1<d)ev(e,t,l,c,u=new Uint8Array(o.buffer,h,d-s)),s=d,3===a&&s++,u=t=l=a=0,c.length=0;else{o=new Uint8Array(o.buffer,h,o.byteLength-s),c.push(o),u-=o.byteLength;break}}return e._rowState=a,e._rowID=t,e._rowTag=l,e._rowLength=u,i.read().then(r).catch(n)}}function n(t){G(e,t)}var i=t.getReader();i.read().then(r).catch(n)}t.createFromFetch=function(e,t){var r=e_(t);return e.then(function(e){ex(r,e.body)},function(e){G(r,e)}),J(r,0)},t.createFromReadableStream=function(e,t){return ex(t=e_(t),e),J(t,0)},t.createServerReference=function(e){return N(e,eE)},t.createTemporaryReferenceSet=function(){return new Map},t.encodeReply=function(e,t){return new Promise(function(r,n){var i=R(e,"",t&&t.temporaryReferences?t.temporaryReferences:void 0,r,n);if(t&&t.signal){var o=t.signal;if(o.aborted)i(o.reason);else{var s=function(){i(o.reason),o.removeEventListener("abort",s)};o.addEventListener("abort",s)}}})},t.registerServerReference=function(e,t,r){return k(e,t,null,r),e}},893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ClientPageRoot:function(){return c.ClientPageRoot},ClientSegmentRoot:function(){return f.ClientSegmentRoot},HTTPAccessFallbackBoundary:function(){return g.HTTPAccessFallbackBoundary},LayoutRouter:function(){return o.default},MetadataBoundary:function(){return b.MetadataBoundary},OutletBoundary:function(){return b.OutletBoundary},Postpone:function(){return w.Postpone},RenderFromTemplateContext:function(){return s.default},ViewportBoundary:function(){return b.ViewportBoundary},actionAsyncStorage:function(){return u.actionAsyncStorage},collectSegmentData:function(){return _.collectSegmentData},createMetadataComponents:function(){return y.createMetadataComponents},createPrerenderParamsForClientSegment:function(){return h.createPrerenderParamsForClientSegment},createPrerenderSearchParamsForClientPage:function(){return d.createPrerenderSearchParamsForClientPage},createServerParamsForMetadata:function(){return h.createServerParamsForMetadata},createServerParamsForServerSegment:function(){return h.createServerParamsForServerSegment},createServerSearchParamsForMetadata:function(){return d.createServerSearchParamsForMetadata},createServerSearchParamsForServerPage:function(){return d.createServerSearchParamsForServerPage},createTemporaryReferenceSet:function(){return n.createTemporaryReferenceSet},decodeAction:function(){return n.decodeAction},decodeFormState:function(){return n.decodeFormState},decodeReply:function(){return n.decodeReply},patchFetch:function(){return O},preconnect:function(){return v.preconnect},preloadFont:function(){return v.preloadFont},preloadStyle:function(){return v.preloadStyle},prerender:function(){return i.unstable_prerender},renderToReadableStream:function(){return n.renderToReadableStream},serverHooks:function(){return p},taintObjectReference:function(){return E.taintObjectReference},workAsyncStorage:function(){return a.workAsyncStorage},workUnitAsyncStorage:function(){return l.workUnitAsyncStorage}});let n=r(2907),i=r(3972),o=x(r(9345)),s=x(r(1307)),a=r(9294),l=r(3033),u=r(9121),c=r(6444),f=r(6042),d=r(3091),h=r(3102),p=S(r(8479)),g=r(9477),y=r(9521),m=r(7719);r(8170);let b=r(6577),v=r(2900),w=r(1068),E=r(6844),_=r(8938);function x(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(R=function(e){return e?r:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=R(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function O(){return(0,m.patchFetch)({workAsyncStorage:a.workAsyncStorage,workUnitAsyncStorage:l.workUnitAsyncStorage})}},929:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(6358).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1068:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Postpone",{enumerable:!0,get:function(){return n.Postpone}});let n=r(4971)},1094:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCacheNode=void 0;class r{constructor(e,t,r){let{entryExpirationTimeInMS:n=null,next:i=null,prev:o=null,onEntryEvicted:s,onEntryMarkedAsMostRecentlyUsed:a,clone:l,cloneFn:u}=null!=r?r:{};if("number"==typeof n&&(n<=0||Number.isNaN(n)))throw Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.clone=null!=l&&l,this.cloneFn=null!=u?u:this.defaultClone,this.key=e,this.internalValue=this.clone?this.cloneFn(t):t,this.created=Date.now(),this.entryExpirationTimeInMS=n,this.next=i,this.prev=o,this.onEntryEvicted=s,this.onEntryMarkedAsMostRecentlyUsed=a}get value(){return this.clone?this.cloneFn(this.internalValue):this.internalValue}get isExpired(){return"number"==typeof this.entryExpirationTimeInMS&&Date.now()-this.created>this.entryExpirationTimeInMS}invokeOnEvicted(){if(this.onEntryEvicted){let{key:e,value:t,isExpired:r}=this;this.onEntryEvicted({key:e,value:t,isExpired:r})}}invokeOnEntryMarkedAsMostRecentlyUsed(){if(this.onEntryMarkedAsMostRecentlyUsed){let{key:e,value:t}=this;this.onEntryMarkedAsMostRecentlyUsed({key:e,value:t})}}defaultClone(e){return"boolean"==typeof e||"string"==typeof e||"number"==typeof e?e:JSON.parse(JSON.stringify(e))}}t.LRUCacheNode=r},1162:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return o}});let n=r(8704),i=r(9026);function o(e){return(0,i.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return n},isBailoutToCSRError:function(){return i}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class n extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},1215:(e,t,r)=>{"use strict";e.exports=r(4041).vendored["react-ssr"].ReactDOM},1261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return a}});let n=r(4985),i=r(4953),o=r(6533),s=n._(r(1933));function a(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=o.Image},1264:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return a},useServerActionDispatcher:function(){return s}});let n=r(3210),i=r(9154),o=null;function s(e){o=(0,n.useCallback)(t=>{(0,n.startTransition)(()=>{e({...t,type:i.ACTION_SERVER_ACTION})})},[e])}async function a(e,t){let r=o;if(!r)throw Object.defineProperty(Error("Invariant: missing action dispatcher."),"__NEXT_ERROR_CODE",{value:"E507",enumerable:!1,configurable:!0});return new Promise((n,i)=>{r({actionId:e,actionArgs:t,resolve:n,reject:i})})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1268:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=r(6632):e.exports=r(678)},1307:(e,t,r)=>{let{createProxy:n}=r(9844);e.exports=n("/home/lfg/Git/Madtrips/node_modules/next/dist/client/components/render-from-template-context.js")},1448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"findSourceMapURL",{enumerable:!0,get:function(){return r}});let r=void 0;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1480:(e,t)=>{"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:n,blurHeight:i,blurDataURL:o,objectFit:s}=e,a=n?40*n:t,l=i?40*i:r,u=a&&l?"viewBox='0 0 "+a+" "+l+"'":"",c=u?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+c+"' style='filter: url(%23b);' href='"+o+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},1500:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fillLazyItemsTillLeafWithHead",{enumerable:!0,get:function(){return o}});let n=r(3123),i=r(9154);function o(e,t,r,s,a,l){if(0===Object.keys(r[1]).length){e.head=a;return}for(let u in r[1]){let c;let f=r[1][u],d=f[0],h=(0,n.createRouterCacheKey)(d),p=null!==s&&void 0!==s[2][u]?s[2][u]:null;if(t){let r=t.parallelRoutes.get(u);if(r){let t;let n=(null==l?void 0:l.kind)==="auto"&&l.status===i.PrefetchCacheEntryStatus.reusable,s=new Map(r),c=s.get(h);t=null!==p?{lazyData:null,rsc:p[1],prefetchRsc:null,head:null,prefetchHead:null,loading:p[3],parallelRoutes:new Map(null==c?void 0:c.parallelRoutes)}:n&&c?{lazyData:c.lazyData,rsc:c.rsc,prefetchRsc:c.prefetchRsc,head:c.head,prefetchHead:c.prefetchHead,parallelRoutes:new Map(c.parallelRoutes),loading:c.loading}:{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map(null==c?void 0:c.parallelRoutes),loading:null},s.set(h,t),o(t,c,f,p||null,a,l),e.parallelRoutes.set(u,s);continue}}if(null!==p){let e=p[1],t=p[3];c={lazyData:null,rsc:e,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:t}}else c={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null};let g=e.parallelRoutes.get(u);g?g.set(h,c):e.parallelRoutes.set(u,new Map([[h,c]])),o(c,void 0,f,p,a,l)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useSyncDevRenderIndicator",{enumerable:!0,get:function(){return n}});let r=e=>e(),n=()=>r;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1550:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},1563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_HEADER:function(){return n},FLIGHT_HEADERS:function(){return c},NEXT_DID_POSTPONE_HEADER:function(){return h},NEXT_HMR_REFRESH_HEADER:function(){return a},NEXT_IS_PRERENDER_HEADER:function(){return y},NEXT_REWRITTEN_PATH_HEADER:function(){return p},NEXT_REWRITTEN_QUERY_HEADER:function(){return g},NEXT_ROUTER_PREFETCH_HEADER:function(){return o},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return s},NEXT_ROUTER_STALE_TIME_HEADER:function(){return d},NEXT_ROUTER_STATE_TREE_HEADER:function(){return i},NEXT_RSC_UNION_QUERY:function(){return f},NEXT_URL:function(){return l},RSC_CONTENT_TYPE_HEADER:function(){return u},RSC_HEADER:function(){return r}});let r="RSC",n="Next-Action",i="Next-Router-State-Tree",o="Next-Router-Prefetch",s="Next-Router-Segment-Prefetch",a="Next-HMR-Refresh",l="Next-Url",u="text/x-component",c=[r,i,o,a,s],f="_rsc",d="x-nextjs-stale-time",h="x-nextjs-postponed",p="x-nextjs-rewritten-path",g="x-nextjs-rewritten-query",y="x-nextjs-prerender";("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1611:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9102),t)},1709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bootstrap:function(){return l},error:function(){return c},event:function(){return p},info:function(){return h},prefixes:function(){return o},ready:function(){return d},trace:function(){return g},wait:function(){return u},warn:function(){return f},warnOnce:function(){return m}});let n=r(5317),i=r(8522),o={wait:(0,n.white)((0,n.bold)("")),error:(0,n.red)((0,n.bold)("")),warn:(0,n.yellow)((0,n.bold)("")),ready:"",info:(0,n.white)((0,n.bold)(" ")),event:(0,n.green)((0,n.bold)("")),trace:(0,n.magenta)((0,n.bold)("\xbb"))},s={log:"log",warn:"warn",error:"error"};function a(e,...t){(""===t[0]||void 0===t[0])&&1===t.length&&t.shift();let r=e in s?s[e]:"log",n=o[e];0===t.length?console[r](""):1===t.length&&"string"==typeof t[0]?console[r](" "+n+" "+t[0]):console[r](" "+n,...t)}function l(...e){console.log("   "+e.join(" "))}function u(...e){a("wait",...e)}function c(...e){a("error",...e)}function f(...e){a("warn",...e)}function d(...e){a("ready",...e)}function h(...e){a("info",...e)}function p(...e){a("event",...e)}function g(...e){a("trace",...e)}let y=new i.LRUCache(1e4,e=>e.length);function m(...e){let t=e.join(" ");y.has(t)||(y.set(t,t),f(...e))}},1765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HTTPAccessErrorFallback",{enumerable:!0,get:function(){return o}}),r(2639);let n=r(7413);r(1120);let i={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block"},h1:{display:"inline-block",margin:"0 20px 0 0",padding:"0 23px 0 0",fontSize:24,fontWeight:500,verticalAlign:"top",lineHeight:"49px"},h2:{fontSize:14,fontWeight:400,lineHeight:"49px",margin:0}};function o(e){let{status:t,message:r}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("title",{children:t+": "+r}),(0,n.jsx)("div",{style:i.error,children:(0,n.jsxs)("div",{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}),(0,n.jsx)("h1",{className:"next-error-h1",style:i.h1,children:t}),(0,n.jsx)("div",{style:i.desc,children:(0,n.jsx)("h2",{style:i.h2,children:r})})]})})]})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1804:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AppLinksMeta:function(){return a},OpenGraphMetadata:function(){return i},TwitterMetadata:function(){return s}});let n=r(407);function i({openGraph:e}){var t,r,i,o,s,a,l;let u;if(!e)return null;if("type"in e){let t=e.type;switch(t){case"website":u=[(0,n.Meta)({property:"og:type",content:"website"})];break;case"article":u=[(0,n.Meta)({property:"og:type",content:"article"}),(0,n.Meta)({property:"article:published_time",content:null==(o=e.publishedTime)?void 0:o.toString()}),(0,n.Meta)({property:"article:modified_time",content:null==(s=e.modifiedTime)?void 0:s.toString()}),(0,n.Meta)({property:"article:expiration_time",content:null==(a=e.expirationTime)?void 0:a.toString()}),(0,n.MultiMeta)({propertyPrefix:"article:author",contents:e.authors}),(0,n.Meta)({property:"article:section",content:e.section}),(0,n.MultiMeta)({propertyPrefix:"article:tag",contents:e.tags})];break;case"book":u=[(0,n.Meta)({property:"og:type",content:"book"}),(0,n.Meta)({property:"book:isbn",content:e.isbn}),(0,n.Meta)({property:"book:release_date",content:e.releaseDate}),(0,n.MultiMeta)({propertyPrefix:"book:author",contents:e.authors}),(0,n.MultiMeta)({propertyPrefix:"book:tag",contents:e.tags})];break;case"profile":u=[(0,n.Meta)({property:"og:type",content:"profile"}),(0,n.Meta)({property:"profile:first_name",content:e.firstName}),(0,n.Meta)({property:"profile:last_name",content:e.lastName}),(0,n.Meta)({property:"profile:username",content:e.username}),(0,n.Meta)({property:"profile:gender",content:e.gender})];break;case"music.song":u=[(0,n.Meta)({property:"og:type",content:"music.song"}),(0,n.Meta)({property:"music:duration",content:null==(l=e.duration)?void 0:l.toString()}),(0,n.MultiMeta)({propertyPrefix:"music:album",contents:e.albums}),(0,n.MultiMeta)({propertyPrefix:"music:musician",contents:e.musicians})];break;case"music.album":u=[(0,n.Meta)({property:"og:type",content:"music.album"}),(0,n.MultiMeta)({propertyPrefix:"music:song",contents:e.songs}),(0,n.MultiMeta)({propertyPrefix:"music:musician",contents:e.musicians}),(0,n.Meta)({property:"music:release_date",content:e.releaseDate})];break;case"music.playlist":u=[(0,n.Meta)({property:"og:type",content:"music.playlist"}),(0,n.MultiMeta)({propertyPrefix:"music:song",contents:e.songs}),(0,n.MultiMeta)({propertyPrefix:"music:creator",contents:e.creators})];break;case"music.radio_station":u=[(0,n.Meta)({property:"og:type",content:"music.radio_station"}),(0,n.MultiMeta)({propertyPrefix:"music:creator",contents:e.creators})];break;case"video.movie":u=[(0,n.Meta)({property:"og:type",content:"video.movie"}),(0,n.MultiMeta)({propertyPrefix:"video:actor",contents:e.actors}),(0,n.MultiMeta)({propertyPrefix:"video:director",contents:e.directors}),(0,n.MultiMeta)({propertyPrefix:"video:writer",contents:e.writers}),(0,n.Meta)({property:"video:duration",content:e.duration}),(0,n.Meta)({property:"video:release_date",content:e.releaseDate}),(0,n.MultiMeta)({propertyPrefix:"video:tag",contents:e.tags})];break;case"video.episode":u=[(0,n.Meta)({property:"og:type",content:"video.episode"}),(0,n.MultiMeta)({propertyPrefix:"video:actor",contents:e.actors}),(0,n.MultiMeta)({propertyPrefix:"video:director",contents:e.directors}),(0,n.MultiMeta)({propertyPrefix:"video:writer",contents:e.writers}),(0,n.Meta)({property:"video:duration",content:e.duration}),(0,n.Meta)({property:"video:release_date",content:e.releaseDate}),(0,n.MultiMeta)({propertyPrefix:"video:tag",contents:e.tags}),(0,n.Meta)({property:"video:series",content:e.series})];break;case"video.tv_show":u=[(0,n.Meta)({property:"og:type",content:"video.tv_show"})];break;case"video.other":u=[(0,n.Meta)({property:"og:type",content:"video.other"})];break;default:let r=t;throw Object.defineProperty(Error(`Invalid OpenGraph type: ${r}`),"__NEXT_ERROR_CODE",{value:"E237",enumerable:!1,configurable:!0})}}return(0,n.MetaFilter)([(0,n.Meta)({property:"og:determiner",content:e.determiner}),(0,n.Meta)({property:"og:title",content:null==(t=e.title)?void 0:t.absolute}),(0,n.Meta)({property:"og:description",content:e.description}),(0,n.Meta)({property:"og:url",content:null==(r=e.url)?void 0:r.toString()}),(0,n.Meta)({property:"og:site_name",content:e.siteName}),(0,n.Meta)({property:"og:locale",content:e.locale}),(0,n.Meta)({property:"og:country_name",content:e.countryName}),(0,n.Meta)({property:"og:ttl",content:null==(i=e.ttl)?void 0:i.toString()}),(0,n.MultiMeta)({propertyPrefix:"og:image",contents:e.images}),(0,n.MultiMeta)({propertyPrefix:"og:video",contents:e.videos}),(0,n.MultiMeta)({propertyPrefix:"og:audio",contents:e.audio}),(0,n.MultiMeta)({propertyPrefix:"og:email",contents:e.emails}),(0,n.MultiMeta)({propertyPrefix:"og:phone_number",contents:e.phoneNumbers}),(0,n.MultiMeta)({propertyPrefix:"og:fax_number",contents:e.faxNumbers}),(0,n.MultiMeta)({propertyPrefix:"og:locale:alternate",contents:e.alternateLocale}),...u||[]])}function o({app:e,type:t}){var r,i;return[(0,n.Meta)({name:`twitter:app:name:${t}`,content:e.name}),(0,n.Meta)({name:`twitter:app:id:${t}`,content:e.id[t]}),(0,n.Meta)({name:`twitter:app:url:${t}`,content:null==(i=e.url)?void 0:null==(r=i[t])?void 0:r.toString()})]}function s({twitter:e}){var t;if(!e)return null;let{card:r}=e;return(0,n.MetaFilter)([(0,n.Meta)({name:"twitter:card",content:r}),(0,n.Meta)({name:"twitter:site",content:e.site}),(0,n.Meta)({name:"twitter:site:id",content:e.siteId}),(0,n.Meta)({name:"twitter:creator",content:e.creator}),(0,n.Meta)({name:"twitter:creator:id",content:e.creatorId}),(0,n.Meta)({name:"twitter:title",content:null==(t=e.title)?void 0:t.absolute}),(0,n.Meta)({name:"twitter:description",content:e.description}),(0,n.MultiMeta)({namePrefix:"twitter:image",contents:e.images}),..."player"===r?e.players.flatMap(e=>[(0,n.Meta)({name:"twitter:player",content:e.playerUrl.toString()}),(0,n.Meta)({name:"twitter:player:stream",content:e.streamUrl.toString()}),(0,n.Meta)({name:"twitter:player:width",content:e.width}),(0,n.Meta)({name:"twitter:player:height",content:e.height})]):[],..."app"===r?[o({app:e.app,type:"iphone"}),o({app:e.app,type:"ipad"}),o({app:e.app,type:"googleplay"})]:[]])}function a({appLinks:e}){return e?(0,n.MetaFilter)([(0,n.MultiMeta)({propertyPrefix:"al:ios",contents:e.ios}),(0,n.MultiMeta)({propertyPrefix:"al:iphone",contents:e.iphone}),(0,n.MultiMeta)({propertyPrefix:"al:ipad",contents:e.ipad}),(0,n.MultiMeta)({propertyPrefix:"al:android",contents:e.android}),(0,n.MultiMeta)({propertyPrefix:"al:windows_phone",contents:e.windows_phone}),(0,n.MultiMeta)({propertyPrefix:"al:windows",contents:e.windows}),(0,n.MultiMeta)({propertyPrefix:"al:windows_universal",contents:e.windows_universal}),(0,n.MultiMeta)({propertyPrefix:"al:web",contents:e.web})]):null}},1846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return n},isBailoutToCSRError:function(){return i}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class n extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},1933:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=75;function n(e){var t;let{config:n,src:i,width:o,quality:s}=e,a=s||(null==(t=n.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e))||r;return n.path+"?url="+encodeURIComponent(i)+"&w="+o+"&q="+a+(i.startsWith("/_next/static/media/"),"")}n.__next_img_default=!0;let i=n},1992:(e,t)=>{"use strict";function r(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isThenable",{enumerable:!0,get:function(){return r}})},2030:(e,t)=>{"use strict";function r(e,t){let n=e[0],i=t[0];if(Array.isArray(n)&&Array.isArray(i)){if(n[0]!==i[0]||n[2]!==i[2])return!0}else if(n!==i)return!0;if(e[4])return!t[4];if(t[4])return!0;let o=Object.values(e[1])[0],s=Object.values(t[1])[0];return!o||!s||r(o,s)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNavigatingToNewRootLayout",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2089:(e,t,r)=>{let{createProxy:n}=r(9844);e.exports=n("/home/lfg/Git/Madtrips/node_modules/next/dist/client/components/metadata/async-metadata.js")},2113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return n},isDynamicServerError:function(){return i}});let r="DYNAMIC_SERVER_USAGE";class n extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2142:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.AppRouterContext},2250:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_d65c78"}},2255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let n=r(1550);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},2292:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return u}});let n=r(8238),i=r(6299),o=r(1208),s=r(8092),a=r(4717),l=r(2113);function u(e){if((0,s.isNextRouterError)(e)||(0,o.isBailoutToCSRError)(e)||(0,l.isDynamicServerError)(e)||(0,a.isDynamicPostpone)(e)||(0,i.isPostpone)(e)||(0,n.isHangingPromiseRejectionError)(e))throw e;e instanceof Error&&"cause"in e&&u(e.cause)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2308:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{addRefreshMarkerToActiveParallelSegments:function(){return l},refreshInactiveParallelSegments:function(){return s}});let n=r(6928),i=r(9008),o=r(3913);async function s(e){let t=new Set;await a({...e,rootTree:e.updatedTree,fetchedSegments:t})}async function a(e){let{state:t,updatedTree:r,updatedCache:o,includeNextUrl:s,fetchedSegments:l,rootTree:u=r,canonicalUrl:c}=e,[,f,d,h]=r,p=[];if(d&&d!==c&&"refresh"===h&&!l.has(d)){l.add(d);let e=(0,i.fetchServerResponse)(new URL(d,location.origin),{flightRouterState:[u[0],u[1],u[2],"refetch"],nextUrl:s?t.nextUrl:null}).then(e=>{let{flightData:t}=e;if("string"!=typeof t)for(let e of t)(0,n.applyFlightData)(o,o,e)});p.push(e)}for(let e in f){let r=a({state:t,updatedTree:f[e],updatedCache:o,includeNextUrl:s,fetchedSegments:l,rootTree:u,canonicalUrl:c});p.push(r)}await Promise.all(p)}function l(e,t){let[r,n,,i]=e;for(let s in r.includes(o.PAGE_SEGMENT_KEY)&&"refresh"!==i&&(e[2]=t,e[3]="refresh"),n)l(n[s],t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2392:(e,t,r)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function i(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(e,...t){if(!o(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function l(e,t){s(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(t,{CG:()=>l,aY:()=>o,ai:()=>n,ee:()=>s,lc:()=>i,t2:()=>a})},2513:(e,t,r)=>{"use strict";e.exports=r(884)},2586:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getComponentTypeModule:function(){return o},getLayoutOrPageModule:function(){return i}});let n=r(5499);async function i(e){let t,r,i;let{layout:o,page:s,defaultPage:a}=e[2],l=void 0!==o,u=void 0!==s,c=void 0!==a&&e[0]===n.DEFAULT_SEGMENT_KEY;return l?(t=await o[0](),r="layout",i=o[1]):u?(t=await s[0](),r="page",i=s[1]):c&&(t=await a[0](),r="page",i=a[1]),{mod:t,modType:r,filePath:i}}async function o(e,t){let{[t]:r}=e[2];if(void 0!==r)return await r[0]()}},2637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return n}});let r=Symbol.for("react.postpone");function n(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}},2639:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.r(t),r.d(t,{_:()=>n})},2706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{accumulateMetadata:function(){return I},accumulateViewport:function(){return U},resolveMetadata:function(){return D},resolveViewport:function(){return L}}),r(4822);let n=r(1120),i=r(7697),o=r(6483),s=r(7373),a=r(7341),l=r(2586),u=r(6255),c=r(6536),f=r(7181),d=r(1289),h=r(4823),p=r(5499),g=m(r(1709));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function b(e){return!!e&&("/favicon.ico"===e.url||e.url.toString().startsWith("/favicon.ico?"))&&"image/x-icon"===e.type}function v(e,t,r,n,i,s){var a,l;if(!r)return;let{icon:u,apple:c,openGraph:f,twitter:d,manifest:h}=r;if(u&&(s.icon=u),c&&(s.apple=c),d&&!(null==e?void 0:null==(a=e.twitter)?void 0:a.hasOwnProperty("images"))){let e=(0,o.resolveTwitter)({...t.twitter,images:d},t.metadataBase,{...n,isStaticMetadataRouteFile:!0},i.twitter);t.twitter=e}if(f&&!(null==e?void 0:null==(l=e.openGraph)?void 0:l.hasOwnProperty("images"))){let e=(0,o.resolveOpenGraph)({...t.openGraph,images:f},t.metadataBase,{...n,isStaticMetadataRouteFile:!0},i.openGraph);t.openGraph=e}return h&&(t.manifest=h),t}function w({source:e,target:t,staticFilesMetadata:r,titleTemplates:n,metadataContext:i,buildState:l,leafSegmentStaticIcons:u}){let d=void 0!==(null==e?void 0:e.metadataBase)?e.metadataBase:t.metadataBase;for(let r in e){let u=r;switch(u){case"title":t.title=(0,s.resolveTitle)(e.title,n.title);break;case"alternates":t.alternates=(0,c.resolveAlternates)(e.alternates,d,i);break;case"openGraph":t.openGraph=(0,o.resolveOpenGraph)(e.openGraph,d,i,n.openGraph);break;case"twitter":t.twitter=(0,o.resolveTwitter)(e.twitter,d,i,n.twitter);break;case"facebook":t.facebook=(0,c.resolveFacebook)(e.facebook);break;case"verification":t.verification=(0,c.resolveVerification)(e.verification);break;case"icons":t.icons=(0,f.resolveIcons)(e.icons);break;case"appleWebApp":t.appleWebApp=(0,c.resolveAppleWebApp)(e.appleWebApp);break;case"appLinks":t.appLinks=(0,c.resolveAppLinks)(e.appLinks);break;case"robots":t.robots=(0,c.resolveRobots)(e.robots);break;case"archives":case"assets":case"bookmarks":case"keywords":t[u]=(0,a.resolveAsArrayOrUndefined)(e[u]);break;case"authors":t[u]=(0,a.resolveAsArrayOrUndefined)(e.authors);break;case"itunes":t[u]=(0,c.resolveItunes)(e.itunes,d,i);break;case"pagination":t.pagination=(0,c.resolvePagination)(e.pagination,d,i);break;case"applicationName":case"description":case"generator":case"creator":case"publisher":case"category":case"classification":case"referrer":case"formatDetection":case"manifest":t[u]=e[u]||null;break;case"other":t.other=Object.assign({},t.other,e.other);break;case"metadataBase":t.metadataBase=d;break;default:("viewport"===u||"themeColor"===u||"colorScheme"===u)&&null!=e[u]&&l.warnings.add(`Unsupported metadata ${u} is configured in metadata export in ${i.pathname}. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport`)}}v(e,t,r,i,n,u)}function E({target:e,source:t}){if(t)for(let r in t){let n=r;switch(n){case"themeColor":e.themeColor=(0,c.resolveThemeColor)(t.themeColor);break;case"colorScheme":e.colorScheme=t.colorScheme||null;break;default:e[n]=t[n]}}}function _(e,t,r){if("function"==typeof e.generateViewport){let{route:n}=r;return r=>(0,d.getTracer)().trace(h.ResolveMetadataSpan.generateViewport,{spanName:`generateViewport ${n}`,attributes:{"next.page":n}},()=>e.generateViewport(t,r))}return e.viewport||null}function x(e,t,r){if("function"==typeof e.generateMetadata){let{route:n}=r;return r=>(0,d.getTracer)().trace(h.ResolveMetadataSpan.generateMetadata,{spanName:`generateMetadata ${n}`,attributes:{"next.page":n}},()=>e.generateMetadata(t,r))}return e.metadata||null}async function R(e,t,r){var n;if(!(null==e?void 0:e[r]))return;let i=e[r].map(async e=>(0,u.interopDefault)(await e(t)));return(null==i?void 0:i.length)>0?null==(n=await Promise.all(i))?void 0:n.flat():void 0}async function S(e,t){let{metadata:r}=e;if(!r)return null;let[n,i,o,s]=await Promise.all([R(r,t,"icon"),R(r,t,"apple"),R(r,t,"openGraph"),R(r,t,"twitter")]);return{icon:n,apple:i,openGraph:o,twitter:s,manifest:r.manifest}}async function O({tree:e,metadataItems:t,errorMetadataItem:r,props:n,route:i,errorConvention:o}){let s,a;let u=!!(o&&e[2][o]);if(o)s=await (0,l.getComponentTypeModule)(e,"layout"),a=o;else{let{mod:t,modType:r}=await (0,l.getLayoutOrPageModule)(e);s=t,a=r}a&&(i+=`/${a}`);let c=await S(e[2],n),f=s?x(s,n,{route:i}):null,d=s?_(s,n,{route:i}):null;if(t.push([f,c,d]),u&&o){let t=await (0,l.getComponentTypeModule)(e,o),s=t?_(t,n,{route:i}):null,a=t?x(t,n,{route:i}):null;r[0]=a,r[1]=c,r[2]=s}}let P=(0,n.cache)(async function(e,t,r,n,i,o){return A([],e,void 0,{},t,r,[null,null,null],n,i,o)});async function A(e,t,r,n,i,o,s,a,l,u){let c;let[f,d,{page:h}]=t,g=r&&r.length?[...r,f]:[f],y=void 0!==h,m=a(f),b=n;m&&null!==m.value&&(b={...n,[m.param]:m.value});let v=l(b,u);for(let r in c=y?{params:v,searchParams:i}:{params:v},await O({tree:t,metadataItems:e,errorMetadataItem:s,errorConvention:o,props:c,route:g.filter(e=>e!==p.PAGE_SEGMENT_KEY).join("/")}),d){let t=d[r];await A(e,t,g,b,i,o,s,a,l,u)}return 0===Object.keys(d).length&&o&&e.push(s),e}let k=e=>!!(null==e?void 0:e.absolute),T=e=>k(null==e?void 0:e.title);function M(e,t){e&&(!T(e)&&T(t)&&(e.title=t.title),!e.description&&t.description&&(e.description=t.description))}function j(e,t,r,n){let{openGraph:i,twitter:s}=e;if(i){let t={},a=T(s),l=null==s?void 0:s.description,u=!!((null==s?void 0:s.hasOwnProperty("images"))&&s.images);if(!a&&(k(i.title)?t.title=i.title:e.title&&k(e.title)&&(t.title=e.title)),l||(t.description=i.description||e.description||void 0),u||(t.images=i.images),Object.keys(t).length>0){let i=(0,o.resolveTwitter)(t,e.metadataBase,n,r.twitter);e.twitter?e.twitter=Object.assign({},e.twitter,{...!a&&{title:null==i?void 0:i.title},...!l&&{description:null==i?void 0:i.description},...!u&&{images:null==i?void 0:i.images}}):e.twitter=i}}return M(i,e),M(s,e),t&&(e.icons||(e.icons={icon:[],apple:[]}),e.icons.icon.unshift(t)),e}function C(e,t,r){let n=t(new Promise(e=>{r.push(e)}));n instanceof Promise&&n.catch(e=>({__nextError:e})),e.push(n)}async function N(e,t,r,n,i,o){let s=e(r[n]),a=t.resolvers,l=null;if("function"==typeof s){if(!a.length)for(let t=n;t<r.length;t++){let n=e(r[t]);"function"==typeof n&&C(o,n,a)}let s=a[t.resolvingIndex],u=o[t.resolvingIndex++];if(s(i),(l=u instanceof Promise?await u:u)&&"object"==typeof l&&"__nextError"in l)throw l.__nextError}else null!==s&&"object"==typeof s&&(l=s);return l}async function I(e,t){let r;let n=(0,i.createDefaultMetadata)(),o=[],s={title:null,twitter:null,openGraph:null},a={resolvers:[],resolvingIndex:0},l={warnings:new Set},u={icon:[],apple:[]};for(let i=0;i<e.length;i++){var c,f,d,h,p;let g=e[i][1];if(i<=1&&b(null==g?void 0:null==(c=g.icon)?void 0:c[0])){let e=null==g?void 0:null==(f=g.icon)?void 0:f.shift();0===i&&(r=e)}let y=await N(e=>e[0],a,e,i,n,o);w({target:n,source:y,metadataContext:t,staticFilesMetadata:g,titleTemplates:s,buildState:l,leafSegmentStaticIcons:u}),i<e.length-2&&(s={title:(null==(d=n.title)?void 0:d.template)||null,openGraph:(null==(h=n.openGraph)?void 0:h.title.template)||null,twitter:(null==(p=n.twitter)?void 0:p.title.template)||null})}if((u.icon.length>0||u.apple.length>0)&&!n.icons&&(n.icons={icon:[],apple:[]},u.icon.length>0&&n.icons.icon.unshift(...u.icon),u.apple.length>0&&n.icons.apple.unshift(...u.apple)),l.warnings.size>0)for(let e of l.warnings)g.warn(e);return j(n,r,s,t)}async function U(e){let t=(0,i.createDefaultViewport)(),r=[],n={resolvers:[],resolvingIndex:0};for(let i=0;i<e.length;i++){let o=await N(e=>e[2],n,e,i,t,r);E({target:t,source:o})}return t}async function D(e,t,r,n,i,o,s){return I(await P(e,t,r,n,i,o),s)}async function L(e,t,r,n,i,o){return U(await P(e,t,r,n,i,o))}},2713:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createFlightReactServerErrorHandler:function(){return p},createHTMLErrorHandler:function(){return y},createHTMLReactServerErrorHandler:function(){return g},getDigestForWellKnownError:function(){return h},isUserLandError:function(){return m}});let n=d(r(7839)),i=r(7308),o=r(1289),s=r(2471),a=r(1846),l=r(8479),u=r(1162),c=r(5715),f=r(6526);function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if((0,a.isBailoutToCSRError)(e)||(0,u.isNextRouterError)(e)||(0,l.isDynamicServerError)(e))return e.digest}function p(e,t){return r=>{if("string"==typeof r)return(0,n.default)(r).toString();if((0,s.isAbortError)(r))return;let a=h(r);if(a)return a;let l=(0,c.getProperError)(r);l.digest||(l.digest=(0,n.default)(l.message+l.stack||"").toString()),e&&(0,i.formatServerError)(l);let u=(0,o.getTracer)().getActiveScopeSpan();return u&&(u.recordException(l),u.setStatus({code:o.SpanStatusCode.ERROR,message:l.message})),t(l),(0,f.createDigestWithErrorCode)(r,l.digest)}}function g(e,t,r,a,l){return u=>{var d;if("string"==typeof u)return(0,n.default)(u).toString();if((0,s.isAbortError)(u))return;let p=h(u);if(p)return p;let g=(0,c.getProperError)(u);if(g.digest||(g.digest=(0,n.default)(g.message+(g.stack||"")).toString()),r.has(g.digest)||r.set(g.digest,g),e&&(0,i.formatServerError)(g),!(t&&(null==g?void 0:null==(d=g.message)?void 0:d.includes("The specific message is omitted in production builds to avoid leaking sensitive details.")))){let e=(0,o.getTracer)().getActiveScopeSpan();e&&(e.recordException(g),e.setStatus({code:o.SpanStatusCode.ERROR,message:g.message})),a||null==l||l(g)}return(0,f.createDigestWithErrorCode)(u,g.digest)}}function y(e,t,r,a,l,u){return(d,p)=>{var g;let y=!0;if(a.push(d),(0,s.isAbortError)(d))return;let m=h(d);if(m)return m;let b=(0,c.getProperError)(d);if(b.digest?r.has(b.digest)&&(d=r.get(b.digest),y=!1):b.digest=(0,n.default)(b.message+((null==p?void 0:p.componentStack)||b.stack||"")).toString(),e&&(0,i.formatServerError)(b),!(t&&(null==b?void 0:null==(g=b.message)?void 0:g.includes("The specific message is omitted in production builds to avoid leaking sensitive details.")))){let e=(0,o.getTracer)().getActiveScopeSpan();e&&(e.recordException(b),e.setStatus({code:o.SpanStatusCode.ERROR,message:b.message})),!l&&y&&u(b,p)}return(0,f.createDigestWithErrorCode)(d,b.digest)}}function m(e){return!(0,s.isAbortError)(e)&&!(0,a.isBailoutToCSRError)(e)&&!(0,u.isNextRouterError)(e)}},2756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return n}});let r=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},2763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MetadataBoundary:function(){return o},OutletBoundary:function(){return a},ViewportBoundary:function(){return s}});let n=r(4207),i={[n.METADATA_BOUNDARY_NAME]:function(e){let{children:t}=e;return t},[n.VIEWPORT_BOUNDARY_NAME]:function(e){let{children:t}=e;return t},[n.OUTLET_BOUNDARY_NAME]:function(e){let{children:t}=e;return t}},o=i[n.METADATA_BOUNDARY_NAME.slice(0)],s=i[n.VIEWPORT_BOUNDARY_NAME.slice(0)],a=i[n.OUTLET_BOUNDARY_NAME.slice(0)];("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2776:(e,t,r)=>{"use strict";function n(e){return!1}function i(){}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{handleHardNavError:function(){return n},useNavFailureHandler:function(){return i}}),r(3210),r(7391),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{atLeastOneTask:function(){return i},scheduleImmediate:function(){return n},scheduleOnNextTick:function(){return r},waitAtLeastOneReactRenderTask:function(){return o}});let r=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},n=e=>{setImmediate(e)};function i(){return new Promise(e=>n(e))}function o(){return new Promise(e=>setImmediate(e))}},2836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}});var r=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return i},extractInterceptionRouteInformation:function(){return s},isInterceptionRouteAppPath:function(){return o}});let n=r(9444),i=["(..)(..)","(.)","(..)","(...)"];function o(e){return void 0!==e.split("/").find(e=>i.find(t=>e.startsWith(t)))}function s(e){let t,r,o;for(let n of e.split("/"))if(r=i.find(e=>n.startsWith(e))){[t,o]=e.split(r,2);break}if(!t||!r||!o)throw Object.defineProperty(Error("Invalid interception route: "+e+". Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>"),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(t=(0,n.normalizeAppPath)(t),r){case"(.)":o="/"===t?"/"+o:t+"/"+o;break;case"(..)":if("/"===t)throw Object.defineProperty(Error("Invalid interception route: "+e+". Cannot use (..) marker at the root level, use (.) instead."),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});o=t.split("/").slice(0,-1).concat(o).join("/");break;case"(...)":o="/"+o;break;case"(..)(..)":let s=t.split("/");if(s.length<=2)throw Object.defineProperty(Error("Invalid interception route: "+e+". Cannot use (..)(..) marker at the root level or one level up."),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});o=s.slice(0,-2).concat(o).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:t,interceptedRoute:o}}},2900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{preconnect:function(){return a},preloadFont:function(){return s},preloadStyle:function(){return o}});let n=i(r(6033));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){let i={as:"style"};"string"==typeof t&&(i.crossOrigin=t),"string"==typeof r&&(i.nonce=r),n.default.preload(e,i)}function s(e,t,r,i){let o={as:"font",type:t};"string"==typeof r&&(o.crossOrigin=r),"string"==typeof i&&(o.nonce=i),n.default.preload(e,o)}function a(e,t,r){let i={};"string"==typeof t&&(i.crossOrigin=t),"string"==typeof r&&(i.nonce=r),n.default.preconnect(e,i)}},2907:(e,t,r)=>{"use strict";e.exports=r(5239).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},2994:(e,t,r)=>{"use strict";r.d(t,{QB:()=>ur,uk:()=>uY});var n,i,o,s,a,l,u,c={};r.r(c),r.d(c,{OG:()=>Q,My:()=>q,Ph:()=>K,lX:()=>G,Id:()=>X,fg:()=>er,qj:()=>Z,aT:()=>V,lq:()=>Y,z:()=>J,Q5:()=>ei});var f={};r.r(f),r.d(f,{aK:()=>sg,e8:()=>o7,DO:()=>o9,dJ:()=>sy,OG:()=>sm,My:()=>st,Ph:()=>sa,lX:()=>sl,Id:()=>sd,fg:()=>sw,qj:()=>sf,aT:()=>ss,r4:()=>sp,aY:()=>o5,x:()=>sx,lq:()=>su,z:()=>sc,zW:()=>sr,Q5:()=>s_});var d=r(9359),h=r(1268);function p(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function g(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function y(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");p(e.outputLen),p(e.blockLen)}function m(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function b(e,t){g(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}var v=r(7598),w=r.t(v,2);let E=w&&"object"==typeof w&&"webcrypto"in w?v.webcrypto:void 0,_=e=>e instanceof Uint8Array,x=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),R=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");function S(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function O(e){if("string"==typeof e&&(e=S(e)),!_(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}function P(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!_(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}(e,t)=>t.toString(16).padStart(2,"0");class A{clone(){return this._cloneInto()}}function k(e){let t=t=>e().update(O(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function T(e=32){if(E&&"function"==typeof E.getRandomValues)return E.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}function M(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>i&o),a=Number(r&o),l=4*!!n,u=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+u,a,n)}class j extends A{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=x(this.buffer)}update(e){m(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=O(e)).length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let t=x(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){m(this),b(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;M(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=x(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}let C=(e,t,r)=>e&t^~e&r,N=(e,t,r)=>e&t^e&r^t&r,I=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),U=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),D=new Uint32Array(64);class L extends j{constructor(){super(64,32,8,!1),this.A=0|U[0],this.B=0|U[1],this.C=0|U[2],this.D=0|U[3],this.E=0|U[4],this.F=0|U[5],this.G=0|U[6],this.H=0|U[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)D[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=D[e-15],r=D[e-2],n=R(t,7)^R(t,18)^t>>>3,i=R(r,17)^R(r,19)^r>>>10;D[e]=i+D[e-7]+n+D[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(R(s,6)^R(s,11)^R(s,25))+C(s,a,l)+I[e]+D[e]|0,c=(R(r,2)^R(r,13)^R(r,22))+N(r,n,i)|0;u=l,l=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,a,l,u)}roundClean(){D.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let B=k(()=>new L),F=(BigInt(0),BigInt(1)),$=BigInt(2),H=e=>e instanceof Uint8Array,z=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function q(e){if(!H(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=z[e[r]];return t}function W(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function V(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let n=2*t,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[t]=i}return r}function K(e){return W(q(e))}function G(e){if(!H(e))throw Error("Uint8Array expected");return W(q(Uint8Array.from(e).reverse()))}function Y(e,t){return V(e.toString(16).padStart(2*t,"0"))}function J(e,t){return Y(e,t).reverse()}function Z(e,t,r){let n;if("string"==typeof t)try{n=V(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(H(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function X(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!H(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}let Q=e=>($<<BigInt(e-1))-F,ee=e=>new Uint8Array(e),et=e=>Uint8Array.from(e);function er(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=ee(e),i=ee(e),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),l=(e=ee())=>{i=a(et([0]),e),n=a(),0!==e.length&&(i=a(et([1]),e),n=a())},u=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return X(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(u()));)l();return s(),r}}let en={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ei(e,t,r={}){let n=(t,r,n)=>{let i=en[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}let eo=BigInt(0),es=BigInt(1),ea=BigInt(2),el=BigInt(3),eu=BigInt(4),ec=BigInt(5),ef=BigInt(8);function ed(e,t){let r=e%t;return r>=eo?r:t+r}function eh(e,t,r){if(r<=eo||t<eo)throw Error("Expected power/modulo > 0");if(r===es)return eo;let n=es;for(;t>eo;)t&es&&(n=n*e%r),e=e*e%r,t>>=es;return n}function ep(e,t,r){let n=e;for(;t-- >eo;)n*=n,n%=r;return n}function eg(e,t){if(e===eo||t<=eo)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ed(e,t),n=t,i=eo,o=es,s=es,a=eo;for(;r!==eo;){let e=n/r,t=n%r,l=i-s*e,u=o-a*e;n=r,r=t,i=s,o=a,s=l,a=u}if(n!==es)throw Error("invert: does not exist");return ed(i,t)}function ey(e){let t,r,n;let i=(e-es)/ea;for(t=e-es,r=0;t%ea===eo;t/=ea,r++);for(n=ea;n<e&&eh(n,i,e)!==e-es;n++);if(1===r){let t=(e+es)/eu;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let o=(t+es)/ea;return function(e,s){if(e.pow(s,i)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,n),t),u=e.pow(s,o),c=e.pow(s,t);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,es<<BigInt(a-t-1));l=e.sqr(r),u=e.mul(u,r),c=e.mul(c,l),a=t}return u}}function em(e){if(e%eu===el){let t=(e+es)/eu;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%ef===ec){let t=(e-ec)/ef;return function(e,r){let n=e.mul(r,ea),i=e.pow(n,t),o=e.mul(r,i),s=e.mul(e.mul(o,ea),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return ey(e)}BigInt(9),BigInt(16);let eb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ev(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"};return ei(e,eb.reduce((e,t)=>(e[t]="function",e),t))}function ew(e,t,r){if(r<eo)throw Error("Expected power > 0");if(r===eo)return e.ONE;if(r===es)return t;let n=e.ONE,i=t;for(;r>eo;)r&es&&(n=e.mul(n,i)),i=e.sqr(i),r>>=es;return n}function eE(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r}function e_(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ex(e,t,r=!1,n={}){if(e<=eo)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:o}=e_(e,t);if(o>2048)throw Error("Field lengths over 2048 bytes are not supported");let s=em(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Q(i),ZERO:eo,ONE:es,create:t=>ed(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return eo<=t&&t<e},is0:e=>e===eo,isOdd:e=>(e&es)===es,neg:t=>ed(-t,e),eql:(e,t)=>e===t,sqr:t=>ed(t*t,e),add:(t,r)=>ed(t+r,e),sub:(t,r)=>ed(t-r,e),mul:(t,r)=>ed(t*r,e),pow:(e,t)=>ew(a,e,t),div:(t,r)=>ed(t*eg(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>eg(t,e),sqrt:n.sqrt||(e=>s(a,e)),invertBatch:e=>eE(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?J(e,o):Y(e,o),fromBytes:e=>{if(e.length!==o)throw Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return r?G(e):K(e)}});return Object.freeze(a)}function eR(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function eS(e){let t=eR(e);return t+Math.ceil(t/2)}function eO(e,t,r=!1){let n=e.length,i=eR(t),o=eS(t);if(n<16||n<o||n>1024)throw Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=ed(r?K(e):G(e),t-es)+es;return r?J(s,i):Y(s,i)}class eP extends A{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,y(e);let r=O(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return m(this),this.iHash.update(e),this}digestInto(e){m(this),g(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let eA=(e,t,r)=>new eP(e,t).update(r).digest();eA.create=(e,t)=>new eP(e,t);let ek=BigInt(0),eT=BigInt(1);function eM(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>ek;)r&eT&&(n=n.add(i)),i=i.double(),r>>=eT;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),o=[],s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){let{windows:s,windowSize:a}=n(t),l=e.ZERO,u=e.BASE,c=BigInt(2**t-1),f=2**t,d=BigInt(t);for(let e=0;e<s;e++){let t=e*a,n=Number(o&c);o>>=d,n>a&&(n-=f,o+=eT);let s=t,h=t+Math.abs(n)-1,p=e%2!=0,g=n<0;0===n?u=u.add(r(p,i[s])):l=l.add(r(g,i[h]))}return{p:l,f:u}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}}function ej(e){return ev(e.Fp),ei(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...e_(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function eC(e){let t=ej(e);ei(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}let{Ph:eN,aT:eI}=c,eU={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=eU;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:eN(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=eU,r="string"==typeof e?eI(e):e;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:o}=eU._parseInt(r.subarray(2)),{d:s,l:a}=eU._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${a}${n}`}},eD=BigInt(0),eL=BigInt(1),eB=BigInt(2),eF=BigInt(3),e$=BigInt(4);function eH(e){let t=eC(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return X(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){let{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&eD<e&&e<t.n}function a(e){if(!s(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=q(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:K(Z("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return o&&(r=ed(r,s)),a(r),r}let u=new Map;function c(e){if(!(e instanceof f))throw Error("ProjectivePoint expected")}class f{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof f)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?f.ZERO:new f(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(f.fromAffine)}static fromHex(e){let t=f.fromAffine(i(Z("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),s=o(e);if(!r.eql(i,s))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){c(e);let{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,l=r.eql(r.mul(t,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return l&&u}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,eF),{px:o,py:s,pz:a}=this,l=r.ZERO,u=r.ZERO,c=r.ZERO,d=r.mul(o,o),h=r.mul(s,s),p=r.mul(a,a),g=r.mul(o,s);return g=r.add(g,g),c=r.mul(o,a),c=r.add(c,c),l=r.mul(e,c),u=r.mul(i,p),u=r.add(l,u),l=r.sub(h,u),u=r.add(h,u),u=r.mul(l,u),l=r.mul(g,l),c=r.mul(i,c),p=r.mul(e,p),g=r.sub(d,p),g=r.mul(e,g),g=r.add(g,c),c=r.add(d,d),d=r.add(c,d),d=r.add(d,p),d=r.mul(d,g),u=r.add(u,d),p=r.mul(s,a),p=r.add(p,p),d=r.mul(p,g),l=r.sub(l,d),c=r.mul(p,h),c=r.add(c,c),new f(l,u,c=r.add(c,c))}add(e){c(e);let{px:n,py:i,pz:o}=this,{px:s,py:a,pz:l}=e,u=r.ZERO,d=r.ZERO,h=r.ZERO,p=t.a,g=r.mul(t.b,eF),y=r.mul(n,s),m=r.mul(i,a),b=r.mul(o,l),v=r.add(n,i),w=r.add(s,a);v=r.mul(v,w),w=r.add(y,m),v=r.sub(v,w),w=r.add(n,o);let E=r.add(s,l);return w=r.mul(w,E),E=r.add(y,b),w=r.sub(w,E),E=r.add(i,o),u=r.add(a,l),E=r.mul(E,u),u=r.add(m,b),E=r.sub(E,u),h=r.mul(p,w),u=r.mul(g,b),h=r.add(u,h),u=r.sub(m,h),h=r.add(m,h),d=r.mul(u,h),m=r.add(y,y),m=r.add(m,y),b=r.mul(p,b),w=r.mul(g,w),m=r.add(m,b),b=r.sub(y,b),b=r.mul(p,b),w=r.add(w,b),y=r.mul(m,w),d=r.add(d,y),y=r.mul(E,w),u=r.mul(v,u),u=r.sub(u,y),y=r.mul(v,m),h=r.mul(E,h),new f(u,d,h=r.add(h,y))}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return h.wNAFCached(this,u,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(f.fromAffine)})}multiplyUnsafe(e){let n=f.ZERO;if(e===eD)return n;if(a(e),e===eL)return this;let{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:l,k2:u}=i.splitScalar(e),c=n,d=n,p=this;for(;s>eD||u>eD;)s&eL&&(c=c.add(p)),u&eL&&(d=d.add(p)),p=p.double(),s>>=eL,u>>=eL;return o&&(c=c.negate()),l&&(d=d.negate()),d=new f(r.mul(d.px,i.beta),d.py,d.pz),c.add(d)}multiply(e){let n,i;a(e);let o=e,{endo:s}=t;if(s){let{k1neg:e,k1:t,k2neg:a,k2:l}=s.splitScalar(o),{p:u,f:c}=this.wNAF(t),{p:d,f:p}=this.wNAF(l);u=h.constTimeNegate(e,u),d=h.constTimeNegate(a,d),d=new f(r.mul(d.px,s.beta),d.py,d.pz),n=u.add(d),i=c.add(p)}else{let{p:e,f:t}=this.wNAF(o);n=e,i=t}return f.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=f.BASE,i=(e,t)=>t!==eD&&t!==eL&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){let{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));let s=r.mul(t,e),a=r.mul(n,e),l=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===eL)return!0;if(r)return r(f,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===eL?this:r?r(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(f,this,e)}toHex(e=!0){return q(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let d=t.nBitLength,h=eM(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function ez(e){let t=ej(e);return ei(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function eq(e){let t=ez(e),{Fp:r,n:n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(e){return eD<e&&e<r.ORDER}function a(e){return ed(e,n)}function l(e){return eg(e,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:d}=eH({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x),s=X;return n?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],a=e.subarray(1);if(t===i&&(2===n||3===n)){let e=K(a);if(!s(e))throw Error("Point is not on curve");let t=f(e),i=r.sqrt(t);return(1&n)==1!=((i&eL)===eL)&&(i=r.neg(i)),{x:e,y:i}}if(t===o&&4===n)return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),h=e=>q(Y(e,t.nByteLength));function p(e){return e>n>>eL}function g(e){return p(e)?a(-e):e}let y=(e,t,r)=>K(e.slice(t,r));class m{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new m(y(e=Z("compactSignature",e,2*r),0,r),y(e,r,2*r))}static fromDER(e){let{r:t,s:r}=eU.toSig(Z("DER",e));return new m(t,r)}assertValidity(){if(!d(this.r))throw Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){let{r:n,s:i,recovery:o}=this,s=x(Z("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw Error("recovery id invalid");let c=2===o||3===o?n+t.n:n;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let f=(1&o)==0?"02":"03",d=u.fromHex(f+h(c)),p=l(c),g=a(-s*p),y=a(i*p),m=u.BASE.multiplyAndAddUnsafe(d,g,y);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return V(this.toDERHex())}toDERHex(){return eU.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return V(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}let b={isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let e=eS(t.n);return eO(t.randomBytes(e),t.n)},precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function v(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)}function w(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof u}function E(e,t,r=!0){if(w(e))throw Error("first arg must be private key");if(!w(t))throw Error("second arg must be public key");return u.fromHex(t).multiply(c(e)).toRawBytes(r)}let _=t.bits2int||function(e){let r=K(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},x=t.bits2int_modN||function(e){return a(_(e))},R=Q(t.nBitLength);function S(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(eD<=e&&e<R))throw Error(`bigint expected < 2^${t.nBitLength}`);return Y(e,t.nByteLength)}function O(e,n,i=P){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{hash:o,randomBytes:s}=t,{lowS:f,prehash:h,extraEntropy:y}=i;null==f&&(f=!0),e=Z("msgHash",e),h&&(e=Z("prehashed msgHash",o(e)));let b=x(e),v=c(n),w=[S(v),S(b)];if(null!=y){let e=!0===y?s(r.BYTES):y;w.push(Z("extraEntropy",e))}let E=X(...w),R=b;return{seed:E,k2sig:function(e){let t=_(e);if(!d(t))return;let r=l(t),n=u.BASE.multiply(t).toAffine(),i=a(n.x);if(i===eD)return;let o=a(r*a(R+i*v));if(o===eD)return;let s=2*(n.x!==i)|Number(n.y&eL),c=o;return f&&p(o)&&(c=g(o),s^=1),new m(i,c,s)}}}let P={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};function k(e,r,n=P){let{seed:i,k2sig:o}=O(e,r,n),s=t;return er(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)}function T(e,r,n,i=A){let o,s;let c=e;if(r=Z("msgHash",r),n=Z("publicKey",n),"strict"in i)throw Error("options.strict was renamed to lowS");let{lowS:f,prehash:d}=i;try{if("string"==typeof c||c instanceof Uint8Array)try{s=m.fromDER(c)}catch(e){if(!(e instanceof eU.Err))throw e;s=m.fromCompact(c)}else if("object"==typeof c&&"bigint"==typeof c.r&&"bigint"==typeof c.s){let{r:e,s:t}=c;s=new m(e,t)}else throw Error("PARSE");o=u.fromHex(n)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(f&&s.hasHighS())return!1;d&&(r=t.hash(r));let{r:h,s:p}=s,g=x(r),y=l(p),b=a(g*y),v=a(h*y),w=u.BASE.multiplyAndAddUnsafe(o,b,v)?.toAffine();return!!w&&a(w.x)===h}return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:v,getSharedSecret:E,sign:k,verify:T,ProjectivePoint:u,Signature:m,utils:b}}function eW(e){return{hash:e,hmac:(t,...r)=>eA(e,t,P(...r)),randomBytes:T}}function eV(e,t){let r=t=>eq({...e,...eW(t)});return Object.freeze({...r(t),create:r})}let eK=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eG=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eY=BigInt(1),eJ=BigInt(2),eZ=(e,t)=>(e+t/eJ)/t;function eX(e){let t=eK,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,f=ep(c,r,t)*c%t,d=ep(f,r,t)*c%t,h=ep(d,eJ,t)*u%t,p=ep(h,i,t)*h%t,g=ep(p,o,t)*p%t,y=ep(g,a,t)*g%t,m=ep(y,l,t)*y%t,b=ep(m,a,t)*g%t,v=ep(b,r,t)*c%t,w=ep(v,s,t)*p%t,E=ep(w,n,t)*u%t,_=ep(E,eJ,t);if(!eQ.eql(eQ.sqr(_),e))throw Error("Cannot find square root");return _}let eQ=ex(eK,void 0,void 0,{sqrt:eX}),e0=eV({a:BigInt(0),b:BigInt(7),Fp:eQ,n:eG,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=eG,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-eY*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=eZ(o*e,t),l=eZ(-n*e,t),u=ed(e-a*r-l*i,t),c=ed(-a*n-l*o,t),f=u>s,d=c>s;if(f&&(u=t-u),d&&(c=t-c),u>s||c>s)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:c}}}},B),e1=BigInt(0),e2=e=>"bigint"==typeof e&&e1<e&&e<eK,e3=e=>"bigint"==typeof e&&e1<e&&e<eG,e4={};function e8(e,...t){let r=e4[e];if(void 0===r){let t=B(Uint8Array.from(e,e=>e.charCodeAt(0)));r=X(t,t),e4[e]=r}return B(X(r,...t))}let e6=e=>e.toRawBytes(!0).slice(1),e5=e=>Y(e,32),e9=e=>ed(e,eK),e7=e=>ed(e,eG),te=e0.ProjectivePoint,tt=(e,t,r)=>te.BASE.multiplyAndAddUnsafe(e,t,r);function tr(e){let t=e0.utils.normPrivateKeyToScalar(e),r=te.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:e7(-t),bytes:e6(r)}}function tn(e){if(!e2(e))throw Error("bad x: need 0 < x < p");let t=e9(e*e),r=eX(e9(t*e+BigInt(7)));r%eJ!==e1&&(r=e9(-r));let n=new te(e,r,eY);return n.assertValidity(),n}function ti(...e){return e7(K(e8("BIP0340/challenge",...e)))}function to(e,t,r){let n=Z("signature",e,64),i=Z("message",t),o=Z("publicKey",r,32);try{let e=tn(K(o)),t=K(n.subarray(0,32));if(!e2(t))return!1;let r=K(n.subarray(32,64));if(!e3(r))return!1;let s=ti(e5(t),e6(e),i),a=tt(e,r,e7(-s));if(!a||!a.hasEvenY()||a.toAffine().x!==t)return!1;return!0}catch(e){return!1}}let ts={getPublicKey:function e(e){return tr(e).bytes},sign:function e(t,r,n=T(32)){let i=Z("message",t),{bytes:o,scalar:s}=tr(r),a=e5(s^K(e8("BIP0340/aux",Z("auxRand",n,32)))),l=e7(K(e8("BIP0340/nonce",a,o,i)));if(l===e1)throw Error("sign failed: k is zero");let{bytes:u,scalar:c}=tr(l),f=ti(u,o,i),d=new Uint8Array(64);if(d.set(u,0),d.set(e5(e7(c+f*s)),32),!to(d,i,o))throw Error("sign: Invalid signature produced");return d},verify:to,utils:{randomPrivateKey:e0.utils.randomPrivateKey,lift_x:tn,pointToBytes:e6,numberToBytesBE:Y,bytesToNumberBE:K,taggedHash:e8,mod:ed}},ta=w&&"object"==typeof w&&"webcrypto"in w?v.webcrypto:void 0,tl=e=>e instanceof Uint8Array,tu=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),tc=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");let tf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function td(e){if(!tl(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=tf[e[r]];return t}function th(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let n=2*t,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[t]=i}return r}function tp(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function tg(e){if("string"==typeof e&&(e=tp(e)),!tl(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}function ty(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!tl(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}class tm{clone(){return this._cloneInto()}}function tb(e){let t=t=>e().update(tg(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function tv(e=32){if(ta&&"function"==typeof ta.getRandomValues)return ta.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}function tw(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function tE(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function t_(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");tw(e.outputLen),tw(e.blockLen)}function tx(e,t){tE(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}let tR={number:tw,bytes:tE,hash:t_,exists:function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},output:tx};function tS(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>i&o),a=Number(r&o),l=4*!!n,u=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+u,a,n)}class tO extends tm{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tu(this.buffer)}update(e){tR.exists(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=tg(e)).length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let t=tu(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tR.exists(this),tR.output(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;tS(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=tu(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}let tP=(e,t,r)=>e&t^~e&r,tA=(e,t,r)=>e&t^e&r^t&r,tk=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),tT=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),tM=new Uint32Array(64);class tj extends tO{constructor(){super(64,32,8,!1),this.A=0|tT[0],this.B=0|tT[1],this.C=0|tT[2],this.D=0|tT[3],this.E=0|tT[4],this.F=0|tT[5],this.G=0|tT[6],this.H=0|tT[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)tM[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=tM[e-15],r=tM[e-2],n=tc(t,7)^tc(t,18)^t>>>3,i=tc(r,17)^tc(r,19)^r>>>10;tM[e]=i+tM[e-7]+n+tM[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(tc(s,6)^tc(s,11)^tc(s,25))+tP(s,a,l)+tk[e]+tM[e]|0,c=(tc(r,2)^tc(r,13)^tc(r,22))+tA(r,n,i)|0;u=l,l=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,a,l,u)}roundClean(){tM.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class tC extends tj{constructor(){super(),this.A=-0x3efa6128,this.B=0x367cd507,this.C=0x3070dd17,this.D=-0x8f1a6c7,this.E=-4191439,this.F=0x68581511,this.G=0x64f98fa7,this.H=-0x4105b05c,this.outputLen=28}}let tN=tb(()=>new tj);function tI(e){if(!Number.isSafeInteger(e))throw Error(`Wrong integer: ${e}`)}function tU(...e){let t=(e,t)=>r=>e(t(r));return{encode:Array.from(e).reverse().reduce((e,r)=>e?t(e,r.encode):r.encode,void 0),decode:e.reduce((e,r)=>e?t(e,r.decode):r.decode,void 0)}}function tD(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(tI(t),t<0||t>=e.length)throw Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw Error(`alphabet.decode: not string element=${t}`);let r=e.indexOf(t);if(-1===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function tL(e=""){if("string"!=typeof e)throw Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw Error("join.decode input should be string");return t.split(e)}}}function tB(e,t="="){if(tI(e),"string"!=typeof t)throw Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function tF(e){if("function"!=typeof e)throw Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function t$(e,t,r){if(t<2)throw Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw Error("convertRadix: data should be array");if(!e.length)return[];let n=0,i=[],o=Array.from(e);for(o.forEach(e=>{if(tI(e),e<0||e>=t)throw Error(`Wrong integer: ${e}`)});;){let e=0,s=!0;for(let i=n;i<o.length;i++){let a=o[i],l=t*e+a;if(!Number.isSafeInteger(l)||t*e/t!==e||l-a!=t*e||(e=l%r,o[i]=Math.floor(l/r),!Number.isSafeInteger(o[i])||o[i]*r+e!==l))throw Error("convertRadix: carry overflow");s&&(o[i]?s=!1:n=i)}if(i.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}tb(()=>new tC);let tH=(e,t)=>t?tH(t,e%t):e,tz=(e,t)=>e+(t-tH(e,t));function tq(e,t,r,n){if(!Array.isArray(e))throw Error("convertRadix2: data should be array");if(t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(tz(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${tz(t,r)}`);let i=0,o=0,s=2**r-1,a=[];for(let n of e){if(tI(n),n>=2**t)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,o+t>32)throw Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)a.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=t)throw Error("Excess padding");if(!n&&i)throw Error(`Non-zero padding: ${i}`);return n&&o>0&&a.push(i>>>0),a}function tW(e){return tI(e),{encode:t=>{if(!(t instanceof Uint8Array))throw Error("radix.encode input should be Uint8Array");return t$(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("radix.decode input should be array of strings");return Uint8Array.from(t$(t,e,256))}}}function tV(e,t=!1){if(tI(e),e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(tz(8,e)>32||tz(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw Error("radix2.encode input should be Uint8Array");return tq(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error("radix2.decode input should be array of strings");return Uint8Array.from(tq(r,e,8,t))}}}function tK(e){if("function"!=typeof e)throw Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}tU(tV(4),tD("0123456789ABCDEF"),tL("")),tU(tV(5),tD("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),tB(5),tL("")),tU(tV(5),tD("0123456789ABCDEFGHIJKLMNOPQRSTUV"),tB(5),tL("")),tU(tV(5),tD("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),tL(""),tF(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));let tG=tU(tV(6),tD("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),tB(6),tL(""));tU(tV(6),tD("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),tB(6),tL(""));let tY=e=>tU(tW(58),tD(e),tL(""));tY("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),tY("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),tY("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let tJ=tU(tD("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),tL("")),tZ=[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3];function tX(e){let t=e>>25,r=(0x1ffffff&e)<<5;for(let e=0;e<tZ.length;e++)(t>>e&1)==1&&(r^=tZ[e]);return r}function tQ(e,t,r=1){let n=e.length,i=1;for(let t=0;t<n;t++){let r=e.charCodeAt(t);if(r<33||r>126)throw Error(`Invalid prefix (${e})`);i=tX(i)^r>>5}i=tX(i);for(let t=0;t<n;t++)i=tX(i)^31&e.charCodeAt(t);for(let e of t)i=tX(i)^e;for(let e=0;e<6;e++)i=tX(i);return i^=r,tJ.encode(tq([i%0x40000000],30,5,!1))}function t0(e){let t="bech32"===e?1:0x2bc830a3,r=tV(5),n=r.decode,i=r.encode,o=tK(n);function s(e,r,n=90){if("string"!=typeof e)throw Error(`bech32.encode prefix should be string, not ${typeof e}`);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error(`bech32.encode words should be array of numbers, not ${typeof r}`);let i=e.length+7+r.length;if(!1!==n&&i>n)throw TypeError(`Length ${i} exceeds limit ${n}`);return e=e.toLowerCase(),`${e}1${tJ.encode(r)}${tQ(e,r,t)}`}function a(e,r=90){if("string"!=typeof e)throw Error(`bech32.decode input should be string, not ${typeof e}`);if(e.length<8||!1!==r&&e.length>r)throw TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);let n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw Error("String must be lowercase or uppercase");let i=(e=n).lastIndexOf("1");if(0===i||-1===i)throw Error('Letter "1" must be present between prefix and data only');let o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw Error("Data must be at least 6 characters long");let l=tJ.decode(s).slice(0,-6),u=tQ(o,l,t);if(!s.endsWith(u))throw Error(`Invalid checksum in ${e}: expected "${u}"`);return{prefix:o,words:l}}let l=tK(a);function u(e){let{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}}return{encode:s,decode:a,decodeToBytes:u,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:o,toWords:i}}let t1=t0("bech32");t0("bech32m"),tU(tV(4),tD("0123456789abcdef"),tL(""),tF(e=>{if("string"!=typeof e||e.length%2)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));var t2=r(3039),t3=r(4319),t4=r(9010);class t8 extends tm{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,tR.hash(e);let r=tg(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return tR.exists(this),this.iHash.update(e),this}digestInto(e){tR.exists(this),tR.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let t6=(e,t,r)=>new t8(e,t).update(r).digest();function t5(e,t,r){return tR.hash(e),void 0===r&&(r=new Uint8Array(e.outputLen)),t6(e,tg(r),tg(t))}t6.create=(e,t)=>new t8(e,t);let t9=new Uint8Array([0]),t7=new Uint8Array;function re(e,t,r,n=32){if(tR.hash(e),tR.number(n),n>255*e.outputLen)throw Error("Length should be <= 255*HashLen");let i=Math.ceil(n/e.outputLen);void 0===r&&(r=t7);let o=new Uint8Array(i*e.outputLen),s=t6.create(e,t),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let t=0;t<i;t++)t9[0]=t+1,a.update(0===t?t7:l).update(r).update(t9).digestInto(l),o.set(l,e.outputLen*t),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),t9.fill(0),o.slice(0,n)}var rt=Object.defineProperty,rr=(e,t)=>{for(var r in t)rt(e,r,{get:t[r],enumerable:!0})},rn=Symbol("verified"),ri=e=>e instanceof Object;function ro(e){if(!ri(e)||"number"!=typeof e.kind||"string"!=typeof e.content||"number"!=typeof e.created_at||"string"!=typeof e.pubkey||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let r=e.tags[t];if(!Array.isArray(r))return!1;for(let e=0;e<r.length;e++)if("object"==typeof r[e])return!1}return!0}rr({},{Queue:()=>rh,QueueNode:()=>rd,binarySearch:()=>rf,insertEventIntoAscendingList:()=>rc,insertEventIntoDescendingList:()=>ru,normalizeURL:()=>rl,utf8Decoder:()=>rs,utf8Encoder:()=>ra});var rs=new TextDecoder("utf-8"),ra=new TextEncoder;function rl(e){-1===e.indexOf("://")&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function ru(e,t){let[r,n]=rf(e,e=>t.id===e.id?0:t.created_at===e.created_at?-1:e.created_at-t.created_at);return n||e.splice(r,0,t),e}function rc(e,t){let[r,n]=rf(e,e=>t.id===e.id?0:t.created_at===e.created_at?-1:t.created_at-e.created_at);return n||e.splice(r,0,t),e}function rf(e,t){let r=0,n=e.length-1;for(;r<=n;){let i=Math.floor((r+n)/2),o=t(e[i]);if(0===o)return[i,!0];o<0?n=i-1:r=i+1}return[r,!1]}var rd=class{value;next=null;prev=null;constructor(e){this.value=e}},rh=class{first;last;constructor(){this.first=null,this.last=null}enqueue(e){let t=new rd(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){let e=this.first;return this.first=null,this.last=null,e.value}let e=this.first;return this.first=e.next,e.value}};function rp(e){if(!ro(e))throw Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function rg(e){return td(tN(ra.encode(rp(e))))}var ry=new class{generateSecretKey(){return ts.utils.randomPrivateKey()}getPublicKey(e){return td(ts.getPublicKey(e))}finalizeEvent(e,t){let r=e;return r.pubkey=td(ts.getPublicKey(t)),r.id=rg(r),r.sig=td(ts.sign(rg(r),t)),r[rn]=!0,r}verifyEvent(e){if("boolean"==typeof e[rn])return e[rn];let t=rg(e);if(t!==e.id)return e[rn]=!1,!1;try{let r=ts.verify(e.sig,t,e.pubkey);return e[rn]=r,r}catch(t){return e[rn]=!1,!1}}},rm=ry.generateSecretKey,rb=ry.getPublicKey,rv=ry.finalizeEvent,rw=ry.verifyEvent;function rE(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function r_(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function rx(e){return 2e4<=e&&e<3e4}function rR(e){return 3e4<=e&&e<4e4}function rS(e){return rE(e)?"regular":r_(e)?"replaceable":rx(e)?"ephemeral":rR(e)?"parameterized":"unknown"}function rO(e,t){let r=t instanceof Array?t:[t];return ro(e)&&r.includes(e.kind)||!1}rr({},{Application:()=>nA,BadgeAward:()=>rI,BadgeDefinition:()=>nE,BlockedRelaysList:()=>nr,BookmarkList:()=>r7,Bookmarksets:()=>nb,Calendar:()=>nI,CalendarEventRSVP:()=>nU,ChannelCreation:()=>rB,ChannelHideMessage:()=>rH,ChannelMessage:()=>r$,ChannelMetadata:()=>rF,ChannelMuteUser:()=>rz,ClassifiedListing:()=>nM,ClientAuth:()=>nc,CommunitiesList:()=>ne,CommunityDefinition:()=>nB,CommunityPostApproval:()=>rX,Contacts:()=>rT,CreateOrUpdateProduct:()=>nR,CreateOrUpdateStall:()=>nx,Curationsets:()=>nv,Date:()=>nC,DirectMessageRelaysList:()=>ns,DraftClassifiedListing:()=>nj,DraftLong:()=>nO,Emojisets:()=>nP,EncryptedDirectMessage:()=>rM,EventDeletion:()=>rj,FileMetadata:()=>rV,FileServerPreference:()=>na,Followsets:()=>ng,GenericRepost:()=>rL,Genericlists:()=>ny,GiftWrap:()=>rW,HTTPAuth:()=>np,Handlerinformation:()=>nL,Handlerrecommendation:()=>nD,Highlights:()=>r8,InterestsList:()=>ni,Interestsets:()=>n_,JobFeedback:()=>r1,JobRequest:()=>rQ,JobResult:()=>r0,Label:()=>rZ,LightningPubRPC:()=>nu,LiveChatMessage:()=>rK,LiveEvent:()=>nk,LongFormArticle:()=>nS,Metadata:()=>rP,Mutelist:()=>r6,NWCWalletInfo:()=>nl,NWCWalletRequest:()=>nf,NWCWalletResponse:()=>nd,NostrConnect:()=>nh,OpenTimestamps:()=>rq,Pinlist:()=>r5,PrivateDirectMessage:()=>rD,ProblemTracker:()=>rG,ProfileBadges:()=>nw,PublicChatsList:()=>nt,Reaction:()=>rN,RecommendRelay:()=>rk,RelayList:()=>r9,Relaysets:()=>nm,Report:()=>rY,Reporting:()=>rJ,Repost:()=>rC,Seal:()=>rU,SearchRelaysList:()=>nn,ShortTextNote:()=>rA,Time:()=>nN,UserEmojiList:()=>no,UserStatuses:()=>nT,Zap:()=>r4,ZapGoal:()=>r2,ZapRequest:()=>r3,classifyKind:()=>rS,isEphemeralKind:()=>rx,isKind:()=>rO,isParameterizedReplaceableKind:()=>rR,isRegularKind:()=>rE,isReplaceableKind:()=>r_});var rP=0,rA=1,rk=2,rT=3,rM=4,rj=5,rC=6,rN=7,rI=8,rU=13,rD=14,rL=16,rB=40,rF=41,r$=42,rH=43,rz=44,rq=1040,rW=1059,rV=1063,rK=1311,rG=1971,rY=1984,rJ=1984,rZ=1985,rX=4550,rQ=5999,r0=6999,r1=7e3,r2=9041,r3=9734,r4=9735,r8=9802,r6=1e4,r5=10001,r9=10002,r7=10003,ne=10004,nt=10005,nr=10006,nn=10007,ni=10015,no=10030,ns=10050,na=10096,nl=13194,nu=21e3,nc=22242,nf=23194,nd=23195,nh=24133,np=27235,ng=3e4,ny=30001,nm=30002,nb=30003,nv=30004,nw=30008,nE=30009,n_=30015,nx=30017,nR=30018,nS=30023,nO=30024,nP=30030,nA=30078,nk=30311,nT=30315,nM=30402,nj=30403,nC=31922,nN=31923,nI=31924,nU=31925,nD=31989,nL=31990,nB=34550;function nF(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)||e.kinds&&-1===e.kinds.indexOf(t.kind)||e.authors&&-1===e.authors.indexOf(t.pubkey))return!1;for(let r in e)if("#"===r[0]){let n=r.slice(1),i=e[`#${n}`];if(i&&!t.tags.find(([e,t])=>e===r.slice(1)&&-1!==i.indexOf(t)))return!1}return(!e.since||!(t.created_at<e.since))&&(!e.until||!(t.created_at>e.until))}function n$(e,t){for(let r=0;r<e.length;r++)if(nF(e[r],t))return!0;return!1}function nH(e,t){let r=t.length+3,n=e.indexOf(`"${t}":`)+r,i=e.slice(n).indexOf('"')+n+1;return e.slice(i,i+64)}function nz(e,t){let r=t.length,n=e.indexOf(`"${t}":`)+r+3,i=e.slice(n),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function nq(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let r=e.slice(t+7+1).indexOf('"');if(-1===r)return null;let n=t+7+1+r,i=e.slice(n+1,80).indexOf('"');if(-1===i)return null;let o=n+1+i;return e.slice(n+1,o)}function nW(e,t){return t===nH(e,"id")}function nV(e,t){return t===nH(e,"pubkey")}function nK(e,t){return t===nz(e,"kind")}function nG(e,t){return{kind:nc,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function nY(){return new Promise(e=>{let t=new MessageChannel,r=()=>{t.port1.removeEventListener("message",r),e()};t.port1.addEventListener("message",r),t.port2.postMessage(0),t.port1.start()})}rr({},{getHex64:()=>nH,getInt:()=>nz,getSubscriptionId:()=>nq,matchEventId:()=>nW,matchEventKind:()=>nK,matchEventPubkey:()=>nV}),rr({},{makeAuthEvent:()=>nG});var nJ=e=>(e[rn]=!0,!0),nZ=class{url;_connected=!1;onclose=null;onnotice=e=>console.debug(`NOTICE from ${this.url}: ${e}`);_onauth=null;baseEoseTimeout=4400;connectionTimeout=4400;publishTimeout=4400;openSubs=new Map;connectionTimeoutHandle;connectionPromise;openCountRequests=new Map;openEventPublishes=new Map;ws;incomingMessageQueue=new rh;queueRunning=!1;challenge;serial=0;verifyEvent;_WebSocket;constructor(e,t){this.url=rl(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){let r=new nZ(e,t);return await r.connect(),r}closeAllSubscriptions(e){for(let[t,r]of this.openSubs)r.close(e);for(let[t,r]of(this.openSubs.clear(),this.openEventPublishes))r.reject(Error(e));for(let[t,r]of(this.openEventPublishes.clear(),this.openCountRequests))r.reject(Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise||(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{t("connection timed out"),this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(e){t(e);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=e=>{t(e.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{this._connected&&(this._connected=!1,this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)})),this.connectionPromise}async runQueue(){for(this.queueRunning=!0;!1!==this.handleNext();)await nY();this.queueRunning=!1}handleNext(){let e=this.incomingMessageQueue.dequeue();if(!e)return!1;let t=nq(e);if(t){let r=this.openSubs.get(t);if(!r)return;let n=nH(e,"id"),i=r.alreadyHaveEvent?.(n);if(r.receivedEvent?.(this,n),i)return}try{let t=JSON.parse(e);switch(t[0]){case"EVENT":{let e=this.openSubs.get(t[1]),r=t[2];this.verifyEvent(r)&&n$(e.filters,r)&&e.onevent(r);return}case"COUNT":{let e=t[1],r=t[2],n=this.openCountRequests.get(e);n&&(n.resolve(r.count),this.openCountRequests.delete(e));return}case"EOSE":{let e=this.openSubs.get(t[1]);if(!e)return;e.receivedEose();return}case"OK":{let e=t[1],r=t[2],n=t[3],i=this.openEventPublishes.get(e);i&&(r?i.resolve(n):i.reject(Error(n)),this.openEventPublishes.delete(e));return}case"CLOSED":{let e=t[1],r=this.openSubs.get(e);if(!r)return;r.closed=!0,r.close(t[2]);return}case"NOTICE":this.onnotice(t[1]);return;case"AUTH":this.challenge=t[1],this._onauth?.(t[1]);return}}catch(e){return}}async send(e){if(!this.connectionPromise)throw Error("sending on closed connection");this.connectionPromise.then(()=>{this.ws?.send(e)})}async auth(e){if(!this.challenge)throw Error("can't perform auth, no challenge was received");let t=await e(nG(this.url,this.challenge)),r=new Promise((e,r)=>{this.openEventPublishes.set(t.id,{resolve:e,reject:r})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),r}async publish(e){let t=new Promise((t,r)=>{this.openEventPublishes.set(e.id,{resolve:t,reject:r})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),setTimeout(()=>{let t=this.openEventPublishes.get(e.id);t&&(t.reject(Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout),t}async count(e,t){this.serial++;let r=t?.id||"count:"+this.serial,n=new Promise((e,t)=>{this.openCountRequests.set(r,{resolve:e,reject:t})});return this.send('["COUNT","'+r+'",'+JSON.stringify(e).substring(1)),n}subscribe(e,t){let r=this.prepareSubscription(e,t);return r.fire(),r}prepareSubscription(e,t){this.serial++;let r=t.id||"sub:"+this.serial,n=new nX(this,r,e,t);return this.openSubs.set(r,n),n}close(){this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,this.ws?.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},nX=class{relay;id;closed=!1;eosed=!1;filters;alreadyHaveEvent;receivedEvent;onevent;oneose;onclose;eoseTimeout;eoseTimeoutHandle;constructor(e,t,r,n){this.relay=e,this.filters=r,this.id=t,this.alreadyHaveEvent=n.alreadyHaveEvent,this.receivedEvent=n.receivedEvent,this.eoseTimeout=n.eoseTimeout||e.baseEoseTimeout,this.oneose=n.oneose,this.onclose=n.onclose,this.onevent=n.onevent||(e=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,e)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,this.oneose?.())}close(e="closed by caller"){!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),this.onclose?.(e)}};try{n=WebSocket}catch{}try{i=WebSocket}catch{}var nQ={};rr(nQ,{BECH32_REGEX:()=>n2,Bech32MaxSize:()=>n1,NostrTypeGuard:()=>n0,decode:()=>n4,encodeBytes:()=>ie,naddrEncode:()=>ii,neventEncode:()=>ir,noteEncode:()=>n9,nprofileEncode:()=>it,npubEncode:()=>n5,nsecEncode:()=>n6});var n0={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},n1=5e3,n2=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function n3(e){let t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t}function n4(e){let{prefix:t,words:r}=t1.decode(e,n1),n=new Uint8Array(t1.fromWords(r));switch(t){case"nprofile":{let e=n8(n);if(!e[0]?.[0])throw Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:td(e[0][0]),relays:e[1]?e[1].map(e=>rs.decode(e)):[]}}}case"nevent":{let e=n8(n);if(!e[0]?.[0])throw Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw Error("TLV 2 should be 32 bytes");if(e[3]&&4!==e[3][0].length)throw Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:td(e[0][0]),relays:e[1]?e[1].map(e=>rs.decode(e)):[],author:e[2]?.[0]?td(e[2][0]):void 0,kind:e[3]?.[0]?parseInt(td(e[3][0]),16):void 0}}}case"naddr":{let e=n8(n);if(!e[0]?.[0])throw Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:rs.decode(e[0][0]),pubkey:td(e[2][0]),kind:parseInt(td(e[3][0]),16),relays:e[1]?e[1].map(e=>rs.decode(e)):[]}}}case"nsec":return{type:t,data:n};case"npub":case"note":return{type:t,data:td(n)};default:throw Error(`unknown prefix ${t}`)}}function n8(e){let t={},r=e;for(;r.length>0;){let e=r[0],n=r[1],i=r.slice(2,2+n);if(r=r.slice(2+n),i.length<n)throw Error(`not enough data to read on TLV ${e}`);t[e]=t[e]||[],t[e].push(i)}return t}function n6(e){return ie("nsec",e)}function n5(e){return ie("npub",th(e))}function n9(e){return ie("note",th(e))}function n7(e,t){let r=t1.toWords(t);return t1.encode(e,r,n1)}function ie(e,t){return n7(e,t)}function it(e){return n7("nprofile",io({0:[th(e.pubkey)],1:(e.relays||[]).map(e=>ra.encode(e))}))}function ir(e){let t;return void 0!==e.kind&&(t=n3(e.kind)),n7("nevent",io({0:[th(e.id)],1:(e.relays||[]).map(e=>ra.encode(e)),2:e.author?[th(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function ii(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),n7("naddr",io({0:[ra.encode(e.identifier)],1:(e.relays||[]).map(e=>ra.encode(e)),2:[th(e.pubkey)],3:[new Uint8Array(t)]}))}function io(e){let t=[];return Object.entries(e).reverse().forEach(([e,r])=>{r.forEach(r=>{let n=new Uint8Array(r.length+2);n.set([parseInt(e)],0),n.set([r.length],1),n.set(r,2),t.push(n)})}),ty(...t)}var is={};async function ia(e,t,r){let n=e instanceof Uint8Array?td(e):e,i=iu(e0.getSharedSecret(n,"02"+t)),o=Uint8Array.from(tv(16)),s=ra.encode(r),a=(0,t2.zd)(i,o).encrypt(s),l=tG.encode(new Uint8Array(a)),u=tG.encode(new Uint8Array(o.buffer));return`${l}?iv=${u}`}async function il(e,t,r){let n=e instanceof Uint8Array?td(e):e,[i,o]=r.split("?iv="),s=iu(e0.getSharedSecret(n,"02"+t)),a=tG.decode(o),l=tG.decode(i),u=(0,t2.zd)(s,a).decrypt(l);return rs.decode(u)}function iu(e){return e.slice(1,33)}rr(is,{decrypt:()=>il,encrypt:()=>ia}),rr({},{NIP05_REGEX:()=>ic,isNip05:()=>id,isValid:()=>iy,queryProfile:()=>ig,searchDomain:()=>ip,useFetchImplementation:()=>ih});var ic=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,id=e=>ic.test(e||"");try{o=fetch}catch(e){}function ih(e){o=e}async function ip(e,t=""){try{let r=`https://${e}/.well-known/nostr.json?name=${t}`,n=await o(r,{redirect:"manual"});if(200!==n.status)throw Error("Wrong response code");return(await n.json()).names}catch(e){return{}}}async function ig(e){let t=e.match(ic);if(!t)return null;let[,r="_",n]=t;try{let e=`https://${n}/.well-known/nostr.json?name=${r}`,t=await o(e,{redirect:"manual"});if(200!==t.status)throw Error("Wrong response code");let i=await t.json(),s=i.names[r];return s?{pubkey:s,relays:i.relays?.[s]}:null}catch(e){return null}}async function iy(e,t){let r=await ig(t);return!!r&&r.pubkey===e}function im(e){let t,r;let n={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};for(let i=e.tags.length-1;i>=0;i--){let o=e.tags[i];if("e"===o[0]&&o[1]){let[e,i,s,a,l]=o,u={id:i,relays:s?[s]:[],author:l};if("root"===a){n.root=u;continue}if("reply"===a){n.reply=u;continue}if("mention"===a){n.mentions.push(u);continue}t?r=u:t=u,n.mentions.push(u);continue}if("q"===o[0]&&o[1]){let[e,t,r]=o;n.quotes.push({id:t,relays:r?[r]:[]})}if("p"===o[0]&&o[1]){n.profiles.push({pubkey:o[1],relays:o[2]?[o[2]]:[]});continue}}return n.root||(n.root=r||t||n.reply),n.reply||(n.reply=t||n.root),[n.reply,n.root].forEach(e=>{if(!e)return;let t=n.mentions.indexOf(e);if(-1!==t&&n.mentions.splice(t,1),e.author){let t=n.profiles.find(t=>t.pubkey===e.author);t&&t.relays&&(e.relays||(e.relays=[]),t.relays.forEach(t=>{e.relays?.indexOf(t)===-1&&e.relays.push(t)}),t.relays=e.relays)}}),n.mentions.forEach(e=>{if(e.author){let t=n.profiles.find(t=>t.pubkey===e.author);t&&t.relays&&(e.relays||(e.relays=[]),t.relays.forEach(t=>{-1===e.relays.indexOf(t)&&e.relays.push(t)}),t.relays=e.relays)}}),n}rr({},{parse:()=>im}),rr({},{fetchRelayInformation:()=>iv,useFetchImplementation:()=>ib});try{s=fetch}catch{}function ib(e){s=e}async function iv(e){return await (await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}function iw(e){let t=0;for(let r=0;r<64;r+=8){let n=parseInt(e.substring(r,r+8),16);if(0===n)t+=32;else{t+=Math.clz32(n);break}}return t}function iE(e,t){let r=0,n=e,i=["nonce","0",t.toString()];for(n.tags.push(i);;){let e=Math.floor(new Date().getTime()/1e3);if(e!==n.created_at&&(r=0,n.created_at=e),i[1]=(++r).toString(),n.id=i_(n),iw(n.id)>=t)break}return n}function i_(e){return td(tN(ra.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}function ix(e,t,r,n){return rv({kind:rC,tags:[...e.tags??[],["e",t.id,r],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},n)}function iR(e){let t,r;if(e.kind===rC){for(let n=e.tags.length-1;n>=0&&(void 0===t||void 0===r);n--){let i=e.tags[n];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===r&&(r=i))}if(void 0!==t)return{id:t[1],relays:[t[2],r?.[2]].filter(e=>"string"==typeof e),author:r?.[1]}}}function iS(e,{skipVerification:t}={}){let r;let n=iR(e);if(void 0!==n&&""!==e.content){try{r=JSON.parse(e.content)}catch(e){return}if(r.id===n.id&&(t||rw(r)))return r}}rr({},{fastEventHash:()=>i_,getPow:()=>iw,minePow:()=>iE}),rr({},{finishRepostEvent:()=>ix,getRepostedEvent:()=>iS,getRepostedEventPointer:()=>iR}),rr({},{NOSTR_URI_REGEX:()=>iO,parse:()=>iA,test:()=>iP});var iO=RegExp(`nostr:(${n2.source})`);function iP(e){return"string"==typeof e&&RegExp(`^${iO.source}$`).test(e)}function iA(e){let t=e.match(RegExp(`^${iO.source}$`));if(!t)throw Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:n4(t[1])}}function ik(e,t,r){let n=t.tags.filter(e=>e.length>=2&&("e"===e[0]||"p"===e[0]));return rv({...e,kind:rN,tags:[...e.tags??[],...n,["e",t.id],["p",t.pubkey]],content:e.content??"+"},r)}function iT(e){let t,r;if(e.kind===rN){for(let n=e.tags.length-1;n>=0&&(void 0===t||void 0===r);n--){let i=e.tags[n];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===r&&(r=i))}if(void 0!==t&&void 0!==r)return{id:t[1],relays:[t[2],r[2]].filter(e=>void 0!==e),author:r[1]}}}rr({},{finishReactionEvent:()=>ik,getReactedEventPointer:()=>iT}),rr({},{matchAll:()=>ij,regex:()=>iM,replaceAll:()=>iC});var iM=()=>RegExp(`\\b${iO.source}\\b`,"g");function*ij(e){for(let t of e.matchAll(iM()))try{let[e,r]=t;yield{uri:e,value:r,decoded:n4(r),start:t.index,end:t.index+e.length}}catch(e){}}function iC(e,t){return e.replaceAll(iM(),(e,r)=>t({uri:e,value:r,decoded:n4(r)}))}rr({},{channelCreateEvent:()=>iN,channelHideMessageEvent:()=>iD,channelMessageEvent:()=>iU,channelMetadataEvent:()=>iI,channelMuteUserEvent:()=>iL});var iN=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return rv({kind:rB,tags:[...e.tags??[]],content:r,created_at:e.created_at},t)},iI=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return rv({kind:rF,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:r,created_at:e.created_at},t)},iU=(e,t)=>{let r=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&r.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),rv({kind:r$,tags:[...r,...e.tags??[]],content:e.content,created_at:e.created_at},t)},iD=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return rv({kind:rH,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:r,created_at:e.created_at},t)},iL=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return rv({kind:rz,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:r,created_at:e.created_at},t)};rr({},{EMOJI_SHORTCODE_REGEX:()=>iB,matchAll:()=>i$,regex:()=>iF,replaceAll:()=>iH});var iB=/:(\w+):/,iF=()=>RegExp(`\\B${iB.source}\\B`,"g");function*i$(e){for(let t of e.matchAll(iF()))try{let[e,r]=t;yield{shortcode:e,name:r,start:t.index,end:t.index+e.length}}catch(e){}}function iH(e,t){return e.replaceAll(iF(),(e,r)=>t({shortcode:e,name:r}))}rr({},{useFetchImplementation:()=>iz,validateGithub:()=>iq});try{a=fetch}catch{}function iz(e){a=e}async function iq(e,t,r){try{return await (await a(`https://gist.github.com/${t}/${r}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch(e){return!1}}var iW={};rr(iW,{decrypt:()=>i3,encrypt:()=>i2,getConversationKey:()=>iG,v2:()=>i4});var iV=1,iK=65535;function iG(e,t){return t5(tN,e0.getSharedSecret(e,"02"+t).subarray(1,33),"nip44-v2")}function iY(e,t){let r=re(tN,e,t,76);return{chacha_key:r.subarray(0,32),chacha_nonce:r.subarray(32,44),hmac_key:r.subarray(44,76)}}function iJ(e){if(!Number.isSafeInteger(e)||e<1)throw Error("expected positive integer");if(e<=32)return 32;let t=1<<Math.floor(Math.log2(e-1))+1,r=t<=256?32:t/8;return r*(Math.floor((e-1)/r)+1)}function iZ(e){if(!Number.isSafeInteger(e)||e<iV||e>iK)throw Error("invalid plaintext size: must be between 1 and 65535 bytes");let t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function iX(e){let t=ra.encode(e),r=t.length;return ty(iZ(r),t,new Uint8Array(iJ(r)-r))}function iQ(e){let t=new DataView(e.buffer).getUint16(0),r=e.subarray(2,2+t);if(t<iV||t>iK||r.length!==t||e.length!==2+iJ(t))throw Error("invalid padding");return rs.decode(r)}function i0(e,t,r){if(32!==r.length)throw Error("AAD associated data must be 32 bytes");return t6(tN,e,ty(r,t))}function i1(e){let t;if("string"!=typeof e)throw Error("payload must be a valid string");let r=e.length;if(r<132||r>87472)throw Error("invalid payload length: "+r);if("#"===e[0])throw Error("unknown encryption version");try{t=tG.decode(e)}catch(e){throw Error("invalid base64: "+e.message)}let n=t.length;if(n<99||n>65603)throw Error("invalid data length: "+n);let i=t[0];if(2!==i)throw Error("unknown encryption version "+i);return{nonce:t.subarray(1,33),ciphertext:t.subarray(33,-32),mac:t.subarray(-32)}}function i2(e,t,r=tv(32)){let{chacha_key:n,chacha_nonce:i,hmac_key:o}=iY(t,r),s=iX(e),a=(0,t3.vK)(n,i,s),l=i0(o,a,r);return tG.encode(ty(new Uint8Array([2]),r,a,l))}function i3(e,t){let{nonce:r,ciphertext:n,mac:i}=i1(e),{chacha_key:o,chacha_nonce:s,hmac_key:a}=iY(t,r),l=i0(a,n,r);if(!(0,t4.ex)(l,i))throw Error("invalid MAC");return iQ((0,t3.vK)(o,s,n))}var i4={utils:{getConversationKey:iG,calcPaddedLen:iJ},encrypt:i2,decrypt:i3};function i8(e){let{pathname:t,searchParams:r}=new URL(e),n=t,i=r.get("relay"),o=r.get("secret");if(!n||!i||!o)throw Error("invalid connection string");return{pubkey:n,relay:i,secret:o}}async function i6(e,t,r){let n={method:"pay_invoice",params:{invoice:r}},i=await ia(t,e,JSON.stringify(n));return rv({kind:nf,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]},t)}rr({},{makeNwcRequestEvent:()=>i6,parseConnectionString:()=>i8});var i5={};rr(i5,{getZapEndpoint:()=>i7,makeZapReceipt:()=>or,makeZapRequest:()=>oe,useFetchImplementation:()=>i9,validateZapRequest:()=>ot});try{l=fetch}catch{}function i9(e){l=e}async function i7(e){try{let t="",{lud06:r,lud16:n}=JSON.parse(e.content);if(r){let{words:e}=t1.decode(r,1e3),n=t1.fromWords(e);t=rs.decode(n)}else{if(!n)return null;let[e,r]=n.split("@");t=new URL(`/.well-known/lnurlp/${e}`,`https://${r}`).toString()}let i=await l(t),o=await i.json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch(e){}return null}function oe({profile:e,event:t,amount:r,relays:n,comment:i=""}){if(!r)throw Error("amount not given");if(!e)throw Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",r.toString()],["relays",...n]]};return t&&o.tags.push(["e",t]),o}function ot(e){let t;try{t=JSON.parse(e)}catch(e){return"Invalid zap request JSON."}if(!ro(t))return"Zap request is not a valid Nostr event.";if(!rw(t))return"Invalid signature on zap request.";let r=t.tags.find(([e,t])=>"p"===e&&t);if(!r)return"Zap request doesn't have a 'p' tag.";if(!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let n=t.tags.find(([e,t])=>"e"===e&&t);return n&&!n[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([e,t])=>"relays"===e&&t)?null:"Zap request doesn't have a 'relays' tag."}function or({zapRequest:e,preimage:t,bolt11:r,paidAt:n}){let i=JSON.parse(e),o=i.tags.filter(([e])=>"e"===e||"p"===e||"a"===e),s={kind:9735,created_at:Math.round(n.getTime()/1e3),content:"",tags:[...o,["P",i.pubkey],["bolt11",r],["description",e]]};return t&&s.tags.push(["preimage",t]),s}rr({},{createRumor:()=>ou,createSeal:()=>oc,createWrap:()=>of,unwrapEvent:()=>op,unwrapManyEvents:()=>og,wrapEvent:()=>od,wrapManyEvents:()=>oh});var on=172800,oi=()=>Math.round(Date.now()/1e3),oo=()=>Math.round(oi()-Math.random()*on),os=(e,t)=>iG(e,t),oa=(e,t,r)=>i2(JSON.stringify(e),os(t,r)),ol=(e,t)=>JSON.parse(i3(e.content,os(t,e.pubkey)));function ou(e,t){let r={created_at:oi(),content:"",tags:[],...e,pubkey:rb(t)};return r.id=rg(r),r}function oc(e,t,r){return rv({kind:rU,content:oa(e,t,r),created_at:oo(),tags:[]},t)}function of(e,t){let r=rm();return rv({kind:rW,content:oa(e,r,t),created_at:oo(),tags:[["p",t]]},r)}function od(e,t,r){return of(oc(ou(e,t),t,r),r)}function oh(e,t,r){if(!r||0===r.length)throw Error("At least one recipient is required.");let n=rb(t),i=[od(e,t,n)];return r.forEach(r=>{i.push(od(e,t,r))}),i}function op(e,t){let r=ol(e,t);return ol(r,t)}function og(e,t){let r=[];return e.forEach(e=>{r.push(op(e,t))}),r.sort((e,t)=>e.created_at-t.created_at),r}rr({},{getToken:()=>om,hashPayload:()=>oR,unpackEventFromToken:()=>ov,validateEvent:()=>oO,validateEventKind:()=>oE,validateEventMethodTag:()=>ox,validateEventPayloadTag:()=>oS,validateEventTimestamp:()=>ow,validateEventUrlTag:()=>o_,validateToken:()=>ob});var oy="Nostr ";async function om(e,t,r,n=!1,i){let o={kind:np,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&o.tags.push(["payload",oR(i)]);let s=await r(o);return(n?oy:"")+tG.encode(ra.encode(JSON.stringify(s)))}async function ob(e,t,r){let n=await ov(e).catch(e=>{throw e});return await oO(n,t,r).catch(e=>{throw e})}async function ov(e){if(!e)throw Error("Missing token");e=e.replace(oy,"");let t=rs.decode(tG.decode(e));if(!t||0===t.length||!t.startsWith("{"))throw Error("Invalid token");return JSON.parse(t)}function ow(e){return!!e.created_at&&Math.round(new Date().getTime()/1e3)-e.created_at<60}function oE(e){return e.kind===np}function o_(e,t){let r=e.tags.find(e=>"u"===e[0]);return!!r&&r.length>0&&r[1]===t}function ox(e,t){let r=e.tags.find(e=>"method"===e[0]);return!!r&&r.length>0&&r[1].toLowerCase()===t.toLowerCase()}function oR(e){return td(tN(ra.encode(JSON.stringify(e))))}function oS(e,t){let r=e.tags.find(e=>"payload"===e[0]);if(!r)return!1;let n=oR(t);return r.length>0&&r[1]===n}async function oO(e,t,r,n){if(!rw(e))throw Error("Invalid nostr event, signature invalid");if(!oE(e))throw Error("Invalid nostr event, kind invalid");if(!ow(e))throw Error("Invalid nostr event, created_at timestamp invalid");if(!o_(e,t))throw Error("Invalid nostr event, url tag invalid");if(!ox(e,r))throw Error("Invalid nostr event, method tag invalid");if(n&&"object"==typeof n&&Object.keys(n).length>0&&!oS(e,n))throw Error("Invalid nostr event, payload tag does not match request body hash");return!0}function oP(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function oA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ok(e,...t){if(!oA(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function oT(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");oP(e.outputLen),oP(e.blockLen)}function oM(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function oj(e,t){ok(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}let oC=w&&"object"==typeof w&&"webcrypto"in w?v.webcrypto:w&&"object"==typeof w&&"randomBytes"in w?w:void 0;function oN(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function oI(e,t){return e<<32-t|e>>>t}let oU=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function oD(e){ok(e);let t="";for(let r=0;r<e.length;r++)t+=oU[e[r]];return t}let oL={_0:48,_9:57,A:65,F:70,a:97,f:102};function oB(e){return e>=oL._0&&e<=oL._9?e-oL._0:e>=oL.A&&e<=oL.F?e-(oL.A-10):e>=oL.a&&e<=oL.f?e-(oL.a-10):void 0}function oF(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=oB(e.charCodeAt(i)),o=oB(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function o$(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function oH(e){return"string"==typeof e&&(e=o$(e)),ok(e),e}function oz(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];ok(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class oq{clone(){return this._cloneInto()}}function oW(e){let t=t=>e().update(oH(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function oV(e=32){if(oC&&"function"==typeof oC.getRandomValues)return oC.getRandomValues(new Uint8Array(e));if(oC&&"function"==typeof oC.randomBytes)return oC.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}function oK(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>i&o),a=Number(r&o),l=4*!!n,u=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+u,a,n)}function oG(e,t,r){return e&t^~e&r}function oY(e,t,r){return e&t^e&r^t&r}class oJ extends oq{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=oN(this.buffer)}update(e){oM(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=oH(e)).length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let t=oN(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oM(this),oj(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;oK(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=oN(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}let oZ=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),oX=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),oQ=new Uint32Array(64);class o0 extends oJ{constructor(){super(64,32,8,!1),this.A=0|oX[0],this.B=0|oX[1],this.C=0|oX[2],this.D=0|oX[3],this.E=0|oX[4],this.F=0|oX[5],this.G=0|oX[6],this.H=0|oX[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)oQ[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=oQ[e-15],r=oQ[e-2],n=oI(t,7)^oI(t,18)^t>>>3,i=oI(r,17)^oI(r,19)^r>>>10;oQ[e]=i+oQ[e-7]+n+oQ[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(oI(s,6)^oI(s,11)^oI(s,25))+oG(s,a,l)+oZ[e]+oQ[e]|0,c=(oI(r,2)^oI(r,13)^oI(r,22))+oY(r,n,i)|0;u=l,l=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,a,l,u)}roundClean(){oQ.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let o1=oW(()=>new o0);class o2 extends oq{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,oT(e);let r=oH(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return oM(this),this.iHash.update(e),this}digestInto(e){oM(this),ok(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let o3=(e,t,r)=>new o2(e,t).update(r).digest();o3.create=(e,t)=>new o2(e,t);let o4=BigInt(0),o8=BigInt(1),o6=BigInt(2);function o5(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function o9(e){if(!o5(e))throw Error("Uint8Array expected")}function o7(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let se=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function st(e){o9(e);let t="";for(let r=0;r<e.length;r++)t+=se[e[r]];return t}function sr(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function sn(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?o4:BigInt("0x"+e)}let si={_0:48,_9:57,A:65,F:70,a:97,f:102};function so(e){return e>=si._0&&e<=si._9?e-si._0:e>=si.A&&e<=si.F?e-(si.A-10):e>=si.a&&e<=si.f?e-(si.a-10):void 0}function ss(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=so(e.charCodeAt(i)),o=so(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function sa(e){return sn(st(e))}function sl(e){return o9(e),sn(st(Uint8Array.from(e).reverse()))}function su(e,t){return ss(e.toString(16).padStart(2*t,"0"))}function sc(e,t){return su(e,t).reverse()}function sf(e,t,r){let n;if("string"==typeof t)try{n=ss(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(o5(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function sd(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];o9(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let sh=e=>"bigint"==typeof e&&o4<=e;function sp(e,t,r){return sh(e)&&sh(t)&&sh(r)&&t<=e&&e<r}function sg(e,t,r,n){if(!sp(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function sy(e){let t;for(t=0;e>o4;e>>=o8,t+=1);return t}let sm=e=>(o6<<BigInt(e-1))-o8,sb=e=>new Uint8Array(e),sv=e=>Uint8Array.from(e);function sw(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=sb(e),i=sb(e),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),l=(e=sb())=>{i=a(sv([0]),e),n=a(),0!==e.length&&(i=a(sv([1]),e),n=a())},u=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return sd(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(u()));)l();return s(),r}}let sE={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||o5(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function s_(e,t,r={}){let n=(t,r,n)=>{let i=sE[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function sx(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let sR=BigInt(0),sS=BigInt(1),sO=BigInt(2),sP=BigInt(3),sA=BigInt(4),sk=BigInt(5),sT=BigInt(8);function sM(e,t){let r=e%t;return r>=sR?r:t+r}function sj(e,t,r){if(t<sR)throw Error("invalid exponent, negatives unsupported");if(r<=sR)throw Error("invalid modulus");if(r===sS)return sR;let n=sS;for(;t>sR;)t&sS&&(n=n*e%r),e=e*e%r,t>>=sS;return n}function sC(e,t,r){let n=e;for(;t-- >sR;)n*=n,n%=r;return n}function sN(e,t){if(e===sR)throw Error("invert: expected non-zero number");if(t<=sR)throw Error("invert: expected positive modulus, got "+t);let r=sM(e,t),n=t,i=sR,o=sS,s=sS,a=sR;for(;r!==sR;){let e=n/r,t=n%r,l=i-s*e,u=o-a*e;n=r,r=t,i=s,o=a,s=l,a=u}if(n!==sS)throw Error("invert: does not exist");return sM(i,t)}function sI(e){let t,r,n;let i=(e-sS)/sO;for(t=e-sS,r=0;t%sO===sR;t/=sO,r++);for(n=sO;n<e&&sj(n,i,e)!==e-sS;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+sS)/sA;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let o=(t+sS)/sO;return function(e,s){if(e.pow(s,i)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,n),t),u=e.pow(s,o),c=e.pow(s,t);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,sS<<BigInt(a-t-1));l=e.sqr(r),u=e.mul(u,r),c=e.mul(c,l),a=t}return u}}function sU(e){if(e%sA===sP){let t=(e+sS)/sA;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%sT===sk){let t=(e-sk)/sT;return function(e,r){let n=e.mul(r,sO),i=e.pow(n,t),o=e.mul(r,i),s=e.mul(e.mul(o,sO),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return sI(e)}let sD=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sL(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"};return s_(e,sD.reduce((e,t)=>(e[t]="function",e),t))}function sB(e,t,r){if(r<sR)throw Error("invalid exponent, negatives unsupported");if(r===sR)return e.ONE;if(r===sS)return t;let n=e.ONE,i=t;for(;r>sR;)r&sS&&(n=e.mul(n,i)),i=e.sqr(i),r>>=sS;return n}function sF(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r}function s$(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function sH(e,t,r=!1,n={}){let i;if(e<=sR)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=s$(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:sm(o),ZERO:sR,ONE:sS,create:t=>sM(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return sR<=t&&t<e},is0:e=>e===sR,isOdd:e=>(e&sS)===sS,neg:t=>sM(-t,e),eql:(e,t)=>e===t,sqr:t=>sM(t*t,e),add:(t,r)=>sM(t+r,e),sub:(t,r)=>sM(t-r,e),mul:(t,r)=>sM(t*r,e),pow:(e,t)=>sB(a,e,t),div:(t,r)=>sM(t*sN(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>sN(t,e),sqrt:n.sqrt||(t=>(i||(i=sU(e)),i(a,t))),invertBatch:e=>sF(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?sc(e,s):su(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?sl(e):sa(e)}});return Object.freeze(a)}function sz(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function sq(e){let t=sz(e);return t+Math.ceil(t/2)}function sW(e,t,r=!1){let n=e.length,i=sz(t),o=sq(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=sM(r?sl(e):sa(e),t-sS)+sS;return r?sc(s,i):su(s,i)}let sV=BigInt(0),sK=BigInt(1);function sG(e,t){let r=t.negate();return e?r:t}function sY(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function sJ(e,t){return sY(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}function sZ(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}function sX(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}let sQ=new WeakMap,s0=new WeakMap;function s1(e){return s0.get(e)||1}function s2(e,t){return{constTimeNegate:sG,hasPrecomputes:e=>1!==s1(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>sV;)r&sK&&(n=n.add(i)),i=i.double(),r>>=sK;return n},precomputeWindow(e,r){let{windows:n,windowSize:i}=sJ(r,t),o=[],s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(r,n,i){let{windows:o,windowSize:s}=sJ(r,t),a=e.ZERO,l=e.BASE,u=BigInt(2**r-1),c=2**r,f=BigInt(r);for(let e=0;e<o;e++){let t=e*s,r=Number(i&u);i>>=f,r>s&&(r-=c,i+=sK);let o=t,d=t+Math.abs(r)-1,h=e%2!=0,p=r<0;0===r?l=l.add(sG(h,n[o])):a=a.add(sG(p,n[d]))}return{p:a,f:l}},wNAFUnsafe(r,n,i,o=e.ZERO){let{windows:s,windowSize:a}=sJ(r,t),l=BigInt(2**r-1),u=2**r,c=BigInt(r);for(let e=0;e<s;e++){let t=e*a;if(i===sV)break;let r=Number(i&l);if(i>>=c,r>a&&(r-=u,i+=sK),0===r)continue;let s=n[t+Math.abs(r)-1];r<0&&(s=s.negate()),o=o.add(s)}return o},getPrecomputes(e,t,r){let n=sQ.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&sQ.set(t,r(n))),n},wNAFCached(e,t,r){let n=s1(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=s1(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){sY(r,t),s0.set(e,r),sQ.delete(e)}}}function s3(e,t,r,n){if(sZ(r,e),sX(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,o=sy(BigInt(r.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,l=Array(a+1).fill(i),u=Math.floor((t.BITS-1)/s)*s,c=i;for(let e=u;e>=0;e-=s){l.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(a));l[i]=l[i].add(r[t])}let t=i;for(let e=l.length-1,r=i;e>0;e--)r=r.add(l[e]),t=t.add(r);if(c=c.add(t),0!==e)for(let e=0;e<s;e++)c=c.double()}return c}function s4(e){return sL(e.Fp),s_(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...s$(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function s8(e){void 0!==e.lowS&&o7("lowS",e.lowS),void 0!==e.prehash&&o7("prehash",e.prehash)}function s6(e){let t=s4(e);s_(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}let{Ph:s5,aT:s9}=f;class s7 extends Error{constructor(e=""){super(e)}}let ae={Err:s7,_tlv:{encode:(e,t)=>{let{Err:r}=ae;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=sr(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?sr(i.length/2|128):"";return sr(e)+o+i+t},decode(e,t){let{Err:r}=ae,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=ae;if(e<at)throw new t("integer: negative integers are not allowed");let r=sr(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ae;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return s5(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ae,i="string"==typeof e?s9(e):e;o9(i);let{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:l}=n.decode(2,o),{v:u,l:c}=n.decode(2,l);if(c.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){let{_tlv:t,_int:r}=ae,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}},at=BigInt(0),ar=BigInt(1),an=BigInt(2),ai=BigInt(3),ao=BigInt(4);function as(e){let t=s6(e),{Fp:r}=t,n=sH(t.n,t.nBitLength),i=t.toBytes||((e,t,n)=>{let i=t.toAffine();return sd(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),o=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){let{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw Error("bad generator point: equation left != right");function a(e){return sp(e,ar,t.n)}function l(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=t;if(n&&"bigint"!=typeof e){if(o5(e)&&(e=st(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:sa(sf("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(r=sM(r,s)),sg("private key",r,ar,s),r}function u(e){if(!(e instanceof d))throw Error("ProjectivePoint expected")}let c=sx((e,t)=>{let{px:n,py:i,pz:o}=e;if(r.eql(o,r.ONE))return{x:n,y:i};let s=e.is0();null==t&&(t=s?r.ONE:r.inv(o));let a=r.mul(n,t),l=r.mul(i,t),u=r.mul(o,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw Error("invZ was invalid");return{x:a,y:l}}),f=sx(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw Error("bad point: ZERO")}let{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw Error("bad point: x or y not FE");let o=r.sqr(i),a=s(n);if(!r.eql(o,a))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class d{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required");Object.freeze(this)}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof d)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(d.fromAffine)}static fromHex(e){let t=d.fromAffine(o(sf("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}static msm(e,t){return s3(d,n,e,t)}_setWindowSize(e){p.setWindowSize(this,e)}assertValidity(){f(this)}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){u(e);let{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,l=r.eql(r.mul(t,a),r.mul(o,i)),c=r.eql(r.mul(n,a),r.mul(s,i));return l&&c}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,ai),{px:o,py:s,pz:a}=this,l=r.ZERO,u=r.ZERO,c=r.ZERO,f=r.mul(o,o),h=r.mul(s,s),p=r.mul(a,a),g=r.mul(o,s);return g=r.add(g,g),c=r.mul(o,a),c=r.add(c,c),l=r.mul(e,c),u=r.mul(i,p),u=r.add(l,u),l=r.sub(h,u),u=r.add(h,u),u=r.mul(l,u),l=r.mul(g,l),c=r.mul(i,c),p=r.mul(e,p),g=r.sub(f,p),g=r.mul(e,g),g=r.add(g,c),c=r.add(f,f),f=r.add(c,f),f=r.add(f,p),f=r.mul(f,g),u=r.add(u,f),p=r.mul(s,a),p=r.add(p,p),f=r.mul(p,g),l=r.sub(l,f),c=r.mul(p,h),c=r.add(c,c),new d(l,u,c=r.add(c,c))}add(e){u(e);let{px:n,py:i,pz:o}=this,{px:s,py:a,pz:l}=e,c=r.ZERO,f=r.ZERO,h=r.ZERO,p=t.a,g=r.mul(t.b,ai),y=r.mul(n,s),m=r.mul(i,a),b=r.mul(o,l),v=r.add(n,i),w=r.add(s,a);v=r.mul(v,w),w=r.add(y,m),v=r.sub(v,w),w=r.add(n,o);let E=r.add(s,l);return w=r.mul(w,E),E=r.add(y,b),w=r.sub(w,E),E=r.add(i,o),c=r.add(a,l),E=r.mul(E,c),c=r.add(m,b),E=r.sub(E,c),h=r.mul(p,w),c=r.mul(g,b),h=r.add(c,h),c=r.sub(m,h),h=r.add(m,h),f=r.mul(c,h),m=r.add(y,y),m=r.add(m,y),b=r.mul(p,b),w=r.mul(g,w),m=r.add(m,b),b=r.sub(y,b),b=r.mul(p,b),w=r.add(w,b),y=r.mul(m,w),f=r.add(f,y),y=r.mul(E,w),c=r.mul(v,c),c=r.sub(c,y),y=r.mul(v,m),h=r.mul(E,h),new d(c,f,h=r.add(h,y))}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,e,d.normalizeZ)}multiplyUnsafe(e){let{endo:n,n:i}=t;sg("scalar",e,at,i);let o=d.ZERO;if(e===at)return o;if(this.is0()||e===ar)return this;if(!n||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,e,d.normalizeZ);let{k1neg:s,k1:a,k2neg:l,k2:u}=n.splitScalar(e),c=o,f=o,h=this;for(;a>at||u>at;)a&ar&&(c=c.add(h)),u&ar&&(f=f.add(h)),h=h.double(),a>>=ar,u>>=ar;return s&&(c=c.negate()),l&&(f=f.negate()),f=new d(r.mul(f.px,n.beta),f.py,f.pz),c.add(f)}multiply(e){let n,i;let{endo:o,n:s}=t;if(sg("scalar",e,ar,s),o){let{k1neg:t,k1:s,k2neg:a,k2:l}=o.splitScalar(e),{p:u,f:c}=this.wNAF(s),{p:f,f:h}=this.wNAF(l);u=p.constTimeNegate(t,u),f=p.constTimeNegate(a,f),f=new d(r.mul(f.px,o.beta),f.py,f.pz),n=u.add(f),i=c.add(h)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return d.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=d.BASE,i=(e,t)=>t!==at&&t!==ar&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return c(this,e)}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===ar)return!0;if(r)return r(d,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===ar?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return o7("isCompressed",e),this.assertValidity(),i(d,this,e)}toHex(e=!0){return o7("isCompressed",e),st(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);let h=t.nBitLength,p=s2(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function aa(e){let t=s4(e);return s_(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function al(e){let t=aa(e),{Fp:r,n:n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(e){return sM(e,n)}function a(e){return sN(e,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:f}=as({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x),s=sd;return(o7("isCompressed",n),n)?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],s=e.subarray(1);if(t===i&&(2===n||3===n)){let e;let t=sa(s);if(!sp(t,ar,r.ORDER))throw Error("Point is not on curve");let i=c(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&ar)===ar)&&(e=r.neg(e)),{x:t,y:e}}if(t===o&&4===n)return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+i+", or uncompressed "+o+", got "+t)}}),d=e=>st(su(e,t.nByteLength));function h(e){return e>n>>ar}function p(e){return h(e)?s(-e):e}let g=(e,t,r)=>sa(e.slice(t,r));class y{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new y(g(e=sf("compactSignature",e,2*r),0,r),g(e,r,2*r))}static fromDER(e){let{r:t,s:r}=ae.toSig(sf("DER",e));return new y(t,r)}assertValidity(){sg("r",this.r,ar,n),sg("s",this.s,ar,n)}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){let{r:n,s:i,recovery:o}=this,u=_(sf("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw Error("recovery id invalid");let c=2===o||3===o?n+t.n:n;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let f=(1&o)==0?"02":"03",h=l.fromHex(f+d(c)),p=a(c),g=s(-u*p),y=s(i*p),m=l.BASE.multiplyAndAddUnsafe(h,g,y);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return ss(this.toDERHex())}toDERHex(){return ae.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ss(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}let m={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let e=sq(t.n);return sW(t.randomBytes(e),t.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function b(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)}function v(e){let t=o5(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof l}function w(e,t,r=!0){if(v(e))throw Error("first arg must be private key");if(!v(t))throw Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(r)}let E=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let r=sa(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},_=t.bits2int_modN||function(e){return s(E(e))},x=sm(t.nBitLength);function R(e){return sg("num < 2^"+t.nBitLength,e,at,x),su(e,t.nByteLength)}function S(e,n,i=O){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{hash:o,randomBytes:c}=t,{lowS:d,prehash:g,extraEntropy:m}=i;null==d&&(d=!0),e=sf("msgHash",e),s8(i),g&&(e=sf("prehashed msgHash",o(e)));let b=_(e),v=u(n),w=[R(v),R(b)];if(null!=m&&!1!==m){let e=!0===m?c(r.BYTES):m;w.push(sf("extraEntropy",e))}let x=sd(...w),P=b;return{seed:x,k2sig:function(e){let t=E(e);if(!f(t))return;let r=a(t),n=l.BASE.multiply(t).toAffine(),i=s(n.x);if(i===at)return;let o=s(r*s(P+i*v));if(o===at)return;let u=2*(n.x!==i)|Number(n.y&ar),c=o;return d&&h(o)&&(c=p(o),u^=1),new y(i,c,u)}}}let O={lowS:t.lowS,prehash:!1},P={lowS:t.lowS,prehash:!1};function A(e,r,n=O){let{seed:i,k2sig:o}=S(e,r,n),s=t;return sw(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)}function k(e,r,n,i=P){let o,u;let c=e;r=sf("msgHash",r),n=sf("publicKey",n);let{lowS:f,prehash:d,format:h}=i;if(s8(i),"strict"in i)throw Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw Error("format must be compact or der");let p="string"==typeof c||o5(c),g=!p&&!h&&"object"==typeof c&&null!==c&&"bigint"==typeof c.r&&"bigint"==typeof c.s;if(!p&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(u=new y(c.r,c.s)),p){try{"compact"!==h&&(u=y.fromDER(c))}catch(e){if(!(e instanceof ae.Err))throw e}u||"der"===h||(u=y.fromCompact(c))}o=l.fromHex(n)}catch(e){return!1}if(!u||f&&u.hasHighS())return!1;d&&(r=t.hash(r));let{r:m,s:b}=u,v=_(r),w=a(b),E=s(v*w),x=s(m*w),R=l.BASE.multiplyAndAddUnsafe(o,E,x)?.toAffine();return!!R&&s(R.x)===m}return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:b,getSharedSecret:w,sign:A,verify:k,ProjectivePoint:l,Signature:y,utils:m}}function au(e){return{hash:e,hmac:(t,...r)=>o3(e,t,oz(...r)),randomBytes:oV}}function ac(e,t){let r=t=>al({...e,...au(t)});return{...r(t),create:r}}let af=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ad=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ah=BigInt(1),ap=BigInt(2),ag=(e,t)=>(e+t/ap)/t;function ay(e){let t=af,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,f=sC(c,r,t)*c%t,d=sC(f,r,t)*c%t,h=sC(d,ap,t)*u%t,p=sC(h,i,t)*h%t,g=sC(p,o,t)*p%t,y=sC(g,a,t)*g%t,m=sC(y,l,t)*y%t,b=sC(m,a,t)*g%t,v=sC(b,r,t)*c%t,w=sC(v,s,t)*p%t,E=sC(w,n,t)*u%t,_=sC(E,ap,t);if(!am.eql(am.sqr(_),e))throw Error("Cannot find square root");return _}let am=sH(af,void 0,void 0,{sqrt:ay}),ab=ac({a:BigInt(0),b:BigInt(7),Fp:am,n:ad,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=ad,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ah*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=ag(o*e,t),l=ag(-n*e,t),u=sM(e-a*r-l*i,t),c=sM(-a*n-l*o,t),f=u>s,d=c>s;if(f&&(u=t-u),d&&(c=t-c),u>s||c>s)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:c}}}},o1),av=BigInt(0),aw={};function aE(e,...t){let r=aw[e];if(void 0===r){let t=o1(Uint8Array.from(e,e=>e.charCodeAt(0)));r=sd(t,t),aw[e]=r}return o1(sd(r,...t))}let a_=e=>e.toRawBytes(!0).slice(1),ax=e=>su(e,32),aR=e=>sM(e,af),aS=e=>sM(e,ad),aO=ab.ProjectivePoint,aP=(e,t,r)=>aO.BASE.multiplyAndAddUnsafe(e,t,r);function aA(e){let t=ab.utils.normPrivateKeyToScalar(e),r=aO.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:aS(-t),bytes:a_(r)}}function ak(e){sg("x",e,ah,af);let t=aR(e*e),r=ay(aR(t*e+BigInt(7)));r%ap!==av&&(r=aR(-r));let n=new aO(e,r,ah);return n.assertValidity(),n}let aT=sa;function aM(...e){return aS(aT(aE("BIP0340/challenge",...e)))}function aj(e,t,r){let n=sf("signature",e,64),i=sf("message",t),o=sf("publicKey",r,32);try{let e=ak(aT(o)),t=aT(n.subarray(0,32));if(!sp(t,ah,af))return!1;let r=aT(n.subarray(32,64));if(!sp(r,ah,ad))return!1;let s=aM(ax(t),a_(e),i),a=aP(e,r,aS(-s));if(!a||!a.hasEvenY()||a.toAffine().x!==t)return!1;return!0}catch(e){return!1}}let aC={getPublicKey:function e(e){return aA(e).bytes},sign:function e(t,r,n=oV(32)){let i=sf("message",t),{bytes:o,scalar:s}=aA(r),a=ax(s^aT(aE("BIP0340/aux",sf("auxRand",n,32)))),l=aS(aT(aE("BIP0340/nonce",a,o,i)));if(l===av)throw Error("sign failed: k is zero");let{bytes:u,scalar:c}=aA(l),f=aM(u,o,i),d=new Uint8Array(64);if(d.set(u,0),d.set(ax(aS(c+f*s)),32),!aj(d,i,o))throw Error("sign: Invalid signature produced");return d},verify:aj,utils:{randomPrivateKey:ab.utils.randomPrivateKey,lift_x:ak,pointToBytes:a_,numberToBytesBE:su,bytesToNumberBE:sa,taggedHash:aE,mod:sM}};var aN=r(1611);function aI(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function aU(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function aD(e){if("function"!=typeof e)throw Error("function expected");return!0}function aL(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function aB(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function aF(e){if(!Array.isArray(e))throw Error("array expected")}function a$(e,t){if(!aU(!0,t))throw Error(`${e}: array of strings expected`)}function aH(e,t){if(!aU(!1,t))throw Error(`${e}: array of numbers expected`)}function az(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function aq(e){let t="string"==typeof e?e.split(""):e,r=t.length;a$("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(aF(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(aF(t),t.map(t=>{aL("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function aW(e=""){return aL("join",e),{encode:t=>(a$("join.decode",t),t.join(e)),decode:t=>(aL("join.decode",t),t.split(e))}}function aV(e,t,r){if(t<2)throw Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(aF(e),!e.length)return[];let n=0,i=[],o=Array.from(e,e=>{if(aB(e),e<0||e>=t)throw Error(`invalid integer: ${e}`);return e}),s=o.length;for(;;){let e=0,a=!0;for(let i=n;i<s;i++){let s=o[i],l=t*e,u=l+s;if(!Number.isSafeInteger(u)||l/t!==e||u-s!==l)throw Error("convertRadix: carry overflow");let c=u/r;e=u%r;let f=Math.floor(c);if(o[i]=f,!Number.isSafeInteger(f)||f*r+e!==u)throw Error("convertRadix: carry overflow");a&&(f?a=!1:n=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}r(5876);let aK=(e,t)=>0===t?e:aK(t,e%t),aG=(e,t)=>e+(t-aK(e,t)),aY=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function aJ(e,t,r,n){if(aF(e),t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(aG(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${aG(t,r)}`);let i=0,o=0,s=aY[t],a=aY[r]-1,l=[];for(let n of e){if(aB(n),n>=s)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,o+t>32)throw Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)l.push((i>>o-r&a)>>>0);let e=aY[o];if(void 0===e)throw Error("invalid carry");i&=e-1}if(i=i<<r-o&a,!n&&o>=t)throw Error("Excess padding");if(!n&&i>0)throw Error(`Non-zero padding: ${i}`);return n&&o>0&&l.push(i>>>0),l}function aZ(e,t=!1){if(aB(e),e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(aG(8,e)>32||aG(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{if(!aI(r))throw Error("radix2.encode input should be Uint8Array");return aJ(Array.from(r),8,e,!t)},decode:r=>(aH("radix2.decode",r),Uint8Array.from(aJ(r,e,8,t)))}}function aX(e){return aD(e),function(...t){try{return e.apply(null,t)}catch(e){}}}let aQ=az(aq("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),aW("")),a0=[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3];function a1(e){let t=e>>25,r=(0x1ffffff&e)<<5;for(let e=0;e<a0.length;e++)(t>>e&1)==1&&(r^=a0[e]);return r}function a2(e,t,r=1){let n=e.length,i=1;for(let t=0;t<n;t++){let r=e.charCodeAt(t);if(r<33||r>126)throw Error(`Invalid prefix (${e})`);i=a1(i)^r>>5}i=a1(i);for(let t=0;t<n;t++)i=a1(i)^31&e.charCodeAt(t);for(let e of t)i=a1(i)^e;for(let e=0;e<6;e++)i=a1(i);return i^=r,aQ.encode(aJ([i%aY[30]],30,5,!1))}let a3=function(e){let t="bech32"===e?1:0x2bc830a3,r=aZ(5),n=r.decode,i=r.encode,o=aX(n);function s(e,r,n=90){aL("bech32.encode prefix",e),aI(r)&&(r=Array.from(r)),aH("bech32.encode",r);let i=e.length;if(0===i)throw TypeError(`Invalid prefix length ${i}`);let o=i+7+r.length;if(!1!==n&&o>n)throw TypeError(`Length ${o} exceeds limit ${n}`);let a=e.toLowerCase(),l=a2(a,r,t);return`${a}1${aQ.encode(r)}${l}`}function a(e,r=90){aL("bech32.decode input",e);let n=e.length;if(n<8||!1!==r&&n>r)throw TypeError(`invalid string length: ${n} (${e}). Expected (8..${r})`);let i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw Error("String must be lowercase or uppercase");let o=i.lastIndexOf("1");if(0===o||-1===o)throw Error('Letter "1" must be present between prefix and data only');let s=i.slice(0,o),l=i.slice(o+1);if(l.length<6)throw Error("Data must be at least 6 characters long");let u=aQ.decode(l).slice(0,-6),c=a2(s,u,t);if(!l.endsWith(c))throw Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:s,words:u}}let l=aX(a);function u(e){let{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}}function c(e,t){return s(e,i(t))}return{encode:s,decode:a,encodeFromBytes:c,decodeToBytes:u,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:o,toWords:i}}("bech32");var a4=(e=>(e[e.Metadata=0]="Metadata",e[e.Text=1]="Text",e[e.RecommendRelay=2]="RecommendRelay",e[e.Contacts=3]="Contacts",e[e.EncryptedDirectMessage=4]="EncryptedDirectMessage",e[e.EventDeletion=5]="EventDeletion",e[e.Repost=6]="Repost",e[e.Reaction=7]="Reaction",e[e.BadgeAward=8]="BadgeAward",e[e.GroupChat=9]="GroupChat",e[e.GroupNote=11]="GroupNote",e[e.GroupReply=12]="GroupReply",e[e.GiftWrapSeal=13]="GiftWrapSeal",e[e.PrivateDirectMessage=14]="PrivateDirectMessage",e[e.Image=20]="Image",e[e.Vanish=62]="Vanish",e[e.GiftWrap=1059]="GiftWrap",e[e.GenericRepost=16]="GenericRepost",e[e.ChannelCreation=40]="ChannelCreation",e[e.ChannelMetadata=41]="ChannelMetadata",e[e.ChannelMessage=42]="ChannelMessage",e[e.ChannelHideMessage=43]="ChannelHideMessage",e[e.ChannelMuteUser=44]="ChannelMuteUser",e[e.GenericReply=1111]="GenericReply",e[e.Media=1063]="Media",e[e.Report=1984]="Report",e[e.Label=1985]="Label",e[e.DVMReqTextExtraction=5e3]="DVMReqTextExtraction",e[e.DVMReqTextSummarization=5001]="DVMReqTextSummarization",e[e.DVMReqTextTranslation=5002]="DVMReqTextTranslation",e[e.DVMReqTextGeneration=5050]="DVMReqTextGeneration",e[e.DVMReqImageGeneration=5100]="DVMReqImageGeneration",e[e.DVMReqTextToSpeech=5250]="DVMReqTextToSpeech",e[e.DVMReqDiscoveryNostrContent=5300]="DVMReqDiscoveryNostrContent",e[e.DVMReqDiscoveryNostrPeople=5301]="DVMReqDiscoveryNostrPeople",e[e.DVMReqTimestamping=5900]="DVMReqTimestamping",e[e.DVMEventSchedule=5905]="DVMEventSchedule",e[e.DVMJobFeedback=7e3]="DVMJobFeedback",e[e.Subscribe=7001]="Subscribe",e[e.Unsubscribe=7002]="Unsubscribe",e[e.SubscriptionReceipt=7003]="SubscriptionReceipt",e[e.CashuReserve=7373]="CashuReserve",e[e.CashuQuote=7374]="CashuQuote",e[e.CashuToken=7375]="CashuToken",e[e.CashuWalletTx=7376]="CashuWalletTx",e[e.GroupAdminAddUser=9e3]="GroupAdminAddUser",e[e.GroupAdminRemoveUser=9001]="GroupAdminRemoveUser",e[e.GroupAdminEditMetadata=9002]="GroupAdminEditMetadata",e[e.GroupAdminEditStatus=9006]="GroupAdminEditStatus",e[e.GroupAdminCreateGroup=9007]="GroupAdminCreateGroup",e[e.GroupAdminRequestJoin=9021]="GroupAdminRequestJoin",e[e.MuteList=1e4]="MuteList",e[e.PinList=10001]="PinList",e[e.RelayList=10002]="RelayList",e[e.BookmarkList=10003]="BookmarkList",e[e.CommunityList=10004]="CommunityList",e[e.PublicChatList=10005]="PublicChatList",e[e.BlockRelayList=10006]="BlockRelayList",e[e.SearchRelayList=10007]="SearchRelayList",e[e.SimpleGroupList=10009]="SimpleGroupList",e[e.InterestList=10015]="InterestList",e[e.CashuMintList=10019]="CashuMintList",e[e.EmojiList=10030]="EmojiList",e[e.DirectMessageReceiveRelayList=10050]="DirectMessageReceiveRelayList",e[e.BlossomList=10063]="BlossomList",e[e.NostrWaletConnectInfo=13194]="NostrWaletConnectInfo",e[e.TierList=17e3]="TierList",e[e.CashuWallet=17375]="CashuWallet",e[e.FollowSet=3e4]="FollowSet",e[e.CategorizedPeopleList=3e4]="CategorizedPeopleList",e[e.CategorizedBookmarkList=30001]="CategorizedBookmarkList",e[e.RelaySet=30002]="RelaySet",e[e.CategorizedRelayList=30002]="CategorizedRelayList",e[e.BookmarkSet=30003]="BookmarkSet",e[e.CurationSet=30004]="CurationSet",e[e.ArticleCurationSet=30004]="ArticleCurationSet",e[e.VideoCurationSet=30005]="VideoCurationSet",e[e.ImageCurationSet=30006]="ImageCurationSet",e[e.InterestSet=30015]="InterestSet",e[e.InterestsList=30015]="InterestsList",e[e.EmojiSet=30030]="EmojiSet",e[e.ModularArticle=30040]="ModularArticle",e[e.ModularArticleItem=30041]="ModularArticleItem",e[e.Wiki=30818]="Wiki",e[e.Draft=31234]="Draft",e[e.SubscriptionTier=37001]="SubscriptionTier",e[e.EcashMintRecommendation=38e3]="EcashMintRecommendation",e[e.HighlightSet=39802]="HighlightSet",e[e.CategorizedHighlightList=39802]="CategorizedHighlightList",e[e.Nutzap=9321]="Nutzap",e[e.ZapRequest=9734]="ZapRequest",e[e.Zap=9735]="Zap",e[e.Highlight=9802]="Highlight",e[e.ClientAuth=22242]="ClientAuth",e[e.NostrWalletConnectReq=23194]="NostrWalletConnectReq",e[e.NostrWalletConnectRes=23195]="NostrWalletConnectRes",e[e.NostrConnect=24133]="NostrConnect",e[e.BlossomUpload=24242]="BlossomUpload",e[e.HttpAuth=27235]="HttpAuth",e[e.ProfileBadge=30008]="ProfileBadge",e[e.BadgeDefinition=30009]="BadgeDefinition",e[e.MarketStall=30017]="MarketStall",e[e.MarketProduct=30018]="MarketProduct",e[e.Article=30023]="Article",e[e.AppSpecificData=30078]="AppSpecificData",e[e.Classified=30402]="Classified",e[e.HorizontalVideo=34235]="HorizontalVideo",e[e.VerticalVideo=34236]="VerticalVideo",e[e.LegacyCashuWallet=37375]="LegacyCashuWallet",e[e.GroupMetadata=39e3]="GroupMetadata",e[e.GroupAdmins=39001]="GroupAdmins",e[e.GroupMembers=39002]="GroupMembers",e[e.AppRecommendation=31989]="AppRecommendation",e[e.AppHandler=31990]="AppHandler",e))(a4||{});function a8(e,t,r="write"){if(!e.outboxTracker)return;let n=e.outboxTracker.data.get(t);if(n)return"write"===r?n.writeRelays:n.readRelays}async function a6(e,t,r="write"){if(e.outboxTracker)return e.outboxTracker.data.has(t)||await e.outboxTracker.trackUsers([t]),a8(e,t,r)}function a5(e,t){let r=new Map;return t.forEach(t=>{let n=a8(e,t);n&&n.forEach(e=>{let t=r.get(e)||0;r.set(e,t+1)})}),Array.from(r.entries()).sort((e,t)=>t[1]-e[1]).map(e=>e[0])}function a9(e,t,r="read"){let n=new Map,i=new Set;return t.forEach(t=>{let o=a8(e,t,r);o&&o.size>0?(o.forEach(e=>{(n.get(e)||new Set).add(t)}),n.set(t,o)):i.add(t)}),{pubkeysToRelays:n,authorsMissingRelays:i}}function a7(e,t,r,{count:n,preferredRelays:i}={}){n??=2,i??=new Set;let o=e.pool,s=o.connectedRelays();s.forEach(e=>{i.add(e.url)});let a=new Map,{pubkeysToRelays:l,authorsMissingRelays:u}=a9(e,t,r),c=a5(e,t),f=(e,t)=>{let r=a.get(t)||[];r.push(e),a.set(t,r)};for(let[e,t]of l.entries()){let r=n;for(let n of s)t.has(n.url)&&(f(e,n.url),r--);for(let n of t)a.has(n)&&(f(e,n),r--);if(!(r<=0))for(let n of c){if(r<=0)break;t.has(n)&&(f(e,n),r--)}}for(let e of u)o.permanentAndConnectedRelays().forEach(t=>{let r=a.get(t.url)||[];r.push(e),a.set(t.url,r)});return a}function le(e,t,r=2){return a7(e,t,"write",{count:r})}function lt(e){try{return lr(e)}catch{return}}function lr(e){let t=lc(e,{stripAuthentication:!1,stripWWW:!1,stripHash:!0});return t.endsWith("/")||(t+="/"),t}function ln(e){let t=new Set;for(let r of e)try{t.add(lr(r))}catch{}return Array.from(t)}var li="text/plain",lo="us-ascii",ls=(e,t)=>t.some(t=>t instanceof RegExp?t.test(e):t===e),la=new Set(["https:","http:","file:"]),ll=e=>{try{let{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!la.has(t)}catch{return!1}},lu=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw Error(`Invalid URL: ${e}`);let n=r.groups?.type??"",i=r.groups?.data??"",o=r.groups?.hash??"",s=n.split(";");o=t?"":o;let a=!1;"base64"===s[s.length-1]&&(s.pop(),a=!0);let l=s.shift()?.toLowerCase()??"",u=[...s.map(e=>{let[t,r=""]=e.split("=").map(e=>e.trim());return"charset"===t&&(r=r.toLowerCase())===lo?"":`${t}${r?`=${r}`:""}`}).filter(Boolean)];return a&&u.push("base64"),(u.length>0||l&&l!==li)&&u.unshift(l),`data:${u.join(";")},${a?i.trim():i}${o?`#${o}`:""}`};function lc(e,t={}){if("string"!=typeof(t={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...t}).defaultProtocol||t.defaultProtocol.endsWith(":")||(t.defaultProtocol=`${t.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return lu(e,t);if(ll(e))return e;let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let n=new URL(e);if(n.hostname=n.hostname.toLowerCase(),t.forceHttp&&t.forceHttps)throw Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===n.protocol&&(n.protocol="http:"),t.forceHttps&&"http:"===n.protocol&&(n.protocol="https:"),t.stripAuthentication&&(n.username="",n.password=""),t.stripHash?n.hash="":t.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname){let e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,t=0,r="";for(;;){let i=e.exec(n.pathname);if(!i)break;let o=i[0],s=i.index;r+=n.pathname.slice(t,s).replace(/\/{2,}/g,"/"),r+=o,t=s+o.length}r+=n.pathname.slice(t,n.pathname.length).replace(/\/{2,}/g,"/"),n.pathname=r}if(n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=n.pathname.split("/");ls(e[e.length-1],t.removeDirectoryIndex)&&(n.pathname=(e=e.slice(0,-1)).slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let e of[...n.searchParams.keys()])ls(e,t.removeQueryParameters)&&n.searchParams.delete(e);if(Array.isArray(t.keepQueryParameters)||!0!==t.removeQueryParameters||(n.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(let e of[...n.searchParams.keys()])ls(e,t.keepQueryParameters)||n.searchParams.delete(e);if(t.sortQueryParameters){n.searchParams.sort();try{n.search=decodeURIComponent(n.search)}catch{}}t.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,"")),t.removeExplicitPort&&n.port&&(n.port="");let i=e;return e=n.toString(),t.removeSingleSlash||"/"!==n.pathname||i.endsWith("/")||""!==n.hash||(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||"/"===n.pathname)&&""===n.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var lf=5,ld=1e3,lh=class{ndkRelay;ws;_status;timeoutMs;connectedAt;_connectionStats={attempts:0,success:0,durations:[]};debug;netDebug;connectTimeout;reconnectTimeout;ndk;openSubs=new Map;openCountRequests=new Map;openEventPublishes=new Map;serial=0;baseEoseTimeout=4400;constructor(e,t){this.ndkRelay=e,this._status=1;let r=Math.floor(1e3*Math.random());this.debug=this.ndkRelay.debug.extend("connectivity"+r),this.ndk=t}async connect(e,t=!0){if(2!==this._status&&1!==this._status||this.reconnectTimeout){this.debug("Relay requested to be connected but was in state %s or it had a reconnect timeout",this._status);return}this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),e??=this.timeoutMs,!this.timeoutMs&&e&&(this.timeoutMs=e),this.timeoutMs&&(this.connectTimeout=setTimeout(()=>this.onConnectionError(t),this.timeoutMs));try{this.updateConnectionStats.attempt(),1===this._status?this._status=4:this._status=2,this.ws=new WebSocket(this.ndkRelay.url),this.ws.onopen=this.onConnect.bind(this),this.ws.onclose=this.onDisconnect.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this)}catch(e){throw this.debug(`Failed to connect to ${this.ndkRelay.url}`,e),this._status=1,t?this.handleReconnection():this.ndkRelay.emit("delayed-connect",1728e5),e}}disconnect(){this._status=0;try{this.ws?.close()}catch(e){this.debug("Failed to disconnect",e),this._status=1}}onConnectionError(e){this.debug(`Error connecting to ${this.ndkRelay.url}`,this.timeoutMs),e&&!this.reconnectTimeout&&this.handleReconnection()}onConnect(){this.netDebug?.("connected",this.ndkRelay),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),this.updateConnectionStats.connected(),this._status=5,this.ndkRelay.emit("connect"),this.ndkRelay.emit("ready")}onDisconnect(){this.netDebug?.("disconnected",this.ndkRelay),this.updateConnectionStats.disconnected(),5===this._status&&this.handleReconnection(),this._status=1,this.ndkRelay.emit("disconnect")}onMessage(e){this.netDebug?.(e.data,this.ndkRelay,"recv");try{let t=JSON.parse(e.data),[r,n,...i]=t;switch(r){case"EVENT":{let e=this.openSubs.get(n),r=t[2];if(!e){this.debug(`Received event for unknown subscription ${n}`);return}e.onevent(r);return}case"COUNT":{let e=t[2],r=this.openCountRequests.get(n);r&&(r.resolve(e.count),this.openCountRequests.delete(n));return}case"EOSE":{let e=this.openSubs.get(n);if(!e)return;e.oneose(n);return}case"OK":{let e=t[2],r=t[3],i=this.openEventPublishes.get(n),o=i?.pop();if(!i||!o){this.debug("Received OK for unknown event publish",n);return}e?o.resolve(r):o.reject(Error(r)),0===i.length?this.openEventPublishes.delete(n):this.openEventPublishes.set(n,i);return}case"CLOSED":{let e=this.openSubs.get(n);if(!e)return;e.onclosed(t[2]);return}case"NOTICE":this.onNotice(t[1]);return;case"AUTH":this.onAuthRequested(t[1]);return}}catch(e){this.debug(`Error parsing message from ${this.ndkRelay.url}: ${e.message}`,e?.stack);return}}async onAuthRequested(e){let t=this.ndkRelay.authPolicy??this.ndk?.relayAuthDefaultPolicy;if(this.debug("Relay requested authentication",{havePolicy:!!t}),7===this._status){this.debug("Already authenticating, ignoring");return}if(this._status=6,t){if(this._status>=5){let r;this._status=7;try{r=await t(this.ndkRelay,e)}catch(e){this.debug("Authentication policy threw an error",e),r=!1}if(this.debug("Authentication policy returned",!!r),r instanceof ur||!0===r){r instanceof ur&&await this.auth(r);let t=async()=>{if(this._status>=5&&this._status<8){let t=new ur(this.ndk);t.kind=22242,t.tags=[["relay",this.ndkRelay.url],["challenge",e]],await t.sign(),this.auth(t).then(()=>{this._status=8,this.ndkRelay.emit("authed"),this.debug("Authentication successful")}).catch(e=>{this._status=6,this.ndkRelay.emit("auth:failed",e),this.debug("Authentication failed",e)})}else this.debug("Authentication failed, it changed status, status is %d",this._status)};!0===r&&(this.ndk?.signer?t().catch(e=>{console.error("Error authenticating",e)}):(this.debug("No signer available for authentication localhost"),this.ndk?.once("signer:ready",t))),this._status=5,this.ndkRelay.emit("authed")}}}else this.ndkRelay.emit("auth",e)}onError(e){this.debug(`WebSocket error on ${this.ndkRelay.url}:`,e)}get status(){return this._status}isAvailable(){return 5===this._status}isFlapping(){let e=this._connectionStats.durations;if(e.length%3!=0)return!1;let t=e.reduce((e,t)=>e+t,0)/e.length;return Math.sqrt(e.map(e=>Math.pow(e-t,2)).reduce((e,t)=>e+t,0)/e.length)<ld}async onNotice(e){this.ndkRelay.emit("notice",e)}handleReconnection(e=0){if(this.reconnectTimeout)return;if(this.isFlapping()){this.ndkRelay.emit("flapping",this._connectionStats),this._status=3;return}let t=this.connectedAt?Math.max(0,6e4-(Date.now()-this.connectedAt)):5e3*(this._connectionStats.attempts+1);this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=void 0,this._status=2,this.connect().catch(t=>{e<lf?setTimeout(()=>{this.handleReconnection(e+1)},1e3*(e+1)^4):this.debug("Reconnect failed")})},t),this.ndkRelay.emit("delayed-connect",t),this.debug("Reconnecting in",t),this._connectionStats.nextReconnectAt=Date.now()+t}async send(e){this._status>=5&&this.ws?.readyState===WebSocket.OPEN?(this.ws?.send(e),this.netDebug?.(e,this.ndkRelay,"send")):this.debug(`Not connected to ${this.ndkRelay.url} (%d), not sending message ${e}`,this._status)}async auth(e){let t=new Promise((t,r)=>{let n=this.openEventPublishes.get(e.id)??[];n.push({resolve:t,reject:r}),this.openEventPublishes.set(e.id,n)});return this.send('["AUTH",'+JSON.stringify(e.rawEvent())+"]"),t}async publish(e){let t=new Promise((t,r)=>{let n=this.openEventPublishes.get(e.id)??[];n.length>0&&console.warn("Duplicate event publishing detected, you are publishing event "+e.id+" twice"),n.push({resolve:t,reject:r}),this.openEventPublishes.set(e.id,n)});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;let r=t?.id||"count:"+this.serial,n=new Promise((e,t)=>{this.openCountRequests.set(r,{resolve:e,reject:t})});return this.send('["COUNT","'+r+'",'+JSON.stringify(e).substring(1)),n}close(e,t){this.send('["CLOSE","'+e+'"]');let r=this.openSubs.get(e);this.openSubs.delete(e),r&&r.onclose(t)}req(e){this.send('["REQ","'+e.subId+'",'+JSON.stringify(e.executeFilters).substring(1)),this.openSubs.set(e.subId,e)}updateConnectionStats={connected:()=>{this._connectionStats.success++,this._connectionStats.connectedAt=Date.now()},disconnected:()=>{this._connectionStats.connectedAt&&(this._connectionStats.durations.push(Date.now()-this._connectionStats.connectedAt),this._connectionStats.durations.length>100&&this._connectionStats.durations.shift()),this._connectionStats.connectedAt=void 0},attempt:()=>{this._connectionStats.attempts++,this._connectionStats.connectedAt=Date.now()}};get connectionStats(){return this._connectionStats}get url(){return this.ndkRelay.url}get connected(){return this._status>=5&&this.ws?.readyState===WebSocket.OPEN}},lp=class{ndkRelay;debug;constructor(e){this.ndkRelay=e,this.debug=e.debug.extend("publisher")}async publish(e,t=2500){let r,n,i;let o=()=>new Promise((t,r)=>{try{this.publishEvent(e).then(r=>{this.ndkRelay.emit("published",e),e.emit("relay:published",this.ndkRelay),t(!0)}).catch(r)}catch(e){r(e)}}),s=new Promise((e,n)=>{r=setTimeout(()=>{r=void 0,n(Error("Timeout: "+t+"ms"))},t)}),a=()=>{o().then(e=>n(e)).catch(e=>i(e))},l=t=>{throw this.ndkRelay.debug("Publish failed",t,e.id),this.ndkRelay.emit("publish:failed",e,t),e.emit("relay:publish:failed",this.ndkRelay,t),t},u=()=>{r&&clearTimeout(r),this.ndkRelay.removeListener("connect",a)};return this.ndkRelay.status>=5?Promise.race([o(),s]).catch(l).finally(u):(this.ndkRelay.status<=1?(console.warn("Relay is disconnected, trying to connect to publish an event",this.ndkRelay.url),this.ndkRelay.connect()):console.warn("Relay not connected, waiting for connection to publish an event",this.ndkRelay.url),Promise.race([new Promise((e,t)=>{n=e,i=t,this.ndkRelay.once("connect",a)}),s]).catch(l).finally(u))}async publishEvent(e){return this.ndkRelay.connectivity.publish(e.rawEvent())}};function lg(e,t){let r=[];for(let t of e){let e=Object.entries(t||{}).map(([e,t])=>["since","until"].includes(e)?e+":"+t:e).sort().join("-");r.push(e)}let n=t?"+":"";return n+r.join("|")}function ly(e){let t=[],r={};return(e.filter(e=>!!e.limit).forEach(e=>t.push(e)),0===(e=e.filter(e=>!e.limit)).length)?t:(e.forEach(e=>{Object.entries(e).forEach(([e,t])=>{Array.isArray(t)?void 0===r[e]?r[e]=[...t]:r[e]=Array.from(new Set([...r[e],...t])):r[e]=t})}),[...t,r])}var lm=class{fingerprint;items=new Map;topSubManager;debug;status=0;onClose;relay;eosed=!1;executionTimer;fireTime;delayType;executeFilters;id=Math.random().toString(36).substring(7);constructor(e,t,r){this.relay=e,this.topSubManager=r,this.debug=e.debug.extend("subscription-"+this.id),this.fingerprint=t||Math.random().toString(36).substring(7)}_subId;get subId(){return this._subId||(this._subId=this.fingerprint.slice(0,15)),this._subId}subIdParts=new Set;addSubIdPart(e){this.subIdParts.add(e)}addItem(e,t){if(this.debug("Adding item",{filters:t,internalId:e.internalId,status:this.status,fingerprint:this.fingerprint,id:this.subId,items:this.items,itemsSize:this.items.size}),!this.items.has(e.internalId))switch(e.on("close",this.removeItem.bind(this,e)),this.items.set(e.internalId,{subscription:e,filters:t}),3!==this.status&&e.subId&&(!this._subId||this._subId.length<48)&&(0===this.status||1===this.status)&&this.addSubIdPart(e.subId),this.status){case 0:case 1:this.evaluateExecutionPlan(e);break;case 3:console.log("BUG: This should not happen: This subscription needs to catch up with a subscription that was already running",t);break;case 4:throw this.debug("Subscription is closed, cannot add new items %o (%o)",e,t),Error("Cannot add new items to a closed subscription")}}removeItem(e){this.items.delete(e.internalId),0===this.items.size&&this.eosed&&(this.close(),this.cleanup())}close(){if(4===this.status)return;let e=this.status;if(this.status=4,3===e)try{this.relay.close(this.subId)}catch(e){this.debug("Error closing subscription",e,this)}else this.debug("Subscription wanted to close but it wasn't running, this is probably ok",{subId:this.subId,prevStatus:e,sub:this});this.cleanup()}cleanup(){this.executionTimer&&clearTimeout(this.executionTimer),this.relay.off("ready",this.executeOnRelayReady),this.relay.off("authed",this.reExecuteAfterAuth),this.onClose&&this.onClose(this)}evaluateExecutionPlan(e){if(!e.isGroupable()||e.filters.find(e=>!!e.limit)&&(this.executeFilters=this.compileFilters(),this.executeFilters.length>=10)){this.status=1,this.execute();return}let t=e.groupableDelay,r=e.groupableDelayType;if(!t)throw Error("Cannot group a subscription without a delay");if(0===this.status)this.schedule(t,r);else{let e=this.delayType,n=this.fireTime-Date.now();if("at-least"===e&&"at-least"===r)n<t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,r));else if("at-least"===e&&"at-most"===r)n>t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,r));else if("at-most"===e&&"at-most"===r)n>t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,r));else if("at-most"===e&&"at-least"===r)n>t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,r));else throw Error("Unknown delay type combination "+e+" "+r)}}schedule(e,t){this.status=1;let r=Date.now();this.fireTime=r+e,this.delayType=t;let n=setTimeout(this.execute.bind(this),e);"at-least"===t&&(this.executionTimer=n)}executeOnRelayReady=()=>{if(2===this.status){if(0===this.items.size){this.debug("No items to execute; this relay was probably too slow to respond and the caller gave up",{status:this.status,fingerprint:this.fingerprint,items:this.items,itemsSize:this.items.size,id:this.id,subId:this.subId}),this.cleanup();return}this.debug("Executing on relay ready",{status:this.status,fingerprint:this.fingerprint,items:this.items,itemsSize:this.items.size}),this.status=1,this.execute()}};finalizeSubId(){this.subIdParts.size>0?this._subId=Array.from(this.subIdParts).join("-"):this._subId=this.fingerprint.slice(0,15),this._subId+="-"+Math.random().toString(36).substring(2,7)}reExecuteAfterAuth=(()=>{let e=this.subId;this.debug("Re-executing after auth",this.items.size),this.eosed?this.relay.close(this.subId):this.debug("We are abandoning an opened subscription, once it EOSE's, the handler will close it",{oldSubId:e}),this._subId=void 0,this.status=1,this.execute(),this.debug("Re-executed after auth %s \uD83D\uDC49 %s",e,this.subId)}).bind(this);execute(){if(1===this.status){if(this.relay.connected)this.relay.status<8&&this.relay.once("authed",this.reExecuteAfterAuth);else{this.status=2,this.debug("Waiting for relay to be ready",{status:this.status,id:this.subId,fingerprint:this.fingerprint,items:this.items,itemsSize:this.items.size}),this.relay.once("ready",this.executeOnRelayReady);return}this.status=3,this.finalizeSubId(),this.executeFilters=this.compileFilters(),this.relay.req(this)}}onstart(){}onevent(e){this.topSubManager.dispatchEvent(e,this.relay)}oneose(e){if(this.eosed=!0,e!==this.subId){this.debug("Received EOSE for an abandoned subscription",e,this.subId),this.relay.close(e);return}for(let{subscription:e}of(0===this.items.size&&this.close(),this.items.values()))e.eoseReceived(this.relay),e.closeOnEose&&(this.debug("Removing item because of EOSE",{filters:e.filters,internalId:e.internalId,status:this.status,fingerprint:this.fingerprint,items:this.items,itemsSize:this.items.size}),this.removeItem(e))}onclose(e){this.status=4}onclosed(e){if(e)for(let{subscription:t}of this.items.values())t.closedReceived(this.relay,e)}compileFilters(){let e=[],t=Array.from(this.items.values()).map(e=>e.filters);if(!t[0])return this.debug("\uD83D\uDC40 No filters to merge",this.items),console.error("BUG: No filters to merge!",this.items),[];let r=t[0].length;for(let n=0;n<r;n++){let r=t.map(e=>e[n]);e.push(...ly(r))}return e}},lb=class{relay;subscriptions;generalSubManager;constructor(e,t){this.relay=e,this.subscriptions=new Map,this.generalSubManager=t}addSubscription(e,t){let r;if(e.isGroupable()){let n=lg(t,e.closeOnEose);n&&(r=(this.subscriptions.get(n)||[]).find(e=>e.status<3)),r??=this.createSubscription(e,t,n)}else r=this.createSubscription(e,t);r.addItem(e,t)}createSubscription(e,t,r){let n=new lm(this.relay,r||null,this.generalSubManager);n.onClose=this.onRelaySubscriptionClose.bind(this);let i=this.subscriptions.get(n.fingerprint)??[];return this.subscriptions.set(n.fingerprint,[...i,n]),n}onRelaySubscriptionClose(e){let t=this.subscriptions.get(e.fingerprint)??[];t?1===t.length?this.subscriptions.delete(e.fingerprint):(t=t.filter(t=>t.id!==e.id),this.subscriptions.set(e.fingerprint,t)):console.warn("Unexpectedly did not find a subscription with fingerprint",e.fingerprint)}},lv=(e=>(e[e.DISCONNECTING=0]="DISCONNECTING",e[e.DISCONNECTED=1]="DISCONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.FLAPPING=3]="FLAPPING",e[e.CONNECTING=4]="CONNECTING",e[e.CONNECTED=5]="CONNECTED",e[e.AUTH_REQUESTED=6]="AUTH_REQUESTED",e[e.AUTHENTICATING=7]="AUTHENTICATING",e[e.AUTHENTICATED=8]="AUTHENTICATED",e))(lv||{}),lw=class e extends d.EventEmitter{url;scores;connectivity;subs;publisher;authPolicy;lowestValidationRatio;targetValidationRatio;validationRatioFn;validatedEventCount=0;nonValidatedEventCount=0;trusted=!1;complaining=!1;debug;static defaultValidationRatioUpdateFn=(e,t,r)=>{if(void 0===e.lowestValidationRatio||void 0===e.targetValidationRatio)return 1;let n=e.validationRatio;if(e.validationRatio>e.targetValidationRatio){let r=t/100;n=Math.max(e.lowestValidationRatio,e.validationRatio-r)}return n<e.validationRatio?n:e.validationRatio};constructor(t,r,n){super(),this.url=lr(t),this.scores=new Map,this.debug=h(`ndk:relay:${t}`),this.connectivity=new lh(this,n),this.connectivity.netDebug=n?.netDebug,this.req=this.connectivity.req.bind(this.connectivity),this.close=this.connectivity.close.bind(this.connectivity),this.subs=new lb(this,n.subManager),this.publisher=new lp(this),this.authPolicy=r,this.targetValidationRatio=n?.initialValidationRatio,this.lowestValidationRatio=n?.lowestValidationRatio,this.validationRatioFn=(n?.validationRatioFn??e.defaultValidationRatioUpdateFn).bind(this),this.updateValidationRatio(),n||console.trace("relay created without ndk")}updateValidationRatio(){setTimeout(()=>{this.updateValidationRatio()},3e4)}get status(){return this.connectivity.status}get connectionStats(){return this.connectivity.connectionStats}async connect(e,t=!0){return this.connectivity.connect(e,t)}disconnect(){1!==this.status&&this.connectivity.disconnect()}subscribe(e,t){this.subs.addSubscription(e,t)}async publish(e,t=2500){return this.publisher.publish(e,t)}referenceTags(){return[["r",this.url]]}addValidatedEvent(){this.validatedEventCount++}addNonValidatedEvent(){this.nonValidatedEventCount++}get validationRatio(){return 0===this.nonValidatedEventCount?1:this.validatedEventCount/(this.validatedEventCount+this.nonValidatedEventCount)}shouldValidateEvent(){return!this.trusted&&(void 0===this.targetValidationRatio||this.validationRatio<this.targetValidationRatio)}get connected(){return this.connectivity.connected}req;close},lE=class extends Error{errors;publishedToRelays;intendedRelaySet;constructor(e,t,r,n){super(e),this.errors=t,this.publishedToRelays=r,this.intendedRelaySet=n}get relayErrors(){let e=[];for(let[t,r]of this.errors)e.push(`${t.url}: ${r}`);return e.join("\n")}},l_=class e{relays;debug;ndk;pool;constructor(e,t,r){this.relays=e,this.ndk=t,this.pool=r??t.pool,this.debug=t.debug.extend("relayset")}addRelay(e){this.relays.add(e)}get relayUrls(){return Array.from(this.relays).map(e=>e.url)}static fromRelayUrls(t,r,n=!0,i){if(!(i=i??r.pool))throw Error("No pool provided");let o=new Set;for(let e of t){let s=i.relays.get(lr(e));if(s)s.status<5&&n&&s.connect(),o.add(s);else{let n=new lw(lr(e),r?.relayAuthDefaultPolicy,r);i.useTemporaryRelay(n,void 0,"requested from fromRelayUrls "+t),o.add(n)}}return new e(new Set(o),r,i)}async publish(e,t,r=1){let n=new Set,i=new Map,o=e.isEphemeral();e.publishStatus="pending";let s=Array.from(this.relays).map(r=>new Promise(s=>{r.publish(e,t).then(e=>{n.add(r),s()}).catch(e=>{o||i.set(r,e),s()})}));if(await Promise.all(s),n.size<r){if(!o){let t=new lE("Not enough relays received the event",i,n,this);throw e.publishStatus="error",e.publishError=t,this.ndk.emit("event:publish-failed",e,t,this.relayUrls),t}}else e.emit("published",{relaySet:this,publishedToRelays:n});return n}get size(){return this.relays.size}},lx=h("ndk:outbox:calculate");async function lR(e,t){let r=new Set,n=await a6(e,t.pubkey);n&&n.forEach(t=>{let n=e.pool?.getRelay(t);n&&r.add(n)});let i=t.tags.filter(e=>["a","e"].includes(e[0])).map(e=>e[2]).filter(e=>e&&e.startsWith("wss://")).filter(e=>{try{return new URL(e),!0}catch{return!1}}).map(e=>lr(e));(i=Array.from(new Set(i)).slice(0,5)).forEach(t=>{let n=e.pool?.getRelay(t,!0,!0);n&&(lx("Adding relay hint %s",t),r.add(n))});let o=t.getMatchingTags("p").map(e=>e[1]);return o.length<5?Array.from(a7(e,o,"read",{preferredRelays:new Set(n)}).keys()).forEach(t=>{let n=e.pool?.getRelay(t,!1,!0);n&&(lx("Adding p-tagged relay %s",t),r.add(n))}):lx("Too many p-tags to consider %d",o.length),e.pool?.permanentAndConnectedRelays().forEach(e=>r.add(e)),new l_(r,e)}function lS(e,t,r){let n=new Map,i=new Set;if(t.forEach(e=>{e.authors&&e.authors.forEach(e=>i.add(e))}),i.size>0){let r=le(e,Array.from(i));for(let e of r.keys())n.set(e,[]);for(let e of t)if(e.authors)for(let[t,i]of r.entries()){let r=e.authors.filter(e=>i.includes(e));n.set(t,[...n.get(t),{...e,authors:r}])}else for(let t of r.keys())n.set(t,[...n.get(t),e])}else e.explicitRelayUrls&&e.explicitRelayUrls.forEach(e=>{n.set(e,t)});return 0===n.size&&r.permanentAndConnectedRelays().slice(0,5).forEach(e=>{n.set(e.url,t)}),n}function lO(e,t,r){return lS(e,t,r)}function lP(e,t){let r=new Map,n=e=>e.join(","),i=(e,t)=>e.every((e,r)=>e===t[r]),o=e=>{for(let[t,n]of r)if(i(n,e)||i(e,n)){e.length>=n.length&&r.set(t,e);return}r.set(n(e),e)};return e.concat(t).forEach(o),Array.from(r.values())}var lA=/(?<=\s|^)(#[^\s!@#$%^&*()=+./,[{\]};:'"?><]+)/g;function lk(e){let t=e.match(lA),r=new Set,n=new Set;if(t)for(let e of t)r.has(e.slice(1))||(n.add(e.slice(1)),r.add(e.slice(1)));return Array.from(n)}async function lT(e,t=[]){let r=/(@|nostr:)(npub|nprofile|note|nevent|naddr)[a-zA-Z0-9]+/g,n=[],i=e=>{t.find(t=>["q",e[0]].includes(t[0])&&t[1]===e[1])||t.push(e)};e=e.replace(r,e=>{try{let t;let r=e.split(/(@|nostr:)/)[2],{type:o,data:s}=nQ.decode(r);switch(o){case"npub":t=["p",s];break;case"nprofile":t=["p",s.pubkey];break;case"note":n.push(new Promise(async e=>{i(["q",s,await lM(r)]),e()}));break;case"nevent":n.push(new Promise(async e=>{let{id:t,author:n}=s,{relays:o}=s;o&&0!==o.length||(o=[await lM(r)]),i(["q",t,o[0]]),n&&i(["p",n]),e()}));break;case"naddr":n.push(new Promise(async e=>{let t=[s.kind,s.pubkey,s.identifier].join(":"),n=s.relays??[];0===n.length&&(n=[await lM(r)]),i(["q",t,n[0]]),i(["p",s.pubkey]),e()}));break;default:return e}return t&&i(t),`nostr:${r}`}catch(t){return e}}),await Promise.all(n);let o=lk(e).map(e=>["t",e]);return{content:e,tags:t=lP(t,o)}}async function lM(e){return""}function lj(){if(void 0===this.kind)throw Error("Kind not set");return[0,3].includes(this.kind)||this.kind>=1e4&&this.kind<2e4||this.kind>=3e4&&this.kind<4e4}function lC(){if(void 0===this.kind)throw Error("Kind not set");return this.kind>=2e4&&this.kind<3e4}function lN(){if(void 0===this.kind)throw Error("Kind not set");return this.kind>=3e4&&this.kind<4e4}async function lI(e,t,r="nip44"){let n;if(!this.ndk)throw Error("No NDK instance found!");if(t||(this.ndk.assertSigner(),t=this.ndk.signer),!e){let t=this.getMatchingTags("p");if(1!==t.length)throw Error("No recipient could be determined and no explicit recipient was provided");e=this.ndk.getUser({pubkey:t[0][1]})}if("nip44"===r&&await lD(t,"nip44")&&(n=await t?.encrypt(e,this.content,"nip44")),(!n||"nip04"===r)&&await lD(t,"nip04")&&(n=await t.encrypt(e,this.content,"nip04")),!n)throw Error("Failed to encrypt event.");this.content=n}async function lU(e,t,r){let n;if(!this.ndk)throw Error("No NDK instance found!");if(t||(this.ndk.assertSigner(),t=this.ndk.signer),!t)throw Error("no NDK signer");if(e||(e=this.author),r||(r=this.content.match(/\\?iv=/)?"nip04":"nip44"),("nip04"===r||4===this.kind)&&await lD(t,"nip04")&&this.content.search("\\?iv=")&&(n=await t.decrypt(e,this.content,"nip04")),!n&&"nip44"===r&&await lD(t,"nip44")&&(n=await t.decrypt(e,this.content,"nip44")),!n)throw Error("Failed to decrypt event.");this.content=n}async function lD(e,t){return!!e.encryptionEnabled&&(!t||!!await e.encryptionEnabled(t))}var lL=2;function lB(e=lL){let t=[];return(this.onRelays.length>0?t=this.onRelays.map(e=>e.url):this.relay&&(t=[this.relay.url]),t.length>e&&(t=t.slice(0,e)),this.isParamReplaceable())?nQ.naddrEncode({kind:this.kind,pubkey:this.pubkey,identifier:this.replaceableDTag(),relays:t}):t.length>0?nQ.neventEncode({id:this.tagId(),relays:t,author:this.pubkey}):nQ.noteEncode(this.tagId())}async function lF(e=!0,t){if(!t&&e){if(!this.ndk)throw Error("No NDK instance found");this.ndk.assertSigner(),t=this.ndk.signer}let r=new ur(this.ndk,{kind:l$(this)});return this.isProtected||(r.content=JSON.stringify(this.rawEvent())),r.tag(this),1!==this.kind&&r.tags.push(["k",`${this.kind}`]),t&&await r.sign(t),e&&await r.publish(),r}function l$(e){return 1===e.kind?6:16}function lH(e,t){let r=new Map;return r.set(e.id,e),t.forEach(t=>{t.pubkey===e.pubkey&&r.set(t.id,t)}),r}var lz=(e,t)=>e.getMatchingTags(t).some(e=>e[3]&&""!==e[3]);function lq(e,t){let r=lH(e,t);return t.filter(t=>lW(e,t,r)).sort((e,t)=>e.created_at-t.created_at)}function lW(e,t,r){return e.pubkey===t.pubkey&&t.getMatchingTags("e").map(e=>e[1]).every(e=>r.has(e))}function lV(e){for(let t of e.tags)if("e"===t[0]&&(t[3]??"").length>0)return!0;return!1}function lK(e,t){t??=e.tagType();let r=e.tags.find(lZ);if(!r){if(lV(e))return;let r=e.getMatchingTags(t);if(r.length<3)return r[0]}return r}var lG=new Set(["A","E","I"]),lY=new Set(["a","e","i"]);function lJ(e,t){let r;if(1111===e.kind){let t;for(let r of e.tags)if(lG.has(r[0]))t=r;else if(lY.has(r[0])){t=r;break}return t}t??=e.tagType();let n=!1;for(let i of e.tags)if(i[0]===t){if((i[3]??"").length>0&&(n=!0),n&&"reply"===i[3])return i;n&&"root"===i[3]&&(r=i),n||(r=i)}return r}function lZ(e){return"E"===e[0]||"root"===e[3]}async function lX(e,t){let r;if(!this.ndk)throw Error("NDK instance not found");let n=this.getMatchingTags(e,t);if(0===n.length)return;let[i,o,s]=n[0];return await this.ndk.fetchEvent(o,{},r)}async function lQ(e){if(!this.ndk)throw Error("NDK instance not found");let t=lK(this);if(t)return this.ndk.fetchEventFromTag(t,this,e)}async function l0(e){if(!this.ndk)throw Error("NDK instance not found");let t=lJ(this);if(t)return this.ndk.fetchEventFromTag(t,this,e)}function l1(e=!1,t=!1){let r=[0,this.pubkey,this.created_at,this.kind,this.tags,this.content];return e&&r.push(this.sig),t&&r.push(this.id),JSON.stringify(r)}function l2(e){let t=JSON.parse(e),r={pubkey:t[1],created_at:t[2],kind:t[3],tags:t[4],content:t[5]};return t.length>=7&&(r.sig=t[6]),t.length>=8&&(r.id=t[7]),r}var l3={};async function l4(e,t){return new Promise(t=>{let r=e.serialize(),n=!1;l3[e.id]||(l3[e.id]={event:e,resolves:[]},n=!0),l3[e.id].resolves.push(t),n&&u.postMessage({serialized:r,id:e.id,sig:e.sig,pubkey:e.pubkey})})}var l8=/^[a-f0-9]{64}$/;function l6(){if("number"!=typeof this.kind||"string"!=typeof this.content||"number"!=typeof this.created_at||"string"!=typeof this.pubkey||!this.pubkey.match(l8)||!Array.isArray(this.tags))return!1;for(let e=0;e<this.tags.length;e++){let t=this.tags[e];if(!Array.isArray(t))return!1;for(let e=0;e<t.length;e++)if("object"==typeof t[e])return!1}return!0}var l5=new aN.LRUCache({maxSize:1e3,entryExpirationTimeInMS:6e4});function l9(e){if("boolean"==typeof this.signatureVerified)return this.signatureVerified;let t=l5.get(this.id);if(null!==t)return this.signatureVerified=!!t;try{if(this.ndk?.asyncSigVerification)l4(this,e).then(t=>{e&&(this.signatureVerified=t,t&&l5.set(this.id,this.sig)),t||(this.ndk.emit("event:invalid-sig",this),l5.set(this.id,!1))});else{let e=o1(new TextEncoder().encode(this.serialize())),t=aC.verify(this.sig,e,this.pubkey);return t?l5.set(this.id,this.sig):l5.set(this.id,!1),this.signatureVerified=t}}catch(e){return this.signatureVerified=!1}}function l7(){return ue(this.serialize())}function ue(e){return oD(o1(new TextEncoder().encode(e)))}var ut=new Set([0,4,1059,13,3,9734,5]),ur=class e extends d.EventEmitter{ndk;created_at;content="";tags=[];kind;id="";sig;pubkey="";signatureVerified;_author=void 0;relay;get onRelays(){let e=[];return this.ndk?e=this.ndk.subManager.seenEvents.get(this.id)||[]:this.relay&&e.push(this.relay),e}publishStatus="success";publishError;constructor(t,r){super(),this.ndk=t,this.created_at=r?.created_at,this.content=r?.content||"",this.tags=r?.tags||[],this.id=r?.id||"",this.sig=r?.sig,this.pubkey=r?.pubkey||"",this.kind=r?.kind,r instanceof e&&(this.relay&&(this.relay=r.relay,this.ndk?.subManager.seenEvent(r.id,this.relay)),this.publishStatus=r.publishStatus,this.publishError=r.publishError)}static deserialize(t,r){return new e(t,l2(r))}rawEvent(){return{created_at:this.created_at,content:this.content,tags:this.tags,kind:this.kind,pubkey:this.pubkey,id:this.id,sig:this.sig}}set author(e){this.pubkey=e.pubkey,this._author=e,this._author.ndk??=this.ndk}get author(){if(this._author)return this._author;if(!this.ndk)throw Error("No NDK instance found");let e=this.ndk.getUser({pubkey:this.pubkey});return this._author=e,e}tagExternal(e,t,r){let n=["i"],i=["k"];switch(t){case"url":let o=new URL(e);o.hash="",n.push(o.toString()),i.push(`${o.protocol}//${o.host}`);break;case"hashtag":n.push(`#${e.toLowerCase()}`),i.push("#");break;case"geohash":n.push(`geo:${e.toLowerCase()}`),i.push("geo");break;case"isbn":n.push(`isbn:${e.replace(/-/g,"")}`),i.push("isbn");break;case"podcast:guid":n.push(`podcast:guid:${e}`),i.push("podcast:guid");break;case"podcast:item:guid":n.push(`podcast:item:guid:${e}`),i.push("podcast:item:guid");break;case"podcast:publisher:guid":n.push(`podcast:publisher:guid:${e}`),i.push("podcast:publisher:guid");break;case"isan":n.push(`isan:${e.split("-").slice(0,4).join("-")}`),i.push("isan");break;case"doi":n.push(`doi:${e.toLowerCase()}`),i.push("doi");break;default:throw Error(`Unsupported NIP-73 entity type: ${t}`)}r&&n.push(r),this.tags.push(n),this.tags.push(i)}tag(t,r,n,i){let o=[];if(void 0!==t.fetchProfile){let e=[i??="p",t.pubkey];r&&e.push("",r),o.push(e)}else if(t instanceof e){let e=t;for(let t of(n??=e?.pubkey===this.pubkey,o=e.referenceTags(r,n,i),e.getMatchingTags("p")))t[1]!==this.pubkey&&(this.tags.find(e=>"p"===e[0]&&e[1]===t[1])||this.tags.push(["p",t[1]]))}else if(Array.isArray(t))o=[t];else throw Error("Invalid argument",t);this.tags=lP(this.tags,o)}async toNostrEvent(e){if(!e&&""===this.pubkey){let e=await this.ndk?.signer?.user();this.pubkey=e?.pubkey||""}this.created_at||(this.created_at=Math.floor(Date.now()/1e3));let{content:t,tags:r}=await this.generateTags();this.content=t||"",this.tags=r;try{this.id=this.getEventHash()}catch(e){}return this.rawEvent()}serialize=l1.bind(this);getEventHash=l7.bind(this);validate=l6.bind(this);verifySignature=l9.bind(this);isReplaceable=lj.bind(this);isEphemeral=lC.bind(this);isDvm=()=>this.kind&&this.kind>=5e3&&this.kind<=7e3;isParamReplaceable=lN.bind(this);encode=lB.bind(this);encrypt=lI.bind(this);decrypt=lU.bind(this);getMatchingTags(e,t){let r=this.tags.filter(t=>t[0]===e);return void 0===t?r:r.filter(e=>e[3]===t)}hasTag(e,t){return this.tags.some(r=>r[0]===e&&(!t||r[3]===t))}tagValue(e){let t=this.getMatchingTags(e);if(0!==t.length)return t[0][1]}get alt(){return this.tagValue("alt")}set alt(e){this.removeTag("alt"),e&&this.tags.push(["alt",e])}get dTag(){return this.tagValue("d")}set dTag(e){this.removeTag("d"),e&&this.tags.push(["d",e])}removeTag(e){let t=Array.isArray(e)?e:[e];this.tags=this.tags.filter(e=>!t.includes(e[0]))}async sign(e){e?this.author=await e.user():(this.ndk?.assertSigner(),e=this.ndk.signer);let t=await this.toNostrEvent();return this.sig=await e.sign(t),this.sig}async publishReplaceable(e,t,r){return this.id="",this.created_at=Math.floor(Date.now()/1e3),this.sig="",this.publish(e,t,r)}async publish(e,t,r){if(this.sig||await this.sign(),!this.ndk)throw Error("NDKEvent must be associated with an NDK instance to publish");if(e||(e=this.ndk.devWriteRelaySet||await lR(this.ndk,this)),5===this.kind&&this.ndk.cacheAdapter?.deleteEventIds){let e=this.getMatchingTags("e").map(e=>e[1]);this.ndk.cacheAdapter.deleteEventIds(e)}let n=this.rawEvent();if(this.ndk.cacheAdapter?.addUnpublishedEvent&&ui(this))try{this.ndk.cacheAdapter.addUnpublishedEvent(this,e.relayUrls)}catch(e){console.error("Error adding unpublished event to cache",e)}5===this.kind&&this.ndk.cacheAdapter?.deleteEventIds&&this.ndk.cacheAdapter.deleteEventIds(this.getMatchingTags("e").map(e=>e[1])),this.ndk.subManager.dispatchEvent(n,void 0,!0);let i=await e.publish(this,t,r);return i.forEach(e=>this.ndk?.subManager.seenEvent(this.id,e)),i}async generateTags(){let e=[],t=await lT(this.content,this.tags),r=t.content;if(e=t.tags,this.kind&&this.isParamReplaceable()&&!this.getMatchingTags("d")[0]){let t=this.tagValue("title"),r=[...Array(t?6:16)].map(()=>Math.random().toString(36)[2]).join("");t&&t.length>0&&(r=t.replace(/[^a-z0-9]+/gi,"-").replace(/^-|-$/g,"")+"-"+r),e.push(["d",r])}if(this.shouldAddClientTag){let t=["client",this.ndk.clientName??""];this.ndk.clientNip89&&t.push(this.ndk.clientNip89),e.push(t)}else this.shouldStripClientTag&&(e=e.filter(e=>"client"!==e[0]));return{content:r||"",tags:e}}get shouldAddClientTag(){return!(!this.ndk?.clientName&&!this.ndk?.clientNip89||ut.has(this.kind)||this.isEphemeral()||this.isReplaceable()||this.isDvm()||this.hasTag("client"))}get shouldStripClientTag(){return ut.has(this.kind)}muted(){let e=this.ndk?.mutedIds.get(this.pubkey);if(e&&"p"===e)return"author";let t=this.tagReference(),r=this.ndk?.mutedIds.get(t[1]);return r&&r===t[0]?"event":null}replaceableDTag(){if(this.kind&&this.kind>=3e4&&this.kind<=4e4){let e=this.getMatchingTags("d")[0];return e?e[1]:""}throw Error("Event is not a parameterized replaceable event")}deduplicationKey(){return 0===this.kind||3===this.kind||this.kind&&this.kind>=1e4&&this.kind<2e4?`${this.kind}:${this.pubkey}`:this.tagId()}tagId(){return this.isParamReplaceable()?this.tagAddress():this.id}tagAddress(){if(this.isParamReplaceable()){let e=this.dTag??"";return`${this.kind}:${this.pubkey}:${e}`}if(this.isReplaceable())return`${this.kind}:${this.pubkey}:`;throw Error("Event is not a replaceable event")}tagType(){return this.isParamReplaceable()?"a":"e"}tagReference(e){let t;return t=this.isParamReplaceable()?["a",this.tagAddress()]:["e",this.tagId()],this.relay?t.push(this.relay.url):t.push(""),t.push(e??""),this.isParamReplaceable()||t.push(this.pubkey),t}referenceTags(e,t,r){let n=[];return(n=(n=this.isParamReplaceable()?[[r??"a",this.tagAddress()],[r??"e",this.id]]:[[r??"e",this.id]]).map(t=>("e"===t[0]||e?t.push(this.relay?.url??""):this.relay?.url&&t.push(this.relay?.url),t))).forEach(t=>{"e"===t[0]?(t.push(e??""),t.push(this.pubkey)):e&&t.push(e)}),n=[...n,...this.getMatchingTags("h")],t||n.push(...this.author.referenceTags()),n}filter(){return this.isParamReplaceable()?{"#a":[this.tagId()]}:{"#e":[this.tagId()]}}nip22Filter(){return this.isParamReplaceable()?{"#A":[this.tagId()]}:{"#E":[this.tagId()]}}async delete(t,r=!0){if(!this.ndk)throw Error("No NDK instance found");this.ndk.assertSigner();let n=new e(this.ndk,{kind:5,content:t||""});return n.tag(this,void 0,!0),n.tags.push(["k",this.kind.toString()]),r&&(this.emit("deleted"),await n.publish()),n}set isProtected(e){this.removeTag("-"),e&&this.tags.push(["-"])}get isProtected(){return this.hasTag("-")}fetchTaggedEvent=lX.bind(this);fetchRootEvent=lQ.bind(this);fetchReplyEvent=l0.bind(this);repost=lF.bind(this);async react(t,r=!0){if(!this.ndk)throw Error("No NDK instance found");this.ndk.assertSigner();let n=new e(this.ndk,{kind:7,content:t});return n.tag(this),r&&await n.publish(),n}get isValid(){return this.validate()}reply(){let t=new e(this.ndk);if(1===this.kind)t.kind=1,this.hasTag("e")?t.tags=[...t.tags,...this.getMatchingTags("e"),...this.getMatchingTags("p"),...this.getMatchingTags("a"),...this.referenceTags("reply")]:t.tag(this,"root");else{t.kind=1111;let e=["A","E","I","P"],r=this.tags.filter(t=>e.includes(t[0]));if(r.length>0){let e=this.tagValue("K");t.tags.push(...r),e&&t.tags.push(["K",e]);let[n,i,o,...s]=this.tagReference(),a=[n,i,...s];t.tags.push(a)}else{let[e,r,n,i]=this.tagReference(),o=[e,r,i??""];"e"===e&&o.push(this.pubkey),t.tags.push(o);let s=[...o];s[0]=s[0].toUpperCase(),t.tags.push(s),t.tags.push(["K",this.kind.toString()]),t.tags.push(["P",this.pubkey])}t.tags.push(["k",this.kind.toString()]),t.tags.push(...this.getMatchingTags("p")),t.tags.push(["p",this.pubkey])}return t}},un=new Set([24133,13194,23194,23195]);function ui(e){return!un.has(e.kind)}var uo=class extends d.EventEmitter{_relays=new Map;status="idle";autoConnectRelays=new Set;poolBlacklistRelayUrls=new Set;debug;temporaryRelayTimers=new Map;flappingRelays=new Set;backoffTimes=new Map;ndk;get blacklistRelayUrls(){let e=new Set(this.ndk.blacklistRelayUrls);return this.poolBlacklistRelayUrls.forEach(t=>e.add(t)),e}constructor(e=[],t=[],r,{debug:n,name:i}={}){super(),this.debug=n??r.debug.extend("pool"),i&&(this._name=i),this.ndk=r,this.relayUrls=e,this.poolBlacklistRelayUrls=new Set(t),this.ndk.pools.push(this)}get relays(){return this._relays}set relayUrls(e){for(let t of(this._relays.clear(),e)){let e=new lw(t,void 0,this.ndk);e.connectivity.netDebug=this.ndk.netDebug,this.addRelay(e)}}_name="unnamed";get name(){return this._name}set name(e){this._name=e,this.debug=this.debug.extend(e)}useTemporaryRelay(e,t=3e4,r){let n=this.relays.has(e.url);n||(this.addRelay(e),this.debug("Adding temporary relay %s for filters %o",e.url,r));let i=this.temporaryRelayTimers.get(e.url);if(i&&clearTimeout(i),!n||i){let r=setTimeout(()=>{this.ndk.explicitRelayUrls?.includes(e.url)||this.removeRelay(e.url)},t);this.temporaryRelayTimers.set(e.url,r)}}addRelay(e,t=!0){let r=this.relays.has(e.url),n=this.blacklistRelayUrls?.has(e.url),i=e.url.includes("/npub1"),o=!0,s=e.url;if(r)return;if(n){this.debug(`Refusing to add relay ${s}: blacklisted`);return}if(i){this.debug(`Refusing to add relay ${s}: is a filter relay`);return}if(this.ndk.cacheAdapter?.getRelayStatus){let r=this.ndk.cacheAdapter.getRelayStatus(s);if(r&&r.dontConnectBefore){if(r.dontConnectBefore>Date.now()){let n=r.dontConnectBefore-Date.now();this.debug(`Refusing to add relay ${s}: delayed connect for ${n}ms`),setTimeout(()=>{this.addRelay(e,t)},n);return}o=!1}}let a=t=>this.emit("notice",e,t),l=()=>this.handleRelayConnect(s),u=()=>this.handleRelayReady(e),c=()=>this.emit("relay:disconnect",e),f=()=>this.handleFlapping(e),d=t=>this.emit("relay:auth",e,t),h=()=>this.emit("relay:authed",e);e.off("notice",a),e.off("connect",l),e.off("ready",u),e.off("disconnect",c),e.off("flapping",f),e.off("auth",d),e.off("authed",h),e.on("notice",a),e.on("connect",l),e.on("ready",u),e.on("disconnect",c),e.on("flapping",f),e.on("auth",d),e.on("authed",h),e.on("delayed-connect",t=>{this.ndk.cacheAdapter?.updateRelayStatus&&this.ndk.cacheAdapter.updateRelayStatus(e.url,{dontConnectBefore:Date.now()+t})}),this._relays.set(s,e),t&&this.autoConnectRelays.add(s),t&&"active"===this.status&&(this.emit("relay:connecting",e),e.connect(void 0,o).catch(e=>{this.debug(`Failed to connect to relay ${s}`,e)}))}removeRelay(e){let t=this.relays.get(e);if(t)return t.disconnect(),this.relays.delete(e),this.autoConnectRelays.delete(e),this.emit("relay:disconnect",t),!0;let r=this.temporaryRelayTimers.get(e);return r&&(clearTimeout(r),this.temporaryRelayTimers.delete(e)),!1}isRelayConnected(e){let t=lr(e),r=this.relays.get(t);return!!r&&5===r.status}getRelay(e,t=!0,r=!1,n){let i=this.relays.get(lr(e));return i||((i=new lw(e,void 0,this.ndk)).connectivity.netDebug=this.ndk.netDebug,r?this.useTemporaryRelay(i,3e4,n):this.addRelay(i,t)),i}handleRelayConnect(e){let t=this.relays.get(e);if(!t){console.error("NDK BUG: relay not found in pool",{relayUrl:e});return}this.emit("relay:connect",t),this.stats().connected===this.relays.size&&this.emit("connect")}handleRelayReady(e){this.emit("relay:ready",e)}async connect(e){let t=[];for(let r of(this.status="active",this.debug(`Connecting to ${this.relays.size} relays${e?`, timeout ${e}...`:""}`),new Set(this.autoConnectRelays.keys()))){let n=this.relays.get(r);if(!n){console.log(`Relay ${r} not found in pool ${this.name}`);continue}let i=new Promise((t,r)=>(this.emit("relay:connecting",n),n.connect(e).then(t).catch(r)));if(e){let r=new Promise((t,r)=>{setTimeout(()=>r(`Timed out after ${e}ms`),e)});t.push(Promise.race([i,r]).catch(e=>{this.debug(`Failed to connect to relay ${n.url}: ${e??"No reason specified"}`)}))}else t.push(i)}let r=()=>{let e=this.stats().connected===this.relays.size,t=this.stats().connected>0;!e&&t&&this.emit("connect")};e&&setTimeout(r,e),await Promise.all(t),r()}checkOnFlappingRelays(){if(this.flappingRelays.size/this.relays.size>=.8)for(let e of this.flappingRelays)this.backoffTimes.set(e,0)}handleFlapping(e){this.debug(`Relay ${e.url} is flapping`);let t=this.backoffTimes.get(e.url)||5e3;t*=2,this.backoffTimes.set(e.url,t),this.debug(`Backoff time for ${e.url} is ${t}ms`),setTimeout(()=>{this.debug(`Attempting to reconnect to ${e.url}`),this.emit("relay:connecting",e),e.connect(),this.checkOnFlappingRelays()},t),e.disconnect(),this.emit("flapping",e)}size(){return this.relays.size}stats(){let e={total:0,connected:0,disconnected:0,connecting:0};for(let t of this.relays.values())e.total++,5===t.status?e.connected++:1===t.status?e.disconnected++:4===t.status&&e.connecting++;return e}connectedRelays(){return Array.from(this.relays.values()).filter(e=>e.status>=5)}permanentAndConnectedRelays(){return Array.from(this.relays.values()).filter(e=>e.status>=5&&!this.temporaryRelayTimers.has(e.url))}urls(){return Array.from(this.relays.keys())}};function us(e){return!!(ua(e.filter)&&ul(e))}function ua(e){return!!e.ids}function ul(e){let t=e.filter.ids;return!!t&&t.length===e.eventFirstSeen.size}var uu=/^(\d+):([0-9A-Fa-f]+)(?::(.*))?$/,uc=/^n(event|ote|profile|pub|addr)1[\d\w]+$/,uf=class e extends ur{static kind=30023;static kinds=[30023];constructor(e,t){super(e,t),this.kind??=30023}static from(t){return new e(t.ndk,t)}get title(){return this.tagValue("title")}set title(e){this.removeTag("title"),e&&this.tags.push(["title",e])}get image(){return this.tagValue("image")}set image(e){this.removeTag("image"),e&&this.tags.push(["image",e])}get summary(){return this.tagValue("summary")}set summary(e){this.removeTag("summary"),e&&this.tags.push(["summary",e])}get published_at(){let e=this.tagValue("published_at");if(e){let t=parseInt(e);return t>1e12&&(t=Math.floor(t/1e3)),t}}set published_at(e){this.removeTag("published_at"),void 0!==e&&this.tags.push(["published_at",e.toString()])}async generateTags(){return super.generateTags(),this.published_at||(this.published_at=this.created_at),super.generateTags()}get url(){return this.tagValue("url")}set url(e){e?this.tags.push(["url",e]):this.removeTag("url")}};function ud(e){return e.reduce((e,t)=>{if(t.amount<0)throw Error("proof amount is negative");return e+t.amount},0)}var uh=class e extends ur{_proofs=[];_mint;static kind=7375;static kinds=[7375];_deletes=[];original;constructor(e,t){super(e,t),this.kind??=7375}static async from(t){let r=new e(t.ndk,t);r.original=t;try{await r.decrypt()}catch{r.content=r.original.content}try{let e=JSON.parse(r.content);if(r.proofs=e.proofs,r.mint=e.mint??r.tagValue("mint"),r.deletedTokens=e.del??[],!Array.isArray(r.proofs))return}catch(e){return}return r}get proofs(){return this._proofs}set proofs(e){let t=new Set;this._proofs=e.filter(e=>t.has(e.C)?(console.warn("Passed in proofs had duplicates, ignoring",e.C),!1):e.amount<0?(console.warn("Invalid proof with negative amount",e),!1):(t.add(e.C),!0)).map(this.cleanProof)}cleanProof(e){return{id:e.id,amount:e.amount,C:e.C,secret:e.secret}}async toNostrEvent(e){let t={proofs:this.proofs.map(this.cleanProof),mint:this.mint,del:this.deletedTokens??[]};this.content=JSON.stringify(t);let r=await this.ndk.signer.user();return await this.encrypt(r,void 0,"nip44"),super.toNostrEvent(e)}set mint(e){this._mint=e}get mint(){return this._mint}get deletedTokens(){return this._deletes}set deletedTokens(e){this._deletes=e}get amount(){return ud(this.proofs)}async publish(e,t,r){return this.original?this.original.publish(e,t,r):super.publish(e,t,r)}},up=class e extends ur{_article;static kind=9802;static kinds=[9802];constructor(e,t){super(e,t),this.kind??=9802}static from(t){return new e(t.ndk,t)}get url(){return this.tagValue("r")}set context(e){void 0===e?this.tags=this.tags.filter(([e,t])=>"context"!==e):(this.tags=this.tags.filter(([e,t])=>"context"!==e),this.tags.push(["context",e]))}get context(){return this.tags.find(([e,t])=>"context"===e)?.[1]??void 0}get article(){return this._article}set article(e){this._article=e,"string"==typeof e?this.tags.push(["r",e]):this.tag(e)}getArticleTag(){return this.getMatchingTags("a")[0]||this.getMatchingTags("e")[0]||this.getMatchingTags("r")[0]}async getArticle(){let e;if(void 0!==this._article)return this._article;let t=this.getArticleTag();if(t){switch(t[0]){case"a":let[r,n,i]=t[1].split(":");e=nQ.naddrEncode({kind:parseInt(r),pubkey:n,identifier:i});break;case"e":e=nQ.noteEncode(t[1]);break;case"r":this._article=t[1]}if(e){let t=await this.ndk?.fetchEvent(e);t&&(30023===t.kind&&(t=uf.from(t)),this._article=t)}return this._article}}};function ug(e){let t={};if(2===e.length){let r=e[1].split(" ");for(let e=0;e<r.length;e+=2){let n=r[e],i=r[e+1];"fallback"===n?(t.fallback||(t.fallback=[]),t.fallback.push(i)):t[n]=i}}for(let r of e){let e=r.split(" "),n=e[0],i=e.slice(1).join(" ");"fallback"===n?(t.fallback||(t.fallback=[]),t.fallback.push(i)):t[n]=i}return t}function uy(e){let t=["imeta"];for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.push(r,e);else n&&t.push(r,n);return t}var um=class e extends ur{static kind=20;static kinds=[20];_imetas;constructor(e,t){super(e,t),this.kind??=20}static from(t){return new e(t.ndk,t.rawEvent())}get isValid(){return this.imetas.length>0}get imetas(){return this._imetas||(this._imetas=this.tags.filter(e=>"imeta"===e[0]).map(ug).filter(e=>!!e.url)),this._imetas}set imetas(e){this._imetas=e,this.tags=this.tags.filter(e=>"imeta"!==e[0]),this.tags.push(...e.map(uy))}},ub=class e extends ur{_encryptedTags;static kinds=[10063,30001,10004,10050,10030,10015,10001,10002,10007,10006,10003];encryptedTagsLength;constructor(e,t){super(e,t),this.kind??=30001}static from(t){return new e(t.ndk,t)}get title(){let e=this.tagValue("title")||this.tagValue("name");if(e)return e;if(3===this.kind)return"Contacts";if(1e4===this.kind)return"Mute";if(10001===this.kind)return"Pinned Notes";if(10002===this.kind)return"Relay Metadata";if(10003===this.kind)return"Bookmarks";else if(10004===this.kind)return"Communities";else if(10005===this.kind)return"Public Chats";else if(10006===this.kind)return"Blocked Relays";else if(10007===this.kind)return"Search Relays";else if(10050===this.kind)return"Direct Message Receive Relays";else if(10015===this.kind)return"Interests";else if(10030===this.kind)return"Emojis";else return this.tagValue("d")}set title(e){this.removeTag(["title","name"]),e&&this.tags.push(["title",e])}get name(){return this.title}set name(e){this.title=e}get description(){return this.tagValue("description")}set description(e){this.removeTag("description"),e&&this.tags.push(["description",e])}get image(){return this.tagValue("image")}set image(e){this.removeTag("image"),e&&this.tags.push(["image",e])}isEncryptedTagsCacheValid(){return!!(this._encryptedTags&&this.encryptedTagsLength===this.content.length)}async encryptedTags(e=!0){if(e&&this.isEncryptedTagsCacheValid())return this._encryptedTags;if(!this.ndk)throw Error("NDK instance not set");if(!this.ndk.signer)throw Error("NDK signer not set");let t=await this.ndk.signer.user();try{if(this.content.length>0)try{let e=await this.ndk.signer.decrypt(t,this.content),r=JSON.parse(e);if(r&&r[0])return this.encryptedTagsLength=this.content.length,this._encryptedTags=r;return this.encryptedTagsLength=this.content.length,this._encryptedTags=[]}catch(e){console.log(`error decrypting ${this.content}`)}}catch(e){}return[]}validateTag(e){return!0}getItems(e){return this.tags.filter(t=>t[0]===e)}get items(){return this.tags.filter(e=>!["d","L","l","title","name","description","published_at","summary","image","thumb","alt","expiration","subject","client"].includes(e[0]))}async addItem(e,t,r=!1,n="bottom"){let i;if(!this.ndk)throw Error("NDK instance not set");if(!this.ndk.signer)throw Error("NDK signer not set");if(e instanceof ur)i=[e.tagReference(t)];else if(e instanceof uF)i=e.referenceTags();else if(e instanceof lw)i=e.referenceTags();else if(Array.isArray(e))i=[e];else throw Error("Invalid object type");if(t&&i[0].push(t),r){let e=await this.ndk.signer.user(),t=await this.encryptedTags();"top"===n?t.unshift(...i):t.push(...i),this._encryptedTags=t,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(t),await this.encrypt(e)}else"top"===n?this.tags.unshift(...i):this.tags.push(...i);this.created_at=Math.floor(Date.now()/1e3),this.emit("change")}async removeItemByValue(e,t=!0){if(!this.ndk)throw Error("NDK instance not set");if(!this.ndk.signer)throw Error("NDK signer not set");let r=this.tags.findIndex(t=>t[1]===e);r>=0&&this.tags.splice(r,1);let n=await this.ndk.signer.user(),i=await this.encryptedTags(),o=i.findIndex(t=>t[1]===e);if(o>=0&&(i.splice(o,1),this._encryptedTags=i,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(i),await this.encrypt(n)),t)return this.publishReplaceable();this.created_at=Math.floor(Date.now()/1e3),this.emit("change")}async removeItem(e,t){if(!this.ndk)throw Error("NDK instance not set");if(!this.ndk.signer)throw Error("NDK signer not set");if(t){let t=await this.ndk.signer.user(),r=await this.encryptedTags();r.splice(e,1),this._encryptedTags=r,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(r),await this.encrypt(t)}else this.tags.splice(e,1);return this.created_at=Math.floor(Date.now()/1e3),this.emit("change"),this}has(e){return this.items.some(t=>t[1]===e)}filterForItems(){let e=new Set,t=new Map,r=[];for(let r of this.items)if("e"===r[0]&&r[1])e.add(r[1]);else if("a"===r[0]&&r[1]){let[e,n,i]=r[1].split(":");if(!e||!n)continue;let o=`${e}:${n}`,s=t.get(o)||[];s.push(i||""),t.set(o,s)}if(e.size>0&&r.push({ids:Array.from(e)}),t.size>0)for(let[e,n]of t.entries()){let[t,i]=e.split(":");r.push({kinds:[parseInt(t)],authors:[i],"#d":n})}return r}},uv=ub,uw=class e extends ur{debug;_proofs=[];static kind=9321;static kinds=[e.kind];constructor(e,t){super(e,t),this.kind??=9321,this.debug=e?.debug.extend("nutzap")??h("ndk:nutzap"),this.alt||(this.alt="This is a nutzap")}static from(e){let t=new this(e.ndk,e);try{let e=t.getMatchingTags("proof");e.length?t._proofs=e.map(e=>JSON.parse(e[1])):t._proofs=JSON.parse(t.content)}catch{return}if(t._proofs&&t._proofs.length)return t}set comment(e){this.content=e??""}get comment(){let e=this.tagValue("comment");return e||this.content}set proofs(e){for(let t of(this._proofs=e,this.tags=this.tags.filter(e=>"proof"!==e[0]),e))this.tags.push(["proof",JSON.stringify(t)])}get proofs(){return this._proofs}get p2pk(){let e=this.proofs[0];try{let t=JSON.parse(e.secret),r={};if("string"==typeof t?(r=JSON.parse(t),this.debug("stringified payload",e.secret)):"object"==typeof t&&(r=t),"P2PK"===r[0]&&r[1]?.data){let e=r[1].data.slice(2);if(e)return e}}catch(e){this.debug("error parsing p2pk pubkey",e,this.proofs[0])}}get mint(){return this.tagValue("u")}set mint(e){this.removeTag("u"),this.tag(["u",e])}get unit(){return this.tagValue("unit")??"sat"}set unit(e){this.removeTag("unit"),e&&this.tag(["unit",e])}get amount(){let e=this.proofs.reduce((e,t)=>e+t.amount,0);return"msat"===this.unit?1e3*e:e}sender=this.author;set target(e){this.tags=this.tags.filter(e=>"p"!==e[0]),e instanceof ur&&this.tags.push(e.tagReference())}set recipientPubkey(e){this.removeTag("p"),this.tag(["p",e])}get recipientPubkey(){return this.tagValue("p")}get recipient(){let e=this.recipientPubkey;return this.ndk?this.ndk.getUser({pubkey:e}):new uF({pubkey:e})}async toNostrEvent(){"msat"===this.unit&&(this.unit="sat"),this.removeTag("amount"),this.tags.push(["amount",this.amount.toString()]);let e=await super.toNostrEvent();return e.content=this.comment,e}get isValid(){let e=0,t=0,r=0;for(let n of this.tags)"e"===n[0]&&e++,"p"===n[0]&&t++,"u"===n[0]&&r++;return 1===t&&1===r&&e<=1&&this.proofs.length>0}},uE=class e extends ur{static kind=10019;static kinds=[10019];_p2pk;constructor(e,t){super(e,t),this.kind??=10019}static from(t){return new e(t.ndk,t)}set relays(e){for(let t of(this.tags=this.tags.filter(e=>"relay"!==e[0]),e))this.tags.push(["relay",t])}get relays(){let e=[];for(let t of this.tags)"relay"===t[0]&&e.push(t[1]);return e}set mints(e){for(let t of(this.tags=this.tags.filter(e=>"mint"!==e[0]),e))this.tags.push(["mint",t])}get mints(){let e=[];for(let t of this.tags)"mint"===t[0]&&e.push(t[1]);return Array.from(new Set(e))}get p2pk(){return this._p2pk||(this._p2pk=this.tagValue("pubkey")??this.pubkey),this._p2pk}set p2pk(e){this._p2pk=e,this.removeTag("pubkey"),e&&this.tags.push(["pubkey",e])}get relaySet(){return l_.fromRelayUrls(this.relays,this.ndk)}},u_=class e extends ur{relaySet;memberSet=new Set;static kind=39002;static kinds=[39002];constructor(e,t){super(e,t),this.kind??=39002,this.memberSet=new Set(this.members)}static from(t){return new e(t.ndk,t)}get members(){return this.getMatchingTags("p").map(e=>e[1])}hasMember(e){return this.memberSet.has(e)}async publish(e,t,r){return e??=this.relaySet,super.publishReplaceable(e,t,r)}},ux=class e extends ur{static kind=39e3;static kinds=[39e3];constructor(e,t){super(e,t),this.kind??=39e3}static from(t){return new e(t.ndk,t)}get name(){return this.tagValue("name")}get picture(){return this.tagValue("picture")}get about(){return this.tagValue("about")}get scope(){return this.getMatchingTags("public").length>0?"public":this.getMatchingTags("public").length>0?"private":void 0}set scope(e){this.removeTag("public"),this.removeTag("private"),"public"===e?this.tags.push(["public",""]):"private"===e&&this.tags.push(["private",""])}get access(){return this.getMatchingTags("open").length>0?"open":this.getMatchingTags("closed").length>0?"closed":void 0}set access(e){this.removeTag("open"),this.removeTag("closed"),"open"===e?this.tags.push(["open",""]):"closed"===e&&this.tags.push(["closed",""])}},uR=["daily","weekly","monthly","quarterly","yearly"];function uS(e,t,r){return["amount",e.toString(),t,r]}function uO(e){let t=parseInt(e[1]);if(isNaN(t)||null==t||t<=0)return;let r=e[2];if(void 0===r||""===r)return;let n=e[3];if(void 0!==n&&uR.includes(n))return{amount:t,currency:r,term:n}}var uP=class e extends uf{static kind=37001;static kinds=[37001];constructor(e,t){let r=t?.kind??37001;super(e,t),this.kind=r}static from(t){return new e(t.ndk,t)}get perks(){return this.getMatchingTags("perk").map(e=>e[1]).filter(e=>void 0!==e)}addPerk(e){this.tags.push(["perk",e])}get amounts(){return this.getMatchingTags("amount").map(e=>uO(e)).filter(e=>void 0!==e)}addAmount(e,t,r){this.tags.push(uS(e,t,r))}set relayUrl(e){this.tags.push(["r",e])}get relayUrls(){return this.getMatchingTags("r").map(e=>e[1]).filter(e=>void 0!==e)}get verifierPubkey(){return this.tagValue("p")}set verifierPubkey(e){this.removeTag("p"),e&&this.tags.push(["p",e])}get isValid(){return void 0!==this.title&&this.amounts.length>0}},uA=class e extends ur{static kind=34235;static kinds=[34235,34236];_imetas;constructor(e,t){super(e,t),this.kind??=34235}static from(t){return new e(t.ndk,t.rawEvent())}get title(){return this.tagValue("title")}set title(e){this.removeTag("title"),e&&this.tags.push(["title",e])}get thumbnail(){let e;return this.imetas&&this.imetas.length>0&&(e=this.imetas[0].image?.[0]),e??this.tagValue("thumb")}get imetas(){return this._imetas||(this._imetas=this.tags.filter(e=>"imeta"===e[0]).map(ug)),this._imetas}set imetas(e){this._imetas=e,this.tags=this.tags.filter(e=>"imeta"!==e[0]),this.tags.push(...e.map(uy))}get url(){return this.imetas&&this.imetas.length>0?this.imetas[0].url:this.tagValue("url")}get published_at(){let e=this.tagValue("published_at");if(e)return parseInt(e)}set published_at(e){this.removeTag("published_at"),void 0!==e&&this.tags.push(["published_at",e.toString()])}async generateTags(){return super.generateTags(),this.published_at||(this.published_at=this.created_at),super.generateTags()}get duration(){let e=this.tagValue("duration");if(e)return parseInt(e)}set duration(e){this.removeTag("duration"),void 0!==e&&this.tags.push(["duration",Math.floor(e).toString()])}},uk=class extends uf{static kind=30818;static kinds=[30818]};function uT(e){let t=new Map;[um,uA,uE,uf,up,uk,uw,u_,ux,uP,uh,ub].forEach(e=>{e.kinds.forEach(r=>{t.set(r,e)})});let r=t.get(e.kind);return r?r.from(e):e}var uM=(e=>(e.ONLY_CACHE="ONLY_CACHE",e.CACHE_FIRST="CACHE_FIRST",e.PARALLEL="PARALLEL",e.ONLY_RELAY="ONLY_RELAY",e))(uM||{}),uj={closeOnEose:!1,cacheUsage:"CACHE_FIRST",dontSaveToCache:!1,groupable:!0,groupableDelay:100,groupableDelayType:"at-most",cacheUnconstrainFilter:["limit","since","until"]},uC=(d.EventEmitter,e=>e>=2e4&&e<3e4);async function uN(e,t,r=3){if(!this.ndk)throw Error("NDK not set");let n=await this.ndk.fetchEvent({kinds:[r],authors:[this.pubkey]},e||{groupable:!1});if(n){let e=new Set;return n.tags.forEach(t=>{"p"===t[0]&&e.add(t[1])}),t&&this.ndk?.outboxTracker?.trackUsers(Array.from(e)),[...e].reduce((e,t)=>{let r=new uF({pubkey:t});return r.ndk=this.ndk,e.add(r),e},new Set)}return new Set}function uI(e){let t;let r={};try{t=JSON.parse(e.content)}catch(e){throw Error(`Failed to parse profile event: ${e}`)}return r.created_at=e.created_at,r.profileEvent=JSON.stringify(e.rawEvent()),Object.keys(t).forEach(e=>{switch(e){case"name":r.name=t.name;break;case"display_name":r.displayName=t.display_name;break;case"image":case"picture":r.picture=t.picture||t.image,r.image=r.picture;break;case"banner":r.banner=t.banner;break;case"bio":r.bio=t.bio;break;case"nip05":r.nip05=t.nip05;break;case"lud06":r.lud06=t.lud06;break;case"lud16":r.lud16=t.lud16;break;case"about":r.about=t.about;break;case"website":r.website=t.website;break;default:r[e]=t[e]}}),r}function uU(e){let t={};for(let[r,n]of Object.entries(e))switch(r){case"username":case"name":t.name=n;break;case"displayName":t.display_name=n;break;case"image":case"picture":t.picture=n;break;case"bio":case"about":t.about=n;break;default:t[r]=n}return JSON.stringify(t)}var uD=/^(?:([\w.+-]+)@)?([\w.-]+)$/;async function uL(e,t,r=fetch,n={}){return await e.queuesNip05.add({id:t,func:async()=>{if(e.cacheAdapter&&e.cacheAdapter.loadNip05){let r=await e.cacheAdapter.loadNip05(t);if("missing"!==r){if(r){let t=new uF({pubkey:r.pubkey,relayUrls:r.relays,nip46Urls:r.nip46});return t.ndk=e,t}if("no-cache"!==n.cache)return null}}let i=t.match(uD);if(!i)return null;let[o,s="_",a]=i;try{let i=await r(`https://${a}/.well-known/nostr.json?name=${s}`,n),{names:o,relays:l,nip46:u}=uB(await i.json()),c=o[s.toLowerCase()],f=null;return c&&(f={pubkey:c,relays:l?.[c],nip46:u?.[c]}),e?.cacheAdapter&&e.cacheAdapter.saveNip05&&e.cacheAdapter.saveNip05(t,f),f}catch(r){return e?.cacheAdapter&&e.cacheAdapter.saveNip05&&e?.cacheAdapter.saveNip05(t,null),console.error("Failed to fetch NIP05 for",t,r),null}}})}function uB(e){let t={names:{}};for(let[r,n]of Object.entries(e.names))"string"==typeof r&&"string"==typeof n&&(t.names[r.toLowerCase()]=n);if(e.relays)for(let[r,n]of(t.relays={},Object.entries(e.relays)))"string"==typeof r&&Array.isArray(n)&&(t.relays[r]=n.filter(e=>"string"==typeof e));if(e.nip46)for(let[r,n]of(t.nip46={},Object.entries(e.nip46)))"string"==typeof r&&Array.isArray(n)&&(t.nip46[r]=n.filter(e=>"string"==typeof e));return t}var uF=class e{ndk;profile;profileEvent;_npub;_pubkey;relayUrls=[];nip46Urls=[];constructor(e){e.npub&&(this._npub=e.npub),e.hexpubkey&&(this._pubkey=e.hexpubkey),e.pubkey&&(this._pubkey=e.pubkey),e.relayUrls&&(this.relayUrls=e.relayUrls),e.nip46Urls&&(this.nip46Urls=e.nip46Urls)}get npub(){if(!this._npub){if(!this._pubkey)throw Error("pubkey not set");this._npub=nQ.npubEncode(this.pubkey)}return this._npub}get nprofile(){let e=this.profileEvent?.onRelays?.map(e=>e.url);return nQ.nprofileEncode({pubkey:this.pubkey,relays:e})}set npub(e){this._npub=e}get pubkey(){if(!this._pubkey){if(!this._npub)throw Error("npub not set");this._pubkey=nQ.decode(this.npub).data}return this._pubkey}set pubkey(e){this._pubkey=e}filter(){return{"#p":[this.pubkey]}}async getZapInfo(e){if(!this.ndk)throw Error("No NDK instance found");let t=async t=>{if(!e)return t;try{return await Promise.race([t,new Promise((t,r)=>setTimeout(()=>r(),e))])}catch{return}},[r,n]=await Promise.all([t(this.fetchProfile()),t(this.ndk.fetchEvent({kinds:[10019],authors:[this.pubkey]}))]),i=new Map;if(n){let e=uE.from(n);e.mints.length>0&&i.set("nip61",{mints:e.mints,relays:e.relays,p2pk:e.p2pk})}if(r){let{lud06:e,lud16:t}=r;i.set("nip57",{lud06:e,lud16:t})}return i}static async fromNip05(t,r,n=!1){if(!r)throw Error("No NDK instance found");let i={};n&&(i.cache="no-cache");let o=await uL(r,t,r?.httpFetch,i);if(o){let t=new e({pubkey:o.pubkey,relayUrls:o.relays,nip46Urls:o.nip46});return t.ndk=r,t}}async fetchProfile(e,t=!1){if(!this.ndk)throw Error("NDK not set");this.profile||(this.profile={});let r=null;if(this.ndk.cacheAdapter&&this.ndk.cacheAdapter.fetchProfile&&e?.cacheUsage!=="ONLY_RELAY"){let e=await this.ndk.cacheAdapter.fetchProfile(this.pubkey);if(e)return this.profile=e,e}return(!e&&this.ndk.cacheAdapter&&this.ndk.cacheAdapter.locking&&(r=await this.ndk.fetchEvent({kinds:[0],authors:[this.pubkey]},{cacheUsage:"ONLY_CACHE",closeOnEose:!0,groupable:!1}),e={cacheUsage:"ONLY_RELAY",closeOnEose:!0,groupable:!0,groupableDelay:250}),r||(r=await this.ndk.fetchEvent({kinds:[0],authors:[this.pubkey]},e)),r)?(this.profile=uI(r),t&&(this.profile.profileEvent=JSON.stringify(r)),this.profile&&this.ndk.cacheAdapter&&this.ndk.cacheAdapter.saveProfile&&this.ndk.cacheAdapter.saveProfile(this.pubkey,this.profile),this.profile):null}follows=uN.bind(this);async followSet(e,t,r=3){return new Set(Array.from(await this.follows(e,t,r)).map(e=>e.pubkey))}tagReference(){return["p",this.pubkey]}referenceTags(e){let t=[["p",this.pubkey]];return e&&t[0].push("",e),t}async publish(){if(!this.ndk)throw Error("No NDK instance found");if(!this.profile)throw Error("No profile available");this.ndk.assertSigner();let e=new ur(this.ndk,{kind:0,content:uU(this.profile)});await e.publish()}async follow(e,t,r=3){if(!this.ndk)throw Error("No NDK instance found");if(this.ndk.assertSigner(),t||(t=await this.follows(void 0,void 0,r)),t.has(e))return!1;t.add(e);let n=new ur(this.ndk,{kind:r});for(let e of t)n.tag(e);return await n.publish(),!0}async unfollow(e,t,r=3){if(!this.ndk)throw Error("No NDK instance found");this.ndk.assertSigner(),t||(t=await this.follows(void 0,void 0,r));let n=new Set,i=!1;for(let r of t)r.pubkey!==e.pubkey?n.add(r):i=!0;if(!i)return!1;let o=new ur(this.ndk,{kind:r});for(let e of n)o.tag(e);return await o.publish()}async validateNip05(e){if(!this.ndk)throw Error("No NDK instance found");let t=await uL(this.ndk,e);return null===t?null:t.pubkey===this.pubkey}},u$=(e=>(e.Processing="processing",e.Success="success",e.Scheduled="scheduled",e.PayReq="payment_required",e))(u$||{}),uH=class e extends ur{constructor(e,t){super(e,t),this.kind??=7e3}static async from(t){let r=new e(t.ndk,t.rawEvent());return r.encrypted&&await r.dvmDecrypt(),r}get status(){return this.tagValue("status")}set status(e){this.removeTag("status"),void 0!==e&&this.tags.push(["status",e])}get encrypted(){return!!this.getMatchingTags("encrypted")[0]}async dvmDecrypt(){await this.decrypt();let e=JSON.parse(this.content);this.tags.push(...e)}},uz="read",uq="write",uW=class e extends ur{constructor(e,t){super(e,t),this.kind??=10002}static from(t){return new e(t.ndk,t.rawEvent())}get readRelayUrls(){return this.tags.filter(e=>"r"===e[0]||"relay"===e[0]).filter(e=>!e[2]||e[2]&&e[2]===uz).map(e=>lt(e[1])).filter(e=>!!e)}set readRelayUrls(e){for(let t of e)this.tags.push(["r",t,uz])}get writeRelayUrls(){return this.tags.filter(e=>"r"===e[0]||"relay"===e[0]).filter(e=>!e[2]||e[2]&&e[2]===uq).map(e=>lt(e[1])).filter(e=>!!e)}set writeRelayUrls(e){for(let t of e)this.tags.push(["r",t,uq])}get bothRelayUrls(){return this.tags.filter(e=>"r"===e[0]||"relay"===e[0]).filter(e=>!e[2]).map(e=>e[1])}set bothRelayUrls(e){for(let t of e)this.tags.push(["r",t])}get relays(){return this.tags.filter(e=>"r"===e[0]||"relay"===e[0]).map(e=>e[1])}get relaySet(){if(!this.ndk)throw Error("NDKRelayList has no NDK instance");return new l_(new Set(this.relays.map(e=>this.ndk.pool.getRelay(e))),this.ndk)}};function uV(e,t){try{let r=JSON.parse(t.content),n=new uW(e),i=new Set,o=new Set;for(let[e,t]of Object.entries(r)){try{e=lr(e)}catch{continue}if(t){let r=t;r.write&&o.add(e),r.read&&i.add(e)}else i.add(e),o.add(e)}return n.readRelayUrls=Array.from(i),n.writeRelayUrls=Array.from(o),n}catch{}}async function uK(e,t,r,n,i,o){try{await e.sign(r),i(e)}catch(r){n(`Failed to publish auth event to relay ${t.url}`,r),o(e)}}var uG={signIn:function({ndk:e,signer:t,debug:r}={}){return r??=h("ndk:auth-policies:signIn"),async(n,i)=>{r(`Relay ${n.url} requested authentication, signing in`);let o=new ur(e);return o.kind=22242,o.tags=[["relay",n.url],["challenge",i]],t??=e?.signer,new Promise(async(i,s)=>{t?await uK(o,n,t,r,i,s):e?.once("signer:ready",async e=>{await uK(o,n,e,r,i,s)})})}}},uY=class{_userPromise;encryptionQueue=[];encryptionProcessing=!1;debug;waitTimeout;constructor(e=1e3){this.debug=h("ndk:nip07"),this.waitTimeout=e}async blockUntilReady(){await this.waitForExtension();let e=await window.nostr.getPublicKey();if(!e)throw Error("User rejected access");return new uF({pubkey:e})}async user(){return this._userPromise||(this._userPromise=this.blockUntilReady()),this._userPromise}async sign(e){return await this.waitForExtension(),(await window.nostr.signEvent(e)).sig}async relays(e){await this.waitForExtension();let t=await window.nostr.getRelays?.()||{},r=[];for(let e of Object.keys(t))t[e].read&&t[e].write&&r.push(e);return r.map(t=>new lw(t,e?.relayAuthDefaultPolicy,e))}async encryptionEnabled(e){let t=[];return(!e||"nip04"==e)&&window.nostr.nip04&&t.push("nip04"),(!e||"nip44"==e)&&window.nostr.nip44&&t.push("nip44"),t}async encrypt(e,t,r="nip04"){if(!await this.encryptionEnabled(r))throw Error(r+"encryption is not available from your browser extension");await this.waitForExtension();let n=e.pubkey;return this.queueEncryption(r,"encrypt",n,t)}async decrypt(e,t,r="nip04"){if(!await this.encryptionEnabled(r))throw Error(r+"encryption is not available from your browser extension");await this.waitForExtension();let n=e.pubkey;return this.queueEncryption(r,"decrypt",n,t)}async queueEncryption(e,t,r,n){return new Promise((i,o)=>{this.encryptionQueue.push({scheme:e,method:t,counterpartyHexpubkey:r,value:n,resolve:i,reject:o}),this.encryptionProcessing||this.processEncryptionQueue()})}async processEncryptionQueue(e,t=0){if(!e&&0===this.encryptionQueue.length){this.encryptionProcessing=!1;return}this.encryptionProcessing=!0;let{scheme:r,method:n,counterpartyHexpubkey:i,value:o,resolve:s,reject:a}=e||this.encryptionQueue.shift();this.debug("Processing encryption queue item",{method:n,counterpartyHexpubkey:i,value:o});try{let e=await window.nostr[r][n](i,o);s(e)}catch(r){if(r.message&&r.message.includes("call already executing")&&t<5){this.debug("Retrying encryption queue item",{method:n,counterpartyHexpubkey:i,value:o,retries:t}),setTimeout(()=>{this.processEncryptionQueue(e,t+1)},50*t);return}a(r)}this.processEncryptionQueue()}waitForExtension(){return new Promise((e,t)=>{let r;if(window.nostr){e();return}let n=setInterval(()=>{window.nostr&&(clearTimeout(r),clearInterval(n),e())},100);r=setTimeout(()=>{clearInterval(n),t(Error("NIP-07 extension not available"))},this.waitTimeout)})}};async function uJ(e,t,r,n,i){if(!await e.pubkeyAllowed({id:t,pubkey:r,method:"nip04_decrypt",params:i})){e.debug(`decrypt request from ${r} rejected`);return}return await e.signer.decrypt(n,i,"nip04")}d.EventEmitter;async function uZ(e,t,r,n,i){if(!await e.pubkeyAllowed({id:t,pubkey:r,method:"nip04_encrypt",params:i})){e.debug(`encrypt request from ${r} rejected`);return}return await e.signer.encrypt(n,i,"nip04")}async function uX(e,t,r,n){let[i]=n;e.debug(`sign event request from ${r}`);let o=new ur(e.ndk,JSON.parse(i));if(e.debug("event to sign",o.rawEvent()),!await e.pubkeyAllowed({id:t,pubkey:r,method:"sign_event",params:o})){e.debug(`sign event request from ${r} rejected`);return}return e.debug(`sign event request from ${r} allowed`),await o.sign(e.signer),o}async function uQ(e,t,r,n,i){if(!await e.pubkeyAllowed({id:t,pubkey:r,method:"nip44_encrypt",params:i})){e.debug(`encrypt request from ${r} rejected`);return}return await e.signer.encrypt(n,i,"nip44")}async function u0(e,t,r,n,i){if(!await e.pubkeyAllowed({id:t,pubkey:r,method:"nip44_decrypt",params:i})){e.debug(`decrypt request from ${r} rejected`);return}return await e.signer.decrypt(n,i,"nip44")}d.EventEmitter;async function u1(e,t){return(await u2([e],t)).get(e)}async function u2(e,t,r=!1,n=1e3){let i=t.outboxPool||t.pool,o=new Set;for(let e of i.relays.values())o.add(e);let s=new Map,a=new Map,l=new l_(o,t);if(t.cacheAdapter?.locking&&!r){let r=await t.fetchEvents({kinds:[3,10002],authors:Array.from(new Set(e))},{cacheUsage:"ONLY_CACHE",subId:"ndk-relay-list-fetch"});for(let e of r)10002===e.kind&&s.set(e.pubkey,uW.from(e));for(let e of r)if(3===e.kind){if(s.has(e.pubkey))continue;let r=uV(t,e);r&&a.set(e.pubkey,r)}e=e.filter(e=>!s.has(e)&&!a.has(e))}if(0===e.length)return s;let u=new Map,c=new Map;return new Promise(async r=>{let o=t.subscribe({kinds:[3,10002],authors:e},{closeOnEose:!0,pool:i,groupable:!0,cacheUsage:"ONLY_RELAY",subId:"ndk-relay-list-fetch"},l,!1);o.on("event",e=>{if(10002===e.kind){let t=u.get(e.pubkey);t&&t.created_at>e.created_at||u.set(e.pubkey,e)}else if(3===e.kind){let t=c.get(e.pubkey);if(t&&t.created_at>e.created_at)return;c.set(e.pubkey,e)}}),o.on("eose",()=>{for(let e of u.values())s.set(e.pubkey,uW.from(e));for(let r of e){if(s.has(r))continue;let e=c.get(r);if(!e)continue;let n=uV(t,e);n&&s.set(r,n)}r(s)}),setTimeout(()=>{r(s)},n),o.start()})}var u3=class{type;relayUrlScores;readRelays;writeRelays;constructor(e){this.type=e,this.relayUrlScores=new Map,this.readRelays=new Set,this.writeRelays=new Set}};function u4(e){return e instanceof uF?e.pubkey:e}function u8(e){return e instanceof uF?"user":"kind"}d.EventEmitter;function u6(e){if(!e||""===e)return!1;try{return new URL(e),!0}catch(e){return!1}}var u5="/.well-known/nostr/nip96.json",u9=h("ndk:active-user");async function u7(e){if(!this.autoConnectUserRelays)return;let t=await u1(e.pubkey,this);if(t){for(let e of t.relays){let t=this.pool.relays.get(e);t||(t=new lw(e,this.relayAuthDefaultPolicy,this),this.pool.addRelay(t))}return t}}async function ce(e){let t=await u7.call(this,e),r=[{kinds:[10006],authors:[e.pubkey]}];this.autoFetchUserMutelist&&r[0].kinds.push(1e4);let n=t?t.relaySet:void 0,i=this.subscribe(r,{subId:"active-user-settings",closeOnEose:!0},n,!1),o=new Map;i.on("event",e=>{let t=o.get(e.kind);t&&t.created_at>=e.created_at||o.set(e.kind,e)}),i.on("eose",()=>{for(let e of o.values())ct.call(this,e)}),i.start()}async function ct(e){10006===e.kind?cr.call(this,e):1e4===e.kind&&cn.call(this,e)}function cr(e){let t=uv.from(e);for(let e of t.items)this.pool.blacklistRelayUrls.add(e[0]);u9("Added %d relays to relay blacklist",t.items.length)}function cn(e){let t=uv.from(e);for(let e of t.items)this.mutedIds.set(e[1],e[0]);u9("Added %d users to mute list",t.items.length)}d.EventEmitter;var ci=h("ndk:zapper:ln");h("ndk:zapper"),d.EventEmitter},3038:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return i}});let n=r(3210);function i(e,t){let r=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(r.current=o(e,n)),t&&(i.current=o(t,n))},[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3039:(e,t,r)=>{"use strict";r.d(t,{zd:()=>W});var n=r(9010),i=r(2392);let o=16,s=new Uint8Array(16),a=(0,n.DH)(s),l=225,u=(e,t,r,n)=>{let i=1&n;return{s3:r<<31|n>>>1,s2:t<<31|r>>>1,s1:e<<31|t>>>1,s0:e>>>1^l<<24&-(1&i)}},c=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function f(e){e.reverse();let t=1&e[15],r=0;for(let t=0;t<e.length;t++){let n=e[t];e[t]=n>>>1|r,r=(1&n)<<7}return e[0]^=225&-t,e}let d=e=>e>65536?8:e>1024?4:2;class h{constructor(e,t){this.blockLen=o,this.outputLen=o,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,n.ZJ)(e),(0,i.ee)(e,16);let r=(0,n.O8)(e),s=r.getUint32(0,!1),a=r.getUint32(4,!1),l=r.getUint32(8,!1),f=r.getUint32(12,!1),h=[];for(let e=0;e<128;e++)h.push({s0:c(s),s1:c(a),s2:c(l),s3:c(f)}),{s0:s,s1:a,s2:l,s3:f}=u(s,a,l,f);let p=d(t||1024);if(![1,2,4,8].includes(p))throw Error(`ghash: wrong window size=${p}, should be 2, 4 or 8`);this.W=p;let g=128/p,y=this.windowSize=2**p,m=[];for(let e=0;e<g;e++)for(let t=0;t<y;t++){let r=0,n=0,i=0,o=0;for(let s=0;s<p;s++){if(!(t>>>p-s-1&1))continue;let{s0:a,s1:l,s2:u,s3:c}=h[p*e+s];r^=a,n^=l,i^=u,o^=c}m.push({s0:r,s1:n,s2:i,s3:o})}this.t=m}_updateBlock(e,t,r,n){e^=this.s0,t^=this.s1,r^=this.s2,n^=this.s3;let{W:i,t:o,windowSize:s}=this,a=0,l=0,u=0,c=0,f=(1<<i)-1,d=0;for(let h of[e,t,r,n])for(let e=0;e<4;e++){let t=h>>>8*e&255;for(let e=8/i-1;e>=0;e--){let{s0:r,s1:n,s2:h,s3:p}=o[d*s+(t>>>i*e&f)];a^=r,l^=n,u^=h,c^=p,d+=1}}this.s0=a,this.s1=l,this.s2=u,this.s3=c}update(e){e=(0,n.ZJ)(e),(0,i.t2)(this);let t=(0,n.DH)(e),r=Math.floor(e.length/o),l=e.length%o;for(let e=0;e<r;e++)this._updateBlock(t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]);return l&&(s.set(e.subarray(r*o)),this._updateBlock(a[0],a[1],a[2],a[3]),a.fill(0)),this}destroy(){let{t:e}=this;for(let t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){(0,i.t2)(this),(0,i.CG)(e,this),this.finished=!0;let{s0:t,s1:r,s2:o,s3:s}=this,a=(0,n.DH)(e);return a[0]=t,a[1]=r,a[2]=o,a[3]=s,e}digest(){let e=new Uint8Array(o);return this.digestInto(e),this.destroy(),e}}class p extends h{constructor(e,t){let r=f((e=(0,n.ZJ)(e)).slice());super(r,t),r.fill(0)}update(e){e=(0,n.ZJ)(e),(0,i.t2)(this);let t=(0,n.DH)(e),r=e.length%o,l=Math.floor(e.length/o);for(let e=0;e<l;e++)this._updateBlock(c(t[4*e+3]),c(t[4*e+2]),c(t[4*e+1]),c(t[4*e+0]));return r&&(s.set(e.subarray(l*o)),this._updateBlock(c(a[3]),c(a[2]),c(a[1]),c(a[0])),a.fill(0)),this}digestInto(e){(0,i.t2)(this),(0,i.CG)(e,this),this.finished=!0;let{s0:t,s1:r,s2:o,s3:s}=this,a=(0,n.DH)(e);return a[0]=t,a[1]=r,a[2]=o,a[3]=s,e.reverse()}}function g(e){let t=(t,r)=>e(r,t.length).update((0,n.ZJ)(t)).digest(),r=e(new Uint8Array(16),0);return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=(t,r)=>e(t,r),t}let y=g((e,t)=>new h(e,t)),m=g((e,t)=>new p(e,t)),b=16,v=4,w=new Uint8Array(16),E=283;function _(e){return e<<1^E&-(e>>7)}function x(e,t){let r=0;for(;t>0;t>>=1)r^=e&-(1&t),e=_(e);return r}let R=(()=>{let e=new Uint8Array(256);for(let t=0,r=1;t<256;t++,r^=_(r))e[t]=r;let t=new Uint8Array(256);t[0]=99;for(let r=0;r<255;r++){let n=e[255-r];n|=n<<8,t[e[r]]=(n^n>>4^n>>5^n>>6^n>>7^99)&255}return t})(),S=R.map((e,t)=>R.indexOf(t)),O=e=>e<<24|e>>>8,P=e=>e<<8|e>>>24;function A(e,t){if(256!==e.length)throw Error("Wrong sbox length");let r=new Uint32Array(256).map((r,n)=>t(e[n])),n=r.map(P),i=n.map(P),o=i.map(P),s=new Uint32Array(65536),a=new Uint32Array(65536),l=new Uint16Array(65536);for(let t=0;t<256;t++)for(let u=0;u<256;u++){let c=256*t+u;s[c]=r[t]^n[u],a[c]=i[t]^o[u],l[c]=e[t]<<8|e[u]}return{sbox:e,sbox2:l,T0:r,T1:n,T2:i,T3:o,T01:s,T23:a}}let k=A(R,e=>x(e,3)<<24|e<<16|e<<8|x(e,2)),T=A(S,e=>x(e,11)<<24|x(e,13)<<16|x(e,9)<<8|x(e,14)),M=(()=>{let e=new Uint8Array(16);for(let t=0,r=1;t<16;t++,r=_(r))e[t]=r;return e})();function j(e){(0,i.ee)(e);let t=e.length;if(![16,24,32].includes(t))throw Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);let{sbox2:r}=k,o=(0,n.DH)(e),s=o.length,a=e=>I(r,e,e,e,e),l=new Uint32Array(t+28);l.set(o);for(let e=s;e<l.length;e++){let t=l[e-1];e%s==0?t=a(O(t))^M[e/s-1]:s>6&&e%s==4&&(t=a(t)),l[e]=l[e-s]^t}return l}function C(e){let t=j(e),r=t.slice(),n=t.length,{sbox2:i}=k,{T0:o,T1:s,T2:a,T3:l}=T;for(let e=0;e<n;e+=4)for(let i=0;i<4;i++)r[e+i]=t[n-e-4+i];t.fill(0);for(let e=4;e<n-4;e++){let t=r[e],n=I(i,t,t,t,t);r[e]=o[255&n]^s[n>>>8&255]^a[n>>>16&255]^l[n>>>24]}return r}function N(e,t,r,n,i,o){return e[r<<8&65280|n>>>8&255]^t[i>>>8&65280|o>>>24&255]}function I(e,t,r,n,i){return e[255&t|65280&r]|e[n>>>16&255|i>>>16&65280]<<16}function U(e,t,r,n,i){let{sbox2:o,T01:s,T23:a}=k,l=0;t^=e[l++],r^=e[l++],n^=e[l++],i^=e[l++];let u=e.length/4-2;for(let o=0;o<u;o++){let o=e[l++]^N(s,a,t,r,n,i),u=e[l++]^N(s,a,r,n,i,t),c=e[l++]^N(s,a,n,i,t,r),f=e[l++]^N(s,a,i,t,r,n);t=o,r=u,n=c,i=f}let c=e[l++]^I(o,t,r,n,i),f=e[l++]^I(o,r,n,i,t);return{s0:c,s1:f,s2:e[l++]^I(o,n,i,t,r),s3:e[l++]^I(o,i,t,r,n)}}function D(e,t,r,n,i){let{sbox2:o,T01:s,T23:a}=T,l=0;t^=e[l++],r^=e[l++],n^=e[l++],i^=e[l++];let u=e.length/4-2;for(let o=0;o<u;o++){let o=e[l++]^N(s,a,t,i,n,r),u=e[l++]^N(s,a,r,t,i,n),c=e[l++]^N(s,a,n,r,t,i),f=e[l++]^N(s,a,i,n,r,t);t=o,r=u,n=c,i=f}let c=e[l++]^I(o,t,i,n,r),f=e[l++]^I(o,r,t,i,n);return{s0:c,s1:f,s2:e[l++]^I(o,n,r,t,i),s3:e[l++]^I(o,i,n,r,t)}}function L(e,t){if(!t)return new Uint8Array(e);if((0,i.ee)(t),t.length<e)throw Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function B(e,t,r,o){(0,i.ee)(t,b),(0,i.ee)(r);let s=r.length;o=L(s,o);let a=t,l=(0,n.DH)(a),{s0:u,s1:c,s2:f,s3:d}=U(e,l[0],l[1],l[2],l[3]),h=(0,n.DH)(r),p=(0,n.DH)(o);for(let t=0;t+4<=h.length;t+=4){p[t+0]=h[t+0]^u,p[t+1]=h[t+1]^c,p[t+2]=h[t+2]^f,p[t+3]=h[t+3]^d;let r=1;for(let e=a.length-1;e>=0;e--)r=r+(255&a[e])|0,a[e]=255&r,r>>>=8;({s0:u,s1:c,s2:f,s3:d}=U(e,l[0],l[1],l[2],l[3]))}let g=b*Math.floor(h.length/v);if(g<s){let e=new Uint32Array([u,c,f,d]),t=(0,n.u8)(e);for(let e=g,n=0;e<s;e++,n++)o[e]=r[e]^t[n]}return o}function F(e,t,r,o,s){(0,i.ee)(r,b),(0,i.ee)(o),s=L(o.length,s);let a=r,l=(0,n.DH)(a),u=(0,n.O8)(a),c=(0,n.DH)(o),f=(0,n.DH)(s),d=12*!t,h=o.length,p=u.getUint32(d,t),{s0:g,s1:y,s2:m,s3:w}=U(e,l[0],l[1],l[2],l[3]);for(let r=0;r+4<=c.length;r+=4)f[r+0]=c[r+0]^g,f[r+1]=c[r+1]^y,f[r+2]=c[r+2]^m,f[r+3]=c[r+3]^w,p=p+1>>>0,u.setUint32(d,p,t),{s0:g,s1:y,s2:m,s3:w}=U(e,l[0],l[1],l[2],l[3]);let E=b*Math.floor(c.length/v);if(E<h){let e=new Uint32Array([g,y,m,w]),t=(0,n.u8)(e);for(let e=E,r=0;e<h;e++,r++)s[e]=o[e]^t[r]}return s}function $(e){if((0,i.ee)(e),e.length%b!=0)throw Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${b}`)}function H(e,t,r){let i=e.length,o=i%b;if(!t&&0!==o)throw Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");let s=(0,n.DH)(e);if(t){let e=b-o;e||(e=b),i+=e}let a=L(i,r);return{b:s,o:(0,n.DH)(a),out:a}}function z(e,t){if(!t)return e;let r=e.length;if(!r)throw Error("aes/pcks5: empty ciphertext not allowed");let n=e[r-1];if(n<=0||n>16)throw Error(`aes/pcks5: wrong padding byte: ${n}`);let i=e.subarray(0,-n);for(let t=0;t<n;t++)if(e[r-t-1]!==n)throw Error("aes/pcks5: wrong padding");return i}function q(e){let t=new Uint8Array(16),r=(0,n.DH)(t);t.set(e);let i=b-e.length;for(let e=b-i;e<b;e++)t[e]=i;return r}(0,n.qn)({blockSize:16,nonceLength:16},function(e,t){function r(r,n){let i=j(e),o=t.slice(),s=B(i,o,r,n);return i.fill(0),o.fill(0),s}return(0,i.ee)(e),(0,i.ee)(t,b),{encrypt:(e,t)=>r(e,t),decrypt:(e,t)=>r(e,t)}}),(0,n.qn)({blockSize:16},function(e,t={}){(0,i.ee)(e);let r=!t.disablePadding;return{encrypt:(t,n)=>{(0,i.ee)(t);let{b:o,o:s,out:a}=H(t,r,n),l=j(e),u=0;for(;u+4<=o.length;){let{s0:e,s1:t,s2:r,s3:n}=U(l,o[u+0],o[u+1],o[u+2],o[u+3]);s[u++]=e,s[u++]=t,s[u++]=r,s[u++]=n}if(r){let e=q(t.subarray(4*u)),{s0:r,s1:n,s2:i,s3:o}=U(l,e[0],e[1],e[2],e[3]);s[u++]=r,s[u++]=n,s[u++]=i,s[u++]=o}return l.fill(0),a},decrypt:(t,i)=>{$(t);let o=C(e),s=L(t.length,i),a=(0,n.DH)(t),l=(0,n.DH)(s);for(let e=0;e+4<=a.length;){let{s0:t,s1:r,s2:n,s3:i}=D(o,a[e+0],a[e+1],a[e+2],a[e+3]);l[e++]=t,l[e++]=r,l[e++]=n,l[e++]=i}return o.fill(0),z(s,r)}}});let W=(0,n.qn)({blockSize:16,nonceLength:16},function(e,t,r={}){(0,i.ee)(e),(0,i.ee)(t,16);let o=!r.disablePadding;return{encrypt:(r,i)=>{let s=j(e),{b:a,o:l,out:u}=H(r,o,i),c=(0,n.DH)(t),f=c[0],d=c[1],h=c[2],p=c[3],g=0;for(;g+4<=a.length;)f^=a[g+0],d^=a[g+1],h^=a[g+2],p^=a[g+3],({s0:f,s1:d,s2:h,s3:p}=U(s,f,d,h,p)),l[g++]=f,l[g++]=d,l[g++]=h,l[g++]=p;if(o){let e=q(r.subarray(4*g));f^=e[0],d^=e[1],h^=e[2],p^=e[3],({s0:f,s1:d,s2:h,s3:p}=U(s,f,d,h,p)),l[g++]=f,l[g++]=d,l[g++]=h,l[g++]=p}return s.fill(0),u},decrypt:(r,i)=>{$(r);let s=C(e),a=(0,n.DH)(t),l=L(r.length,i),u=(0,n.DH)(r),c=(0,n.DH)(l),f=a[0],d=a[1],h=a[2],p=a[3];for(let e=0;e+4<=u.length;){let t=f,r=d,n=h,i=p;f=u[e+0],d=u[e+1];let{s0:o,s1:a,s2:l,s3:g}=D(s,f,d,h=u[e+2],p=u[e+3]);c[e++]=o^t,c[e++]=a^r,c[e++]=l^n,c[e++]=g^i}return s.fill(0),z(l,o)}}});function V(e,t,r,i,o){let s=e.create(r,i.length+(o?.length||0));o&&s.update(o),s.update(i);let a=new Uint8Array(16),l=(0,n.O8)(a);return o&&(0,n.zp)(l,0,BigInt(8*o.length),t),(0,n.zp)(l,8,BigInt(8*i.length),t),s.update(a),s.digest()}(0,n.qn)({blockSize:16,nonceLength:16},function(e,t){function r(r,i,o){let s=j(e),a=r.length;o=L(a,o);let l=(0,n.DH)(r),u=(0,n.DH)(o),c=i?u:l,f=(0,n.DH)(t),d=f[0],h=f[1],p=f[2],g=f[3];for(let e=0;e+4<=l.length;){let{s0:t,s1:r,s2:n,s3:i}=U(s,d,h,p,g);u[e+0]=l[e+0]^t,u[e+1]=l[e+1]^r,u[e+2]=l[e+2]^n,u[e+3]=l[e+3]^i,d=c[e++],h=c[e++],p=c[e++],g=c[e++]}let y=b*Math.floor(l.length/v);if(y<a){({s0:d,s1:h,s2:p,s3:g}=U(s,d,h,p,g));let e=(0,n.u8)(new Uint32Array([d,h,p,g]));for(let t=y,n=0;t<a;t++,n++)o[t]=r[t]^e[n];e.fill(0)}return s.fill(0),o}return(0,i.ee)(e),(0,i.ee)(t,16),{encrypt:(e,t)=>r(e,!0,t),decrypt:(e,t)=>r(e,!1,t)}}),(0,n.qn)({blockSize:16,nonceLength:12,tagLength:16},function(e,t,r){if((0,i.ee)(t),0===t.length)throw Error("aes/gcm: empty nonce");let o=16;function s(e,t,n){let i=V(y,!1,e,n,r);for(let e=0;e<t.length;e++)i[e]^=t[e];return i}function a(){let r=j(e),i=w.slice(),o=w.slice();if(F(r,!1,o,o,i),12===t.length)o.set(t);else{let e=w.slice(),r=(0,n.O8)(e);(0,n.zp)(r,8,BigInt(8*t.length),!1),y.create(i).update(t).update(e).digestInto(o)}let s=F(r,!1,o,w);return{xk:r,authKey:i,counter:o,tagMask:s}}return{encrypt:e=>{(0,i.ee)(e);let{xk:t,authKey:r,counter:n,tagMask:l}=a(),u=new Uint8Array(e.length+o);F(t,!1,n,e,u);let c=s(r,l,u.subarray(0,u.length-o));return u.set(c,e.length),t.fill(0),u},decrypt:e=>{if((0,i.ee)(e),e.length<o)throw Error(`aes/gcm: ciphertext less than tagLen (${o})`);let{xk:t,authKey:r,counter:l,tagMask:u}=a(),c=e.subarray(0,-o),f=e.subarray(-o),d=s(r,u,c);if(!(0,n.ex)(d,f))throw Error("aes/gcm: invalid ghash tag");let h=F(t,!1,l,c);return r.fill(0),u.fill(0),t.fill(0),h}}});let K=(e,t,r)=>n=>{if(!Number.isSafeInteger(n)||t>n||n>r)throw Error(`${e}: invalid value=${n}, must be [${t}..${r}]`)};(0,n.qn)({blockSize:16,nonceLength:12,tagLength:16},function(e,t,r){let o=16,s=K("AAD",0,0x1000000000),a=K("plaintext",0,0x1000000000),l=K("nonce",12,12),u=K("ciphertext",16,0x1000000000+16);function c(){let r=e.length;if(16!==r&&24!==r&&32!==r)throw Error(`key length must be 16, 24 or 32 bytes, got: ${r} bytes`);let i=j(e),o=new Uint8Array(r),s=new Uint8Array(16),a=(0,n.DH)(t),l=0,u=a[0],c=a[1],f=a[2],d=0;for(let e of[s,o].map(n.DH)){let t=(0,n.DH)(e);for(let e=0;e<t.length;e+=2){let{s0:r,s1:n}=U(i,l,u,c,f);t[e+0]=r,t[e+1]=n,l=++d}}return i.fill(0),{authKey:s,encKey:j(o)}}function f(e,i,o){let s=V(m,!0,i,o,r);for(let e=0;e<12;e++)s[e]^=t[e];s[15]&=127;let a=(0,n.DH)(s),l=a[0],u=a[1],c=a[2],f=a[3];return{s0:l,s1:u,s2:c,s3:f}=U(e,l,u,c,f),a[0]=l,a[1]=u,a[2]=c,a[3]=f,s}function d(e,t,r){let n=t.slice();return n[15]|=128,F(e,!0,n,r)}return(0,i.ee)(t),l(t.length),r&&((0,i.ee)(r),s(r.length)),{encrypt:e=>{(0,i.ee)(e),a(e.length);let{encKey:t,authKey:r}=c(),n=f(t,r,e),s=new Uint8Array(e.length+o);return s.set(n,e.length),s.set(d(t,n,e)),t.fill(0),r.fill(0),s},decrypt:e=>{(0,i.ee)(e),u(e.length);let t=e.subarray(-o),{encKey:r,authKey:s}=c(),a=d(r,t,e.subarray(0,-o)),l=f(r,s,a);if(r.fill(0),s.fill(0),!(0,n.ex)(t,l))throw Error("invalid polyval tag");return a}}})},3091:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createPrerenderSearchParamsForClientPage:function(){return p},createSearchParamsFromClient:function(){return f},createServerSearchParamsForMetadata:function(){return d},createServerSearchParamsForServerPage:function(){return h},makeErroringExoticSearchParamsForUseCache:function(){return E}});let n=r(3763),i=r(4971),o=r(3033),s=r(1617),a=r(8388),l=r(6926),u=r(2609),c=r(8719);function f(e,t){let r=o.workUnitAsyncStorage.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return g(t,r)}return y(e,t)}r(4523);let d=h;function h(e,t){let r=o.workUnitAsyncStorage.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return g(t,r)}return y(e,t)}function p(e){if(e.forceStatic)return Promise.resolve({});let t=o.workUnitAsyncStorage.getStore();return t&&"prerender"===t.type?(0,a.makeHangingPromise)(t.renderSignal,"`searchParams`"):Promise.resolve({})}function g(e,t){return e.forceStatic?Promise.resolve({}):"prerender"===t.type?v(e.route,t):w(e,t)}function y(e,t){return t.forceStatic?Promise.resolve({}):_(e,t)}let m=new WeakMap,b=new WeakMap;function v(e,t){let r=m.get(t);if(r)return r;let o=(0,a.makeHangingPromise)(t.renderSignal,"`searchParams`"),s=new Proxy(o,{get(r,s,a){if(Object.hasOwn(o,s))return n.ReflectAdapter.get(r,s,a);switch(s){case"then":{let e="`await searchParams`, `searchParams.then`, or similar";return(0,i.annotateDynamicAccess)(e,t),n.ReflectAdapter.get(r,s,a)}case"status":{let e="`use(searchParams)`, `searchParams.status`, or similar";return(0,i.annotateDynamicAccess)(e,t),n.ReflectAdapter.get(r,s,a)}default:if("string"==typeof s&&!u.wellKnownProperties.has(s)){let r=(0,u.describeStringPropertyAccess)("searchParams",s),n=S(e,r);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}return n.ReflectAdapter.get(r,s,a)}},has(r,o){if("string"==typeof o){let r=(0,u.describeHasCheckingStringProperty)("searchParams",o),n=S(e,r);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}return n.ReflectAdapter.has(r,o)},ownKeys(){let r="`{...searchParams}`, `Object.keys(searchParams)`, or similar",n=S(e,r);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}});return m.set(t,s),s}function w(e,t){let r=m.get(e);if(r)return r;let o=Promise.resolve({}),s=new Proxy(o,{get(r,s,a){if(Object.hasOwn(o,s))return n.ReflectAdapter.get(r,s,a);switch(s){case"then":{let r="`await searchParams`, `searchParams.then`, or similar";e.dynamicShouldError?(0,c.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,r):"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,r,t.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(r,e,t);return}case"status":{let r="`use(searchParams)`, `searchParams.status`, or similar";e.dynamicShouldError?(0,c.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,r):"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,r,t.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(r,e,t);return}default:if("string"==typeof s&&!u.wellKnownProperties.has(s)){let r=(0,u.describeStringPropertyAccess)("searchParams",s);e.dynamicShouldError?(0,c.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,r):"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,r,t.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(r,e,t)}return n.ReflectAdapter.get(r,s,a)}},has(r,o){if("string"==typeof o){let r=(0,u.describeHasCheckingStringProperty)("searchParams",o);return e.dynamicShouldError?(0,c.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,r):"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,r,t.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(r,e,t),!1}return n.ReflectAdapter.has(r,o)},ownKeys(){let r="`{...searchParams}`, `Object.keys(searchParams)`, or similar";e.dynamicShouldError?(0,c.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,r):"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,r,t.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(r,e,t)}});return m.set(e,s),s}function E(e){let t=b.get(e);if(t)return t;let r=Promise.resolve({}),i=new Proxy(r,{get:(t,i,o)=>(Object.hasOwn(r,i)||"string"!=typeof i||"then"!==i&&u.wellKnownProperties.has(i)||(0,c.throwForSearchParamsAccessInUseCache)(e.route),n.ReflectAdapter.get(t,i,o)),has:(t,r)=>("string"!=typeof r||"then"!==r&&u.wellKnownProperties.has(r)||(0,c.throwForSearchParamsAccessInUseCache)(e.route),n.ReflectAdapter.has(t,r)),ownKeys(){(0,c.throwForSearchParamsAccessInUseCache)(e.route)}});return b.set(e,i),i}function _(e,t){let r=m.get(e);if(r)return r;let n=Promise.resolve(e);return m.set(e,n),Object.keys(e).forEach(r=>{u.wellKnownProperties.has(r)||Object.defineProperty(n,r,{get(){let n=o.workUnitAsyncStorage.getStore();return(0,i.trackDynamicDataInDynamicRender)(t,n),e[r]},set(e){Object.defineProperty(n,r,{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0})}),n}let x=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(S),R=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(O);function S(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`searchParams\` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E249",enumerable:!1,configurable:!0})}function O(e,t,r){let n=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${n}used ${t}. \`searchParams\` should be awaited before using its properties. The following properties were not available through enumeration because they conflict with builtin or well-known property names: ${P(r)}. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E2",enumerable:!1,configurable:!0})}function P(e){switch(e.length){case 0:throw Object.defineProperty(new s.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:!1,configurable:!0});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let r=0;r<e.length-1;r++)t+=`\`${e[r]}\`, `;return t+`, and \`${e[e.length-1]}\``}}}},3102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createParamsFromClient:function(){return u},createPrerenderParamsForClientSegment:function(){return h},createServerParamsForMetadata:function(){return c},createServerParamsForRoute:function(){return f},createServerParamsForServerSegment:function(){return d}}),r(3763);let n=r(4971),i=r(3033),o=r(1617),s=r(2609),a=r(8388),l=r(6926);function u(e,t){let r=i.workUnitAsyncStorage.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return p(e,t,r)}return g(e,t)}r(4523);let c=d;function f(e,t){let r=i.workUnitAsyncStorage.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return p(e,t,r)}return g(e,t)}function d(e,t){let r=i.workUnitAsyncStorage.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return p(e,t,r)}return g(e,t)}function h(e,t){let r=i.workUnitAsyncStorage.getStore();if(r&&"prerender"===r.type){let n=t.fallbackRouteParams;if(n){for(let t in e)if(n.has(t))return(0,a.makeHangingPromise)(r.renderSignal,"`params`")}}return Promise.resolve(e)}function p(e,t,r){let n=t.fallbackRouteParams;if(n){let i=!1;for(let t in e)if(n.has(t)){i=!0;break}if(i)return"prerender"===r.type?m(e,t.route,r):b(e,n,t,r)}return v(e)}function g(e,t){return v(e)}let y=new WeakMap;function m(e,t,r){let i=y.get(e);if(i)return i;let o=(0,a.makeHangingPromise)(r.renderSignal,"`params`");return y.set(e,o),Object.keys(e).forEach(e=>{s.wellKnownProperties.has(e)||Object.defineProperty(o,e,{get(){let i=(0,s.describeStringPropertyAccess)("params",e),o=_(t,i);(0,n.abortAndThrowOnSynchronousRequestDataAccess)(t,i,o,r)},set(t){Object.defineProperty(o,e,{value:t,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0})}),o}function b(e,t,r,i){let o=y.get(e);if(o)return o;let a={...e},l=Promise.resolve(a);return y.set(e,l),Object.keys(e).forEach(o=>{s.wellKnownProperties.has(o)||(t.has(o)?(Object.defineProperty(a,o,{get(){let e=(0,s.describeStringPropertyAccess)("params",o);"prerender-ppr"===i.type?(0,n.postponeWithTracking)(r.route,e,i.dynamicTracking):(0,n.throwToInterruptStaticGeneration)(e,r,i)},enumerable:!0}),Object.defineProperty(l,o,{get(){let e=(0,s.describeStringPropertyAccess)("params",o);"prerender-ppr"===i.type?(0,n.postponeWithTracking)(r.route,e,i.dynamicTracking):(0,n.throwToInterruptStaticGeneration)(e,r,i)},set(e){Object.defineProperty(l,o,{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0})):l[o]=e[o])}),l}function v(e){let t=y.get(e);if(t)return t;let r=Promise.resolve(e);return y.set(e,r),Object.keys(e).forEach(t=>{s.wellKnownProperties.has(t)||(r[t]=e[t])}),r}let w=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(_),E=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(x);function _(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`params\` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E307",enumerable:!1,configurable:!0})}function x(e,t,r){let n=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${n}used ${t}. \`params\` should be awaited before using its properties. The following properties were not available through enumeration because they conflict with builtin property names: ${R(r)}. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E482",enumerable:!1,configurable:!0})}function R(e){switch(e.length){case 0:throw Object.defineProperty(new o.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:!1,configurable:!0});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let r=0;r<e.length-1;r++)t+=`\`${e[r]}\`, `;return t+`, and \`${e[e.length-1]}\``}}}},3123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createRouterCacheKey",{enumerable:!0,get:function(){return i}});let n=r(3913);function i(e,t){return(void 0===t&&(t=!1),Array.isArray(e))?e[0]+"|"+e[1]+"|"+e[2]:t&&e.startsWith(n.PAGE_SEGMENT_KEY)?n.PAGE_SEGMENT_KEY:e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3206:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3210:(e,t,r)=>{"use strict";e.exports=r(4041).vendored["react-ssr"].React},3406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{mountLinkInstance:function(){return u},onLinkVisibilityChanged:function(){return d},onNavigationIntent:function(){return h},pingVisibleLinks:function(){return g},unmountLinkInstance:function(){return c}}),r(8202);let n=r(9752),i=r(9154),o=r(593),s="function"==typeof WeakMap?new WeakMap:new Map,a=new Set,l="function"==typeof IntersectionObserver?new IntersectionObserver(f,{rootMargin:"200px"}):null;function u(e,t,r,i){let o=null;try{if(o=(0,n.createPrefetchURL)(t),null===o)return}catch(e){("function"==typeof reportError?reportError:console.error)("Cannot prefetch '"+t+"' because it cannot be converted to a URL.");return}let a={prefetchHref:o.href,router:r,kind:i,isVisible:!1,wasHoveredOrTouched:!1,prefetchTask:null,cacheVersion:-1};void 0!==s.get(e)&&c(e),s.set(e,a),null!==l&&l.observe(e)}function c(e){let t=s.get(e);if(void 0!==t){s.delete(e),a.delete(t);let r=t.prefetchTask;null!==r&&(0,o.cancelPrefetchTask)(r)}null!==l&&l.unobserve(e)}function f(e){for(let t of e){let e=t.intersectionRatio>0;d(t.target,e)}}function d(e,t){let r=s.get(e);void 0!==r&&(r.isVisible=t,t?a.add(r):a.delete(r),p(r))}function h(e){let t=s.get(e);void 0!==t&&void 0!==t&&(t.wasHoveredOrTouched=!0,p(t))}function p(e){let t=e.prefetchTask;if(!e.isVisible){null!==t&&(0,o.cancelPrefetchTask)(t);return}}function g(e,t){let r=(0,o.getCurrentCacheVersion)();for(let n of a){let s=n.prefetchTask;if(null!==s&&n.cacheVersion===r&&s.key.nextUrl===e&&s.treeAtTimeOfPrefetch===t)continue;null!==s&&(0,o.cancelPrefetchTask)(s);let a=(0,o.createCacheKey)(n.prefetchHref,e),l=n.wasHoveredOrTouched?o.PrefetchPriority.Intent:o.PrefetchPriority.Default;n.prefetchTask=(0,o.schedulePrefetchTask)(a,t,n.kind===i.PrefetchKind.FULL,l),n.cacheVersion=(0,o.getCurrentCacheVersion)()}}function y(e){}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},3883:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useUntrackedPathname",{enumerable:!0,get:function(){return s}});let n=r(3210),i=r(449);function o(){{let{workAsyncStorage:e}=r(9294),t=e.getStore();if(!t)return!1;let{fallbackRouteParams:n}=t;return!!n&&0!==n.size}}function s(){return o()?null:(0,n.useContext)(i.PathnameContext)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fillCacheWithNewSubTreeData:function(){return l},fillCacheWithNewSubTreeDataButOnlyLoading:function(){return u}});let n=r(4400),i=r(1500),o=r(3123),s=r(3913);function a(e,t,r,a,l){let{segmentPath:u,seedData:c,tree:f,head:d}=r,h=e,p=t;for(let e=0;e<u.length;e+=2){let t=u[e],r=u[e+1],g=e===u.length-2,y=(0,o.createRouterCacheKey)(r),m=p.parallelRoutes.get(t);if(!m)continue;let b=h.parallelRoutes.get(t);b&&b!==m||(b=new Map(m),h.parallelRoutes.set(t,b));let v=m.get(y),w=b.get(y);if(g){if(c&&(!w||!w.lazyData||w===v)){let e=c[0],t=c[1],r=c[3];w={lazyData:null,rsc:l||e!==s.PAGE_SEGMENT_KEY?t:null,prefetchRsc:null,head:null,prefetchHead:null,loading:r,parallelRoutes:l&&v?new Map(v.parallelRoutes):new Map},v&&l&&(0,n.invalidateCacheByRouterState)(w,v,f),l&&(0,i.fillLazyItemsTillLeafWithHead)(w,v,f,c,d,a),b.set(y,w)}continue}w&&v&&(w===v&&(w={lazyData:w.lazyData,rsc:w.rsc,prefetchRsc:w.prefetchRsc,head:w.head,prefetchHead:w.prefetchHead,parallelRoutes:new Map(w.parallelRoutes),loading:w.loading},b.set(y,w)),h=w,p=v)}}function l(e,t,r,n){a(e,t,r,n,!0)}function u(e,t,r,n){a(e,t,r,n,!1)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3913:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}function n(e){return e.startsWith("@")&&"@children"!==e}function i(e,t){if(e.includes(o)){let e=JSON.stringify(t);return"{}"!==e?o+"?"+e:o}return e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DEFAULT_SEGMENT_KEY:function(){return s},PAGE_SEGMENT_KEY:function(){return o},addSearchParamsIfPageSegment:function(){return i},isGroupSegment:function(){return r},isParallelRouteSegment:function(){return n}});let o="__PAGE__",s="__DEFAULT__"},3972:(e,t,r)=>{"use strict";e.exports=r(5239).vendored["react-rsc"].ReactServerDOMWebpackStaticEdge},4007:(e,t)=>{"use strict";function r(e){var t;let r=4,[n,i,o,s]=e.slice(-r),a=e.slice(0,-r);return{pathToSegment:a.slice(0,-1),segmentPath:a,segment:null!=(t=a[a.length-1])?t:"",tree:n,seedData:i,head:o,isHeadPartial:s,isRootRender:e.length===r}}function n(e){return e.slice(2)}function i(e){return"string"==typeof e?e:e.map(r)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getFlightDataPartsFromPath:function(){return r},getNextFlightSegmentPath:function(){return n},normalizeFlightData:function(){return i}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4041:(e,t,r)=>{"use strict";e.exports=r(846)},4077:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"matchSegment",{enumerable:!0,get:function(){return r}});let r=(e,t)=>"string"==typeof e?"string"==typeof t&&e===t:"string"!=typeof t&&e[0]===t[0]&&e[1]===t[1];("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4091:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e))throw Error(`Wrong integer: ${e}`)}function n(...e){let t=(e,t)=>r=>e(t(r));return{encode:Array.from(e).reverse().reduce((e,r)=>e?t(e,r.encode):r.encode,void 0),decode:e.reduce((e,r)=>e?t(e,r.decode):r.decode,void 0)}}function i(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(r(t),t<0||t>=e.length)throw Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw Error(`alphabet.decode: not string element=${t}`);let r=e.indexOf(t);if(-1===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function o(e=""){if("string"!=typeof e)throw Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw Error("join.decode input should be string");return t.split(e)}}}function s(e,t="="){if(r(e),"string"!=typeof t)throw Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function a(e){if("function"!=typeof e)throw Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function l(e,t,n){if(t<2)throw Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw Error("convertRadix: data should be array");if(!e.length)return[];let i=0,o=[],s=Array.from(e);for(s.forEach(e=>{if(r(e),e<0||e>=t)throw Error(`Wrong integer: ${e}`)});;){let e=0,r=!0;for(let o=i;o<s.length;o++){let a=s[o],l=t*e+a;if(!Number.isSafeInteger(l)||t*e/t!==e||l-a!=t*e||(e=l%n,s[o]=Math.floor(l/n),!Number.isSafeInteger(s[o])||s[o]*n+e!==l))throw Error("convertRadix: carry overflow");r&&(s[o]?r=!1:i=o)}if(o.push(e),r)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=r;let u=(e,t)=>t?u(t,e%t):e,c=(e,t)=>e+(t-u(e,t));function f(e,t,n,i){if(!Array.isArray(e))throw Error("convertRadix2: data should be array");if(t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw Error(`convertRadix2: wrong to=${n}`);if(c(t,n)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${c(t,n)}`);let o=0,s=0,a=2**n-1,l=[];for(let i of e){if(r(i),i>=2**t)throw Error(`convertRadix2: invalid data word=${i} from=${t}`);if(o=o<<t|i,s+t>32)throw Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)l.push((o>>s-n&a)>>>0);o&=2**s-1}if(o=o<<n-s&a,!i&&s>=t)throw Error("Excess padding");if(!i&&o)throw Error(`Non-zero padding: ${o}`);return i&&s>0&&l.push(o>>>0),l}function d(e){return r(e),{encode:t=>{if(!(t instanceof Uint8Array))throw Error("radix.encode input should be Uint8Array");return l(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("radix.decode input should be array of strings");return Uint8Array.from(l(t,e,256))}}}function h(e,t=!1){if(r(e),e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(c(8,e)>32||c(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw Error("radix2.encode input should be Uint8Array");return f(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error("radix2.decode input should be array of strings");return Uint8Array.from(f(r,e,8,t))}}}function p(e){if("function"!=typeof e)throw Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function g(e,t){if(r(e),"function"!=typeof t)throw Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw Error("checksum.encode: input should be Uint8Array");let n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-e),i=t(n).slice(0,e),o=r.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw Error("Invalid checksum");return n}}}t.utils={alphabet:i,chain:n,checksum:g,radix:d,radix2:h,join:o,padding:s},t.base16=n(h(4),i("0123456789ABCDEF"),o("")),t.base32=n(h(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),o("")),t.base32hex=n(h(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),o("")),t.base32crockford=n(h(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),a(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=n(h(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),o("")),t.base64url=n(h(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),o(""));let y=e=>n(d(58),i(e),o(""));t.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let m=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let r="";for(let n=0;n<e.length;n+=8){let i=e.subarray(n,n+8);r+=t.base58.encode(i).padStart(m[i.length],"1")}return r},decode(e){let r=[];for(let n=0;n<e.length;n+=11){let i=e.slice(n,n+11),o=m.indexOf(i.length),s=t.base58.decode(i);for(let e=0;e<s.length-o;e++)if(0!==s[e])throw Error("base58xmr: wrong padding");r=r.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(r)}};let b=e=>n(g(4,t=>e(e(t))),t.base58);t.base58check=b;let v=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),w=[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3];function E(e){let t=e>>25,r=(0x1ffffff&e)<<5;for(let e=0;e<w.length;e++)(t>>e&1)==1&&(r^=w[e]);return r}function _(e,t,r=1){let n=e.length,i=1;for(let t=0;t<n;t++){let r=e.charCodeAt(t);if(r<33||r>126)throw Error(`Invalid prefix (${e})`);i=E(i)^r>>5}i=E(i);for(let t=0;t<n;t++)i=E(i)^31&e.charCodeAt(t);for(let e of t)i=E(i)^e;for(let e=0;e<6;e++)i=E(i);return i^=r,v.encode(f([i%0x40000000],30,5,!1))}function x(e){let t="bech32"===e?1:0x2bc830a3,r=h(5),n=r.decode,i=r.encode,o=p(n);function s(e,r,n=90){if("string"!=typeof e)throw Error(`bech32.encode prefix should be string, not ${typeof e}`);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error(`bech32.encode words should be array of numbers, not ${typeof r}`);let i=e.length+7+r.length;if(!1!==n&&i>n)throw TypeError(`Length ${i} exceeds limit ${n}`);return e=e.toLowerCase(),`${e}1${v.encode(r)}${_(e,r,t)}`}function a(e,r=90){if("string"!=typeof e)throw Error(`bech32.decode input should be string, not ${typeof e}`);if(e.length<8||!1!==r&&e.length>r)throw TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);let n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw Error("String must be lowercase or uppercase");let i=(e=n).lastIndexOf("1");if(0===i||-1===i)throw Error('Letter "1" must be present between prefix and data only');let o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw Error("Data must be at least 6 characters long");let l=v.decode(s).slice(0,-6),u=_(o,l,t);if(!s.endsWith(u))throw Error(`Invalid checksum in ${e}: expected "${u}"`);return{prefix:o,words:l}}let l=p(a);function u(e){let{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}}return{encode:s,decode:a,decodeToBytes:u,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:o,toWords:i}}t.bech32=x("bech32"),t.bech32m=x("bech32m"),t.utf8={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},t.hex=n(h(4),i("0123456789abcdef"),o(""),a(e=>{if("string"!=typeof e||e.length%2)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));let R={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},S=`Invalid encoding type. Available types: ${Object.keys(R).join(", ")}`;t.bytesToString=(e,t)=>{if("string"!=typeof e||!R.hasOwnProperty(e))throw TypeError(S);if(!(t instanceof Uint8Array))throw TypeError("bytesToString() expects Uint8Array");return R[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!R.hasOwnProperty(e))throw TypeError(S);if("string"!=typeof t)throw TypeError("stringToBytes() expects string");return R[e].decode(t)},t.bytes=t.stringToBytes},4114:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"IconsMetadata",{enumerable:!0,get:function(){return a}});let n=r(7413);r(1120);let i=r(407);function o({icon:e}){let{url:t,rel:r="icon",...i}=e;return(0,n.jsx)("link",{rel:r,href:t.toString(),...i})}function s({rel:e,icon:t}){if("object"==typeof t&&!(t instanceof URL))return!t.rel&&e&&(t.rel=e),o({icon:t});{let r=t.toString();return(0,n.jsx)("link",{rel:e,href:r})}}function a({icons:e}){if(!e)return null;let t=e.shortcut,r=e.icon,n=e.apple,a=e.other;return(0,i.MetaFilter)([t?t.map(e=>s({rel:"shortcut icon",icon:e})):null,r?r.map(e=>s({rel:"icon",icon:e})):null,n?n.map(e=>s({rel:"apple-touch-icon",icon:e})):null,a?a.map(e=>o({icon:e})):null])}},4207:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{METADATA_BOUNDARY_NAME:function(){return r},OUTLET_BOUNDARY_NAME:function(){return i},VIEWPORT_BOUNDARY_NAME:function(){return n}});let r="__next_metadata_boundary__",n="__next_viewport_boundary__",i="__next_outlet_boundary__"},4319:(e,t,r)=>{"use strict";r.d(t,{vK:()=>x});var n=r(9010),i=r(2392);let o=(e,t)=>255&e[t++]|(255&e[t++])<<8;class s{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,n.ZJ)(e),(0,i.ee)(e,32);let t=o(e,0),r=o(e,2),s=o(e,4),a=o(e,6),l=o(e,8),u=o(e,10),c=o(e,12),f=o(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|a<<9)&8191,this.r[4]=(a>>>4|l<<12)&255,this.r[5]=l>>>1&8190,this.r[6]=(l>>>14|u<<2)&8191,this.r[7]=(u>>>11|c<<5)&8065,this.r[8]=(c>>>8|f<<8)&8191,this.r[9]=f>>>5&127;for(let t=0;t<8;t++)this.pad[t]=o(e,16+2*t)}process(e,t,r=!1){let n=2048*!r,{h:i,r:s}=this,a=s[0],l=s[1],u=s[2],c=s[3],f=s[4],d=s[5],h=s[6],p=s[7],g=s[8],y=s[9],m=o(e,t+0),b=o(e,t+2),v=o(e,t+4),w=o(e,t+6),E=o(e,t+8),_=o(e,t+10),x=o(e,t+12),R=o(e,t+14),S=i[0]+(8191&m),O=i[1]+((m>>>13|b<<3)&8191),P=i[2]+((b>>>10|v<<6)&8191),A=i[3]+((v>>>7|w<<9)&8191),k=i[4]+((w>>>4|E<<12)&8191),T=i[5]+(E>>>1&8191),M=i[6]+((E>>>14|_<<2)&8191),j=i[7]+((_>>>11|x<<5)&8191),C=i[8]+((x>>>8|R<<8)&8191),N=i[9]+(R>>>5|n),I=0,U=0+S*a+5*y*O+5*g*P+5*p*A+5*h*k;I=U>>>13,U&=8191,U+=5*d*T+5*f*M+5*c*j+5*u*C+5*l*N,I+=U>>>13,U&=8191;let D=I+S*l+O*a+5*y*P+5*g*A+5*p*k;I=D>>>13,D&=8191,D+=5*h*T+5*d*M+5*f*j+5*c*C+5*u*N,I+=D>>>13,D&=8191;let L=I+S*u+O*l+P*a+5*y*A+5*g*k;I=L>>>13,L&=8191,L+=5*p*T+5*h*M+5*d*j+5*f*C+5*c*N,I+=L>>>13,L&=8191;let B=I+S*c+O*u+P*l+A*a+5*y*k;I=B>>>13,B&=8191,B+=5*g*T+5*p*M+5*h*j+5*d*C+5*f*N,I+=B>>>13,B&=8191;let F=I+S*f+O*c+P*u+A*l+k*a;I=F>>>13,F&=8191,F+=5*y*T+5*g*M+5*p*j+5*h*C+5*d*N,I+=F>>>13,F&=8191;let $=I+S*d+O*f+P*c+A*u+k*l;I=$>>>13,$&=8191,$+=T*a+5*y*M+5*g*j+5*p*C+5*h*N,I+=$>>>13,$&=8191;let H=I+S*h+O*d+P*f+A*c+k*u;I=H>>>13,H&=8191,H+=T*l+M*a+5*y*j+5*g*C+5*p*N,I+=H>>>13,H&=8191;let z=I+S*p+O*h+P*d+A*f+k*c;I=z>>>13,z&=8191,z+=T*u+M*l+j*a+5*y*C+5*g*N,I+=z>>>13,z&=8191;let q=I+S*g+O*p+P*h+A*d+k*f;I=q>>>13,q&=8191,q+=T*c+M*u+j*l+C*a+5*y*N,I+=q>>>13,q&=8191;let W=I+S*y+O*g+P*p+A*h+k*d;I=W>>>13,W&=8191,W+=T*f+M*c+j*u+C*l+N*a,I+=W>>>13,W&=8191,U=8191&(I=(I=(I<<2)+I|0)+U|0),I>>>=13,D+=I,i[0]=U,i[1]=D,i[2]=L,i[3]=B,i[4]=F,i[5]=$,i[6]=H,i[7]=z,i[8]=q,i[9]=W}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=65535&o;for(let r=1;r<8;r++)o=(e[r]+t[r]|0)+(o>>>16)|0,e[r]=65535&o}update(e){(0,i.t2)(this);let{buffer:t,blockLen:r}=this,o=(e=(0,n.ZJ)(e)).length;for(let n=0;n<o;){let i=Math.min(r-this.pos,o-n);if(i===r){for(;r<=o-n;n+=r)this.process(e,n);continue}t.set(e.subarray(n,n+i),this.pos),this.pos+=i,n+=i,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){(0,i.t2)(this),(0,i.CG)(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let o=0;for(let t=0;t<8;t++)e[o++]=r[t]>>>0,e[o++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let a=function(e){let t=(t,r)=>e(r).update((0,n.ZJ)(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new s(e)),l=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),u=l("expand 16-byte k"),c=l("expand 32-byte k"),f=(0,n.DH)(u),d=(0,n.DH)(c);function h(e,t){return e<<t|e>>>32-t}function p(e){return e.byteOffset%4==0}d.slice();let g=64,y=16,m=0x100000000-1,b=new Uint32Array;function v(e,t,r,i,o,s,a,l){let u=o.length,c=new Uint8Array(g),f=(0,n.DH)(c),d=p(o)&&p(s),h=d?(0,n.DH)(o):b,v=d?(0,n.DH)(s):b;for(let n=0;n<u;a++){if(e(t,r,i,f,a,l),a>=m)throw Error("arx: counter overflow");let p=Math.min(g,u-n);if(d&&p===g){let e=n/4;if(n%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<y;t++)v[r=e+t]=h[r]^f[t];n+=g;continue}for(let e=0,t;e<p;e++)s[t=n+e]=o[t]^c[e];n+=p}}function w(e,t){let{allowShortKeys:r,extendNonceFn:o,counterLength:s,counterRight:a,rounds:l}=(0,n.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return(0,i.ai)(s),(0,i.ai)(l),(0,i.lc)(a),(0,i.lc)(r),(t,u,c,h,g=0)=>{(0,i.ee)(t),(0,i.ee)(u),(0,i.ee)(c);let y=c.length;if(h||(h=new Uint8Array(y)),(0,i.ee)(h),(0,i.ai)(g),g<0||g>=m)throw Error("arx: counter overflow");if(h.length<y)throw Error(`arx: output (${h.length}) is shorter than data (${y})`);let b=[],w=t.length,E,_;if(32===w)E=t.slice(),b.push(E),_=d;else if(16===w&&r)(E=new Uint8Array(32)).set(t),E.set(t,16),_=f,b.push(E);else throw Error(`arx: invalid 32-byte key, got length=${w}`);p(u)||(u=u.slice(),b.push(u));let x=(0,n.DH)(E);if(o){if(24!==u.length)throw Error("arx: extended nonce must be 24 bytes");o(_,x,(0,n.DH)(u.subarray(0,16)),x),u=u.subarray(16)}let R=16-s;if(R!==u.length)throw Error(`arx: nonce must be ${R} or 16 bytes`);if(12!==R){let e=new Uint8Array(12);e.set(u,a?0:12-u.length),u=e,b.push(u)}for(v(e,_,x,(0,n.DH)(u),c,h,g,l);b.length>0;)b.pop().fill(0);return h}}function E(e,t,r,n,i,o=20){let s=e[0],a=e[1],l=e[2],u=e[3],c=t[0],f=t[1],d=t[2],p=t[3],g=t[4],y=t[5],m=t[6],b=t[7],v=i,w=r[0],_=r[1],x=r[2],R=s,S=a,O=l,P=u,A=c,k=f,T=d,M=p,j=g,C=y,N=m,I=b,U=v,D=w,L=_,B=x;for(let e=0;e<o;e+=2)j=j+(U=h(U^(R=R+A|0),16))|0,R=R+(A=h(A^j,12))|0,j=j+(U=h(U^R,8))|0,A=h(A^j,7),C=C+(D=h(D^(S=S+k|0),16))|0,S=S+(k=h(k^C,12))|0,C=C+(D=h(D^S,8))|0,k=h(k^C,7),N=N+(L=h(L^(O=O+T|0),16))|0,O=O+(T=h(T^N,12))|0,N=N+(L=h(L^O,8))|0,T=h(T^N,7),I=I+(B=h(B^(P=P+M|0),16))|0,P=P+(M=h(M^I,12))|0,I=I+(B=h(B^P,8))|0,M=h(M^I,7),N=N+(B=h(B^(R=R+k|0),16))|0,R=R+(k=h(k^N,12))|0,N=N+(B=h(B^R,8))|0,k=h(k^N,7),I=I+(U=h(U^(S=S+T|0),16))|0,S=S+(T=h(T^I,12))|0,I=I+(U=h(U^S,8))|0,T=h(T^I,7),j=j+(D=h(D^(O=O+M|0),16))|0,O=O+(M=h(M^j,12))|0,j=j+(D=h(D^O,8))|0,M=h(M^j,7),C=C+(L=h(L^(P=P+A|0),16))|0,P=P+(A=h(A^C,12))|0,C=C+(L=h(L^P,8))|0,A=h(A^C,7);let F=0;n[F++]=s+R|0,n[F++]=a+S|0,n[F++]=l+O|0,n[F++]=u+P|0,n[F++]=c+A|0,n[F++]=f+k|0,n[F++]=d+T|0,n[F++]=p+M|0,n[F++]=g+j|0,n[F++]=y+C|0,n[F++]=m+N|0,n[F++]=b+I|0,n[F++]=v+U|0,n[F++]=w+D|0,n[F++]=_+L|0,n[F++]=x+B|0}function _(e,t,r,n){let i=e[0],o=e[1],s=e[2],a=e[3],l=t[0],u=t[1],c=t[2],f=t[3],d=t[4],p=t[5],g=t[6],y=t[7],m=r[0],b=r[1],v=r[2],w=r[3];for(let e=0;e<20;e+=2)d=d+(m=h(m^(i=i+l|0),16))|0,i=i+(l=h(l^d,12))|0,d=d+(m=h(m^i,8))|0,l=h(l^d,7),p=p+(b=h(b^(o=o+u|0),16))|0,o=o+(u=h(u^p,12))|0,p=p+(b=h(b^o,8))|0,u=h(u^p,7),g=g+(v=h(v^(s=s+c|0),16))|0,s=s+(c=h(c^g,12))|0,g=g+(v=h(v^s,8))|0,c=h(c^g,7),y=y+(w=h(w^(a=a+f|0),16))|0,a=a+(f=h(f^y,12))|0,y=y+(w=h(w^a,8))|0,f=h(f^y,7),g=g+(w=h(w^(i=i+u|0),16))|0,i=i+(u=h(u^g,12))|0,g=g+(w=h(w^i,8))|0,u=h(u^g,7),y=y+(m=h(m^(o=o+c|0),16))|0,o=o+(c=h(c^y,12))|0,y=y+(m=h(m^o,8))|0,c=h(c^y,7),d=d+(b=h(b^(s=s+f|0),16))|0,s=s+(f=h(f^d,12))|0,d=d+(b=h(b^s,8))|0,f=h(f^d,7),p=p+(v=h(v^(a=a+l|0),16))|0,a=a+(l=h(l^p,12))|0,p=p+(v=h(v^a,8))|0,l=h(l^p,7);let E=0;n[E++]=i,n[E++]=o,n[E++]=s,n[E++]=a,n[E++]=m,n[E++]=b,n[E++]=v,n[E++]=w}let x=w(E,{counterRight:!1,counterLength:4,allowShortKeys:!1}),R=w(E,{counterRight:!1,counterLength:8,extendNonceFn:_,allowShortKeys:!1}),S=new Uint8Array(16),O=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(S.subarray(r))},P=new Uint8Array(32);function A(e,t,r,i,o){let s=e(t,r,P),l=a.create(s);o&&O(l,o),O(l,i);let u=new Uint8Array(16),c=(0,n.O8)(u);(0,n.zp)(c,0,BigInt(o?o.length:0),!0),(0,n.zp)(c,8,BigInt(i.length),!0),l.update(u);let f=l.digest();return s.fill(0),f}let k=e=>(t,r,o)=>{let s=16;return(0,i.ee)(t,32),(0,i.ee)(r),{encrypt:(n,a)=>{let l=n.length,u=l+s;a?(0,i.ee)(a,u):a=new Uint8Array(u),e(t,r,n,a,1);let c=A(e,t,r,a.subarray(0,-s),o);return a.set(c,l),a},decrypt:(a,l)=>{let u=a.length,c=u-s;if(u<s)throw Error(`encrypted data must be at least ${s} bytes`);l?(0,i.ee)(l,c):l=new Uint8Array(c);let f=a.subarray(0,-s),d=a.subarray(-s),h=A(e,t,r,f,o);if(!(0,n.ex)(d,h))throw Error("invalid tag");return e(t,r,f,l,1),l}}};k(x),k(R)},4397:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"findHeadInCache",{enumerable:!0,get:function(){return i}});let n=r(3123);function i(e,t){return o(e,t,"")}function o(e,t,r){if(0===Object.keys(t).length)return[e,r];if(t.children){let[i,s]=t.children,a=e.parallelRoutes.get("children");if(a){let e=(0,n.createRouterCacheKey)(i),t=a.get(e);if(t){let n=o(t,s,r+"/"+e);if(n)return n}}}for(let i in t){if("children"===i)continue;let[s,a]=t[i],l=e.parallelRoutes.get(i);if(!l)continue;let u=(0,n.createRouterCacheKey)(s),c=l.get(u);if(!c)continue;let f=o(c,a,r+"/"+u);if(f)return f}return null}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"invalidateCacheByRouterState",{enumerable:!0,get:function(){return i}});let n=r(3123);function i(e,t,r){for(let i in r[1]){let o=r[1][i][0],s=(0,n.createRouterCacheKey)(o),a=t.parallelRoutes.get(i);if(a){let t=new Map(a);t.delete(s),e.parallelRoutes.set(i,t)}}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4545:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{useReducer:function(){return a},useUnwrapState:function(){return s}});let n=r(740)._(r(3210)),i=r(1992),o=r(1520);function s(e){return(0,i.isThenable)(e)?(0,n.use)(e):e}function a(e){let[t,r]=n.default.useState(e.state),i=(0,o.useSyncDevRenderIndicator)();return[t,(0,n.useCallback)(t=>{i(()=>{e.dispatch(t,r)})},[e,i])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4604:(e,t)=>{"use strict";function r(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||r&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},4627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{describeHasCheckingStringProperty:function(){return i},describeStringPropertyAccess:function(){return n},wellKnownProperties:function(){return o}});let r=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function n(e,t){return r.test(t)?"`"+e+"."+t+"`":"`"+e+"["+JSON.stringify(t)+"]`"}function i(e,t){let r=JSON.stringify(t);return"`Reflect.has("+e+", "+r+")`, `"+r+" in "+e+"`, or similar"}let o=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},4642:(e,t)=>{"use strict";function r(e){let t=parseInt(e.slice(0,2),16),r=t>>7&1,n=t>>1&63,i=1&t,o=Array(6);for(let e=0;e<6;e++){let t=n>>5-e&1;o[e]=1===t}return{type:1===r?"use-cache":"server-action",usedArgs:o,hasRestArgs:1===i}}function n(e,t){let r=Array(e.length);for(let n=0;n<e.length;n++)(n<6&&t.usedArgs[n]||n>=6&&t.hasRestArgs)&&(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{extractInfoFromServerReferenceId:function(){return r},omitUnusedArgs:function(){return n}})},4674:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return o}});let n=r(4949),i=r(1550),o=e=>{if(!e.startsWith("/"))return e;let{pathname:t,query:r,hash:o}=(0,i.parsePath)(e);return""+(0,n.removeTrailingSlash)(t)+r+o};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Postpone:function(){return S},abortAndThrowOnSynchronousRequestDataAccess:function(){return x},abortOnSynchronousPlatformIOAccess:function(){return E},accessedDynamicData:function(){return C},annotateDynamicAccess:function(){return B},consumeDynamicAccess:function(){return N},createDynamicTrackingState:function(){return h},createDynamicValidationState:function(){return p},createHangingInputAbortSignal:function(){return L},createPostponedAbortSignal:function(){return D},formatDynamicAPIAccesses:function(){return I},getFirstDynamicReason:function(){return g},isDynamicPostpone:function(){return A},isPrerenderInterruptedError:function(){return j},markCurrentScopeAsDynamic:function(){return y},postponeWithTracking:function(){return O},throwIfDisallowedDynamic:function(){return K},throwToInterruptStaticGeneration:function(){return b},trackAllowedDynamicAccess:function(){return W},trackDynamicDataInDynamicRender:function(){return v},trackFallbackParamAccessed:function(){return m},trackSynchronousPlatformIOAccessInDev:function(){return _},trackSynchronousRequestDataAccessInDev:function(){return R},useDynamicRouteParams:function(){return F}});let n=f(r(3210)),i=r(2113),o=r(7797),s=r(3033),a=r(9294),l=r(8238),u=r(4207),c=r(2825);function f(e){return e&&e.__esModule?e:{default:e}}let d="function"==typeof n.default.unstable_postpone;function h(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:void 0,syncDynamicErrorWithStack:null}}function p(){return{hasSuspendedDynamic:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasSyncDynamicErrors:!1,dynamicErrors:[]}}function g(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function y(e,t,r){if((!t||"cache"!==t.type&&"unstable-cache"!==t.type)&&!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t){if("prerender-ppr"===t.type)O(e.route,r,t.dynamicTracking);else if("prerender-legacy"===t.type){t.revalidate=0;let n=Object.defineProperty(new i.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}}function m(e,t){let r=s.workUnitAsyncStorage.getStore();r&&"prerender-ppr"===r.type&&O(e.route,t,r.dynamicTracking)}function b(e,t,r){let n=Object.defineProperty(new i.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function v(e,t){t&&"cache"!==t.type&&"unstable-cache"!==t.type&&("prerender"===t.type||"prerender-legacy"===t.type)&&(t.revalidate=0)}function w(e,t,r){let n=M(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let i=r.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function E(e,t,r,n){let i=n.dynamicTracking;return i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicExpression=t,i.syncDynamicErrorWithStack=r),w(e,t,n)}function _(e){e.prerenderPhase=!1}function x(e,t,r,n){let i=n.dynamicTracking;throw i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicExpression=t,i.syncDynamicErrorWithStack=r,!0===n.validating&&(i.syncDynamicLogged=!0)),w(e,t,n),M(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}let R=_;function S({reason:e,route:t}){let r=s.workUnitAsyncStorage.getStore();O(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function O(e,t,r){U(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),n.default.unstable_postpone(P(e,t))}function P(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function A(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&k(e.message)}function k(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===k(P("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let T="NEXT_PRERENDER_INTERRUPTED";function M(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=T,t}function j(e){return"object"==typeof e&&null!==e&&e.digest===T&&"name"in e&&"message"in e&&e instanceof Error}function C(e){return e.length>0}function N(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function I(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function U(){if(!d)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}function D(e){U();let t=new AbortController;try{n.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}function L(e){let t=new AbortController;return e.cacheSignal?e.cacheSignal.inputReady().then(()=>{t.abort()}):(0,c.scheduleOnNextTick)(()=>t.abort()),t.signal}function B(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function F(e){let t=a.workAsyncStorage.getStore();if(t&&t.isStaticGeneration&&t.fallbackRouteParams&&t.fallbackRouteParams.size>0){let r=s.workUnitAsyncStorage.getStore();r&&("prerender"===r.type?n.default.use((0,l.makeHangingPromise)(r.renderSignal,e)):"prerender-ppr"===r.type?O(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&b(e,t,r))}}let $=/\n\s+at Suspense \(<anonymous>\)/,H=RegExp(`\\n\\s+at ${u.METADATA_BOUNDARY_NAME}[\\n\\s]`),z=RegExp(`\\n\\s+at ${u.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),q=RegExp(`\\n\\s+at ${u.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function W(e,t,r,n,i){if(!q.test(t)){if(H.test(t)){r.hasDynamicMetadata=!0;return}if(z.test(t)){r.hasDynamicViewport=!0;return}if($.test(t)){r.hasSuspendedDynamic=!0;return}else if(n.syncDynamicErrorWithStack||i.syncDynamicErrorWithStack){r.hasSyncDynamicErrors=!0;return}else{let n=V(`Route "${e}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`,t);r.dynamicErrors.push(n);return}}}function V(e,t){let r=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r.stack="Error: "+e+t,r}function K(e,t,r,n){let i,s,a;if(r.syncDynamicErrorWithStack?(i=r.syncDynamicErrorWithStack,s=r.syncDynamicExpression,a=!0===r.syncDynamicLogged):n.syncDynamicErrorWithStack?(i=n.syncDynamicErrorWithStack,s=n.syncDynamicExpression,a=!0===n.syncDynamicLogged):(i=null,s=void 0,a=!1),t.hasSyncDynamicErrors&&i)throw a||console.error(i),new o.StaticGenBailoutError;let l=t.dynamicErrors;if(l.length){for(let e=0;e<l.length;e++)console.error(l[e]);throw new o.StaticGenBailoutError}if(!t.hasSuspendedDynamic){if(t.hasDynamicMetadata){if(i)throw console.error(i),Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E608",enumerable:!1,configurable:!0});throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateMetadata\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E534",enumerable:!1,configurable:!0})}if(t.hasDynamicViewport){if(i)throw console.error(i),Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E573",enumerable:!1,configurable:!0});throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateViewport\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E590",enumerable:!1,configurable:!0})}}}},4768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return u}});let n=o(r(3210));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}let s={current:null},a="function"==typeof n.cache?n.cache:e=>e,l=console.warn;function u(e){return function(...t){l(e(...t))}}a(e=>{try{l(s.current)}finally{s.current=null}})},4822:()=>{},4838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AppleWebAppMeta:function(){return p},BasicMeta:function(){return u},FacebookMeta:function(){return f},FormatDetectionMeta:function(){return h},ItunesMeta:function(){return c},VerificationMeta:function(){return g},ViewportMeta:function(){return l}});let n=r(7413),i=r(407),o=r(4871),s=r(7341);function a(e){let t=null;if(e&&"object"==typeof e)for(let r in t="",o.ViewportMetaKeys){let n=r;if(n in e){let r=e[n];"boolean"==typeof r?r=r?"yes":"no":r||"initialScale"!==n||(r=void 0),r&&(t&&(t+=", "),t+=`${o.ViewportMetaKeys[n]}=${r}`)}}return t}function l({viewport:e}){return(0,i.MetaFilter)([(0,n.jsx)("meta",{charSet:"utf-8"}),(0,i.Meta)({name:"viewport",content:a(e)}),...e.themeColor?e.themeColor.map(e=>(0,i.Meta)({name:"theme-color",content:e.color,media:e.media})):[],(0,i.Meta)({name:"color-scheme",content:e.colorScheme})])}function u({metadata:e}){var t,r,o;let a=e.manifest?(0,s.getOrigin)(e.manifest):void 0;return(0,i.MetaFilter)([null!==e.title&&e.title.absolute?(0,n.jsx)("title",{children:e.title.absolute}):null,(0,i.Meta)({name:"description",content:e.description}),(0,i.Meta)({name:"application-name",content:e.applicationName}),...e.authors?e.authors.map(e=>[e.url?(0,n.jsx)("link",{rel:"author",href:e.url.toString()}):null,(0,i.Meta)({name:"author",content:e.name})]):[],e.manifest?(0,n.jsx)("link",{rel:"manifest",href:e.manifest.toString(),crossOrigin:a||"preview"!==process.env.VERCEL_ENV?void 0:"use-credentials"}):null,(0,i.Meta)({name:"generator",content:e.generator}),(0,i.Meta)({name:"keywords",content:null==(t=e.keywords)?void 0:t.join(",")}),(0,i.Meta)({name:"referrer",content:e.referrer}),(0,i.Meta)({name:"creator",content:e.creator}),(0,i.Meta)({name:"publisher",content:e.publisher}),(0,i.Meta)({name:"robots",content:null==(r=e.robots)?void 0:r.basic}),(0,i.Meta)({name:"googlebot",content:null==(o=e.robots)?void 0:o.googleBot}),(0,i.Meta)({name:"abstract",content:e.abstract}),...e.archives?e.archives.map(e=>(0,n.jsx)("link",{rel:"archives",href:e})):[],...e.assets?e.assets.map(e=>(0,n.jsx)("link",{rel:"assets",href:e})):[],...e.bookmarks?e.bookmarks.map(e=>(0,n.jsx)("link",{rel:"bookmarks",href:e})):[],...e.pagination?[e.pagination.previous?(0,n.jsx)("link",{rel:"prev",href:e.pagination.previous}):null,e.pagination.next?(0,n.jsx)("link",{rel:"next",href:e.pagination.next}):null]:[],(0,i.Meta)({name:"category",content:e.category}),(0,i.Meta)({name:"classification",content:e.classification}),...e.other?Object.entries(e.other).map(([e,t])=>Array.isArray(t)?t.map(t=>(0,i.Meta)({name:e,content:t})):(0,i.Meta)({name:e,content:t})):[]])}function c({itunes:e}){if(!e)return null;let{appId:t,appArgument:r}=e,i=`app-id=${t}`;return r&&(i+=`, app-argument=${r}`),(0,n.jsx)("meta",{name:"apple-itunes-app",content:i})}function f({facebook:e}){if(!e)return null;let{appId:t,admins:r}=e;return(0,i.MetaFilter)([t?(0,n.jsx)("meta",{property:"fb:app_id",content:t}):null,...r?r.map(e=>(0,n.jsx)("meta",{property:"fb:admins",content:e})):[]])}let d=["telephone","date","address","email","url"];function h({formatDetection:e}){if(!e)return null;let t="";for(let r of d)r in e&&(t&&(t+=", "),t+=`${r}=no`);return(0,n.jsx)("meta",{name:"format-detection",content:t})}function p({appleWebApp:e}){if(!e)return null;let{capable:t,title:r,startupImage:o,statusBarStyle:s}=e;return(0,i.MetaFilter)([t?(0,i.Meta)({name:"mobile-web-app-capable",content:"yes"}):null,(0,i.Meta)({name:"apple-mobile-web-app-title",content:r}),o?o.map(e=>(0,n.jsx)("link",{href:e.url,media:e.media,rel:"apple-touch-startup-image"})):null,s?(0,i.Meta)({name:"apple-mobile-web-app-status-bar-style",content:s}):null])}function g({verification:e}){return e?(0,i.MetaFilter)([(0,i.MultiMeta)({namePrefix:"google-site-verification",contents:e.google}),(0,i.MultiMeta)({namePrefix:"y_key",contents:e.yahoo}),(0,i.MultiMeta)({namePrefix:"yandex-verification",contents:e.yandex}),(0,i.MultiMeta)({namePrefix:"me",contents:e.me}),...e.other?Object.entries(e.other).map(([e,t])=>(0,i.MultiMeta)({namePrefix:e,contents:t})):[]]):null}},4871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{IconKeys:function(){return n},ViewportMetaKeys:function(){return r}});let r={width:"width",height:"height",initialScale:"initial-scale",minimumScale:"minimum-scale",maximumScale:"maximum-scale",viewportFit:"viewport-fit",userScalable:"user-scalable",interactiveWidget:"interactive-widget"},n=["icon","shortcut","apple","other"]},4949:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},4953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return f}}),r(148);let n=r(1480),i=r(2756);function o(e){return void 0!==e.default}function s(e){return void 0!==e.src}function a(e){return!!e&&"object"==typeof e&&(o(e)||s(e))}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function u(e,t,r){let{deviceSizes:n,allSizes:i}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(r);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:i.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:i,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>i.find(t=>t>=e)||i[i.length-1]))],kind:"x"}}function c(e){let{config:t,src:r,unoptimized:n,width:i,quality:o,sizes:s,loader:a}=e;if(n)return{src:r,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=u(t,i,s),f=l.length-1;return{sizes:s||"w"!==c?s:"100vw",srcSet:l.map((e,n)=>a({config:t,src:r,quality:o,width:e})+" "+("w"===c?e:n+1)+c).join(", "),src:a({config:t,src:r,quality:o,width:l[f]})}}function f(e,t){let r,s,u,{src:f,sizes:d,unoptimized:h=!1,priority:p=!1,loading:g,className:y,quality:m,width:b,height:v,fill:w=!1,style:E,overrideSrc:_,onLoad:x,onLoadingComplete:R,placeholder:S="empty",blurDataURL:O,fetchPriority:P,decoding:A="async",layout:k,objectFit:T,objectPosition:M,lazyBoundary:j,lazyRoot:C,...N}=e,{imgConf:I,showAltText:U,blurComplete:D,defaultLoader:L}=t,B=I||i.imageConfigDefault;if("allSizes"in B)r=B;else{var F;let e=[...B.deviceSizes,...B.imageSizes].sort((e,t)=>e-t),t=B.deviceSizes.sort((e,t)=>e-t),n=null==(F=B.qualities)?void 0:F.sort((e,t)=>e-t);r={...B,allSizes:e,deviceSizes:t,qualities:n}}if(void 0===L)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let $=N.loader||L;delete N.loader,delete N.srcSet;let H="__next_img_default"in $;if(H){if("custom"===r.loader)throw Object.defineProperty(Error('Image with src "'+f+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=$;$=t=>{let{config:r,...n}=t;return e(n)}}if(k){"fill"===k&&(w=!0);let e={responsive:"100vw",fill:"100vw"},t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[k];t&&(E={...E,...t});let r=e[k];r&&!d&&(d=r)}let z="",q=l(b),W=l(v);if(a(f)){let e=o(f)?f.default:f;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(s=e.blurWidth,u=e.blurHeight,O=O||e.blurDataURL,z=e.src,!w){if(q||W){if(q&&!W){let t=q/e.width;W=Math.round(e.height*t)}else if(!q&&W){let t=W/e.height;q=Math.round(e.width*t)}}else q=e.width,W=e.height}}let V=!p&&("lazy"===g||void 0===g);(!(f="string"==typeof f?f:z)||f.startsWith("data:")||f.startsWith("blob:"))&&(h=!0,V=!1),r.unoptimized&&(h=!0),H&&!r.dangerouslyAllowSVG&&f.split("?",1)[0].endsWith(".svg")&&(h=!0);let K=l(m),G=Object.assign(w?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:T,objectPosition:M}:{},U?{}:{color:"transparent"},E),Y=D||"empty"===S?null:"blur"===S?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:q,heightInt:W,blurWidth:s,blurHeight:u,blurDataURL:O||"",objectFit:G.objectFit})+'")':'url("'+S+'")',J=Y?{backgroundSize:G.objectFit||"cover",backgroundPosition:G.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Y}:{},Z=c({config:r,src:f,unoptimized:h,width:q,quality:K,sizes:d,loader:$});return{props:{...N,loading:V?"lazy":g,fetchPriority:P,width:q,height:W,decoding:A,className:y,style:{...G,...J},sizes:Z.sizes,srcSet:Z.srcSet,src:_||Z.src},meta:{unoptimized:h,priority:p,placeholder:S,fill:w}}}},4959:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.AmpContext},4985:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.r(t),r.d(t,{_:()=>n})},5076:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{prefetchQueue:function(){return o},prefetchReducer:function(){return s}});let n=r(5144),i=r(5334),o=new n.PromiseQueue(5),s=a;function a(e,t){(0,i.prunePrefetchCache)(e.prefetchCache);let{url:r}=t;return(0,i.getOrCreatePrefetchCacheEntry)({url:r,nextUrl:e.nextUrl,prefetchCache:e.prefetchCache,kind:t.kind,tree:e.tree,allowAliasing:!0}),e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5102:(e,t)=>{"use strict";function r(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r)&0xffffffff;return t>>>0}function n(e){return r(e).toString(36).slice(0,5)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{djb2Hash:function(){return r},hexHash:function(){return n}})},5144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PromiseQueue",{enumerable:!0,get:function(){return u}});let n=r(6312),i=r(9656);var o=i._("_maxConcurrency"),s=i._("_runningCount"),a=i._("_queue"),l=i._("_processNext");class u{enqueue(e){let t,r;let i=new Promise((e,n)=>{t=e,r=n}),o={promiseFn:i,task:async()=>{try{n._(this,s)[s]++;let r=await e();t(r)}catch(e){r(e)}finally{n._(this,s)[s]--,n._(this,l)[l]()}}};return n._(this,a)[a].push(o),n._(this,l)[l](),i}bump(e){let t=n._(this,a)[a].findIndex(t=>t.promiseFn===e);if(t>-1){let e=n._(this,a)[a].splice(t,1)[0];n._(this,a)[a].unshift(e),n._(this,l)[l](!0)}}constructor(e=5){Object.defineProperty(this,l,{value:c}),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),n._(this,o)[o]=e,n._(this,s)[s]=0,n._(this,a)[a]=[]}}function c(e){if(void 0===e&&(e=!1),(n._(this,s)[s]<n._(this,o)[o]||e)&&n._(this,a)[a].length>0){var t;null==(t=n._(this,a)[a].shift())||t.task()}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return i}});let n=""+r(6358).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function i(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{handleExternalUrl:function(){return v},navigateReducer:function(){return _}});let n=r(9008),i=r(7391),o=r(8468),s=r(6770),a=r(5951),l=r(2030),u=r(9154),c=r(9435),f=r(6928),d=r(5076),h=r(9752),p=r(3913),g=r(5956),y=r(5334),m=r(7464),b=r(9707);function v(e,t,r,n){return t.mpaNavigation=!0,t.canonicalUrl=r,t.pendingPush=n,t.scrollableSegments=void 0,(0,c.handleMutable)(e,t)}function w(e){let t=[],[r,n]=e;if(0===Object.keys(n).length)return[[r]];for(let[e,i]of Object.entries(n))for(let n of w(i))""===r?t.push([e,...n]):t.push([r,e,...n]);return t}function E(e,t,r,n){let i=!1;for(let o of(e.rsc=t.rsc,e.prefetchRsc=t.prefetchRsc,e.loading=t.loading,e.parallelRoutes=new Map(t.parallelRoutes),w(n).map(e=>[...r,...e])))(0,m.clearCacheNodeDataForSegmentPath)(e,t,o),i=!0;return i}function _(e,t){let{url:r,isExternalUrl:m,navigateType:x,shouldScroll:R,allowAliasing:S}=t,O={},{hash:P}=r,A=(0,i.createHrefFromUrl)(r),k="push"===x;if((0,y.prunePrefetchCache)(e.prefetchCache),O.preserveCustomHistoryState=!1,O.pendingPush=k,m)return v(e,O,r.toString(),k);if(document.getElementById("__next-page-redirect"))return v(e,O,A,k);let T=(0,y.getOrCreatePrefetchCacheEntry)({url:r,nextUrl:e.nextUrl,tree:e.tree,prefetchCache:e.prefetchCache,allowAliasing:S}),{treeAtTimeOfPrefetch:M,data:j}=T;return d.prefetchQueue.bump(j),j.then(d=>{let{flightData:y,canonicalUrl:m,postponed:x}=d,S=!1;if(T.lastUsedTime||(T.lastUsedTime=Date.now(),S=!0),T.aliased){let n=(0,b.handleAliasedPrefetchEntry)(e,y,r,O);return!1===n?_(e,{...t,allowAliasing:!1}):n}if("string"==typeof y)return v(e,O,y,k);let j=m?(0,i.createHrefFromUrl)(m):A;if(P&&e.canonicalUrl.split("#",1)[0]===j.split("#",1)[0])return O.onlyHashChange=!0,O.canonicalUrl=j,O.shouldScroll=R,O.hashFragment=P,O.scrollableSegments=[],(0,c.handleMutable)(e,O);let C=e.tree,N=e.cache,I=[];for(let t of y){let{pathToSegment:i,seedData:c,head:d,isHeadPartial:y,isRootRender:m}=t,b=t.tree,_=["",...i],R=(0,s.applyRouterStatePatchToTree)(_,C,b,A);if(null===R&&(R=(0,s.applyRouterStatePatchToTree)(_,M,b,A)),null!==R){if(c&&m&&x){let t=(0,g.startPPRNavigation)(N,C,b,c,d,y,!1,I);if(null!==t){if(null===t.route)return v(e,O,A,k);R=t.route;let i=t.node;null!==i&&(O.cache=i);let o=t.dynamicRequestTree;if(null!==o){let i=(0,n.fetchServerResponse)(r,{flightRouterState:o,nextUrl:e.nextUrl});(0,g.listenForDynamicRequest)(t,i)}}else R=b}else{if((0,l.isNavigatingToNewRootLayout)(C,R))return v(e,O,A,k);let r=(0,h.createEmptyCacheNode)(),n=!1;for(let e of(T.status!==u.PrefetchCacheEntryStatus.stale||S?n=(0,f.applyFlightData)(N,r,t,T):(n=E(r,N,i,b),T.lastUsedTime=Date.now()),(0,a.shouldHardNavigate)(_,C)?(r.rsc=N.rsc,r.prefetchRsc=N.prefetchRsc,(0,o.invalidateCacheBelowFlightSegmentPath)(r,N,i),O.cache=r):n&&(O.cache=r,N=r),w(b))){let t=[...i,...e];t[t.length-1]!==p.DEFAULT_SEGMENT_KEY&&I.push(t)}}C=R}}return O.patchedTree=C,O.canonicalUrl=j,O.scrollableSegments=I,O.hashFragment=P,O.shouldScroll=R,(0,c.handleMutable)(e,O)},()=>e)}r(593),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(7413),i=r(1765);function o(){return(0,n.jsx)(i.HTTPAccessErrorFallback,{status:401,message:"You're not authorized to access this page."})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5317:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bgBlack:function(){return O},bgBlue:function(){return T},bgCyan:function(){return j},bgGreen:function(){return A},bgMagenta:function(){return M},bgRed:function(){return P},bgWhite:function(){return C},bgYellow:function(){return k},black:function(){return y},blue:function(){return w},bold:function(){return u},cyan:function(){return x},dim:function(){return c},gray:function(){return S},green:function(){return b},hidden:function(){return p},inverse:function(){return h},italic:function(){return f},magenta:function(){return E},purple:function(){return _},red:function(){return m},reset:function(){return l},strikethrough:function(){return g},underline:function(){return d},white:function(){return R},yellow:function(){return v}});let{env:n,stdout:i}=(null==(r=globalThis)?void 0:r.process)??{},o=n&&!n.NO_COLOR&&(n.FORCE_COLOR||(null==i?void 0:i.isTTY)&&!n.CI&&"dumb"!==n.TERM),s=(e,t,r,n)=>{let i=e.substring(0,n)+r,o=e.substring(n+t.length),a=o.indexOf(t);return~a?i+s(o,t,r,a):i+o},a=(e,t,r=e)=>o?n=>{let i=""+n,o=i.indexOf(t,e.length);return~o?e+s(i,t,r,o)+t:e+i+t}:String,l=o?e=>`\x1b[0m${e}\x1b[0m`:String,u=a("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m"),c=a("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),f=a("\x1b[3m","\x1b[23m"),d=a("\x1b[4m","\x1b[24m"),h=a("\x1b[7m","\x1b[27m"),p=a("\x1b[8m","\x1b[28m"),g=a("\x1b[9m","\x1b[29m"),y=a("\x1b[30m","\x1b[39m"),m=a("\x1b[31m","\x1b[39m"),b=a("\x1b[32m","\x1b[39m"),v=a("\x1b[33m","\x1b[39m"),w=a("\x1b[34m","\x1b[39m"),E=a("\x1b[35m","\x1b[39m"),_=a("\x1b[38;2;173;127;168m","\x1b[39m"),x=a("\x1b[36m","\x1b[39m"),R=a("\x1b[37m","\x1b[39m"),S=a("\x1b[90m","\x1b[39m"),O=a("\x1b[40m","\x1b[49m"),P=a("\x1b[41m","\x1b[49m"),A=a("\x1b[42m","\x1b[49m"),k=a("\x1b[43m","\x1b[49m"),T=a("\x1b[44m","\x1b[49m"),M=a("\x1b[45m","\x1b[49m"),j=a("\x1b[46m","\x1b[49m"),C=a("\x1b[47m","\x1b[49m")},5334:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{STATIC_STALETIME_MS:function(){return y},createSeededPrefetchCacheEntry:function(){return d},getOrCreatePrefetchCacheEntry:function(){return c},prunePrefetchCache:function(){return p}});let n=r(9008),i=r(9154),o=r(5076),s="%";function a(e,t,r){let n=e.pathname;return(t&&(n+=e.search),r)?""+r+s+n:n}function l(e,t,r){return a(e,t===i.PrefetchKind.FULL,r)}function u(e,t,r,n,o){for(let l of(void 0===t&&(t=i.PrefetchKind.TEMPORARY),[r,null])){let r=a(e,!0,l),u=a(e,!1,l),c=e.search?r:u,f=n.get(c);if(f&&o){if(f.url.pathname===e.pathname&&f.url.search!==e.search)return{...f,aliased:!0};return f}let d=n.get(u);if(o&&e.search&&t!==i.PrefetchKind.FULL&&d&&!d.key.includes(s))return{...d,aliased:!0}}if(t!==i.PrefetchKind.FULL&&o){for(let t of n.values())if(t.url.pathname===e.pathname&&!t.key.includes(s))return{...t,aliased:!0}}}function c(e){let{url:t,nextUrl:r,tree:n,prefetchCache:o,kind:s,allowAliasing:a=!0}=e,l=u(t,s,r,o,a);return l?(l.status=m(l),l.kind!==i.PrefetchKind.FULL&&s===i.PrefetchKind.FULL&&l.data.then(e=>{if(!(Array.isArray(e.flightData)&&e.flightData.some(e=>e.isRootRender&&null!==e.seedData)))return h({tree:n,url:t,nextUrl:r,prefetchCache:o,kind:null!=s?s:i.PrefetchKind.TEMPORARY})}),s&&l.kind===i.PrefetchKind.TEMPORARY&&(l.kind=s),l):h({tree:n,url:t,nextUrl:r,prefetchCache:o,kind:s||i.PrefetchKind.TEMPORARY})}function f(e){let{url:t,nextUrl:r,prefetchCache:n,existingCacheKey:i}=e,o=n.get(i);if(!o)return;let s=l(t,o.kind,r);return n.set(s,{...o,key:s}),n.delete(i),s}function d(e){let{nextUrl:t,tree:r,prefetchCache:n,url:o,data:s,kind:a}=e,u=s.couldBeIntercepted?l(o,a,t):l(o,a),c={treeAtTimeOfPrefetch:r,data:Promise.resolve(s),kind:a,prefetchTime:Date.now(),lastUsedTime:Date.now(),staleTime:-1,key:u,status:i.PrefetchCacheEntryStatus.fresh,url:o};return n.set(u,c),c}function h(e){let{url:t,kind:r,tree:s,nextUrl:a,prefetchCache:u}=e,c=l(t,r),d=o.prefetchQueue.enqueue(()=>(0,n.fetchServerResponse)(t,{flightRouterState:s,nextUrl:a,prefetchKind:r}).then(e=>{let r;if(e.couldBeIntercepted&&(r=f({url:t,existingCacheKey:c,nextUrl:a,prefetchCache:u})),e.prerendered){let t=u.get(null!=r?r:c);t&&(t.kind=i.PrefetchKind.FULL,-1!==e.staleTime&&(t.staleTime=e.staleTime))}return e})),h={treeAtTimeOfPrefetch:s,data:d,kind:r,prefetchTime:Date.now(),lastUsedTime:null,staleTime:-1,key:c,status:i.PrefetchCacheEntryStatus.fresh,url:t};return u.set(c,h),h}function p(e){for(let[t,r]of e)m(r)===i.PrefetchCacheEntryStatus.expired&&e.delete(t)}let g=1e3*Number("0"),y=1e3*Number("300");function m(e){let{kind:t,prefetchTime:r,lastUsedTime:n,staleTime:o}=e;return -1!==o?Date.now()<r+o?i.PrefetchCacheEntryStatus.fresh:i.PrefetchCacheEntryStatus.stale:Date.now()<(null!=n?n:r)+g?n?i.PrefetchCacheEntryStatus.reusable:i.PrefetchCacheEntryStatus.fresh:t===i.PrefetchKind.AUTO&&Date.now()<r+y?i.PrefetchCacheEntryStatus.stale:t===i.PrefetchKind.FULL&&Date.now()<r+y?i.PrefetchCacheEntryStatus.reusable:i.PrefetchCacheEntryStatus.expired}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HTML_LIMITED_BOT_UA_RE:function(){return n.HTML_LIMITED_BOT_UA_RE},HTML_LIMITED_BOT_UA_RE_STRING:function(){return o},getBotType:function(){return u},isBot:function(){return l}});let n=r(5796),i=/Googlebot|Google-PageRenderer|AdsBot-Google|googleweblight|Storebot-Google/i,o=n.HTML_LIMITED_BOT_UA_RE.source;function s(e){return i.test(e)}function a(e){return n.HTML_LIMITED_BOT_UA_RE.test(e)}function l(e){return s(e)||a(e)}function u(e){return s(e)?"dom":a(e)?"html":void 0}},5429:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ServerInsertMetadata",{enumerable:!0,get:function(){return s}});let n=r(3210),i=r(8524),o=e=>{let t=(0,n.useContext)(i.ServerInsertedMetadataContext);t&&t(e)};function s(e){let{promise:t}=e,{metadata:r}=(0,n.use)(t);return o(()=>r),null}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5495:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(5511);let i={randomUUID:n.randomUUID},o=new Uint8Array(256),s=o.length;function a(){return s>o.length-16&&((0,n.randomFillSync)(o),s=0),o.slice(s,s+=16)}let l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function u(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}let c=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();let n=(e=e||{}).random??e.rng?.()??a();if(n.length<16)throw Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return u(n)}},5499:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}function n(e){return e.startsWith("@")&&"@children"!==e}function i(e,t){if(e.includes(o)){let e=JSON.stringify(t);return"{}"!==e?o+"?"+e:o}return e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DEFAULT_SEGMENT_KEY:function(){return s},PAGE_SEGMENT_KEY:function(){return o},addSearchParamsIfPageSegment:function(){return i},isGroupSegment:function(){return r},isParallelRouteSegment:function(){return n}});let o="__PAGE__",s="__DEFAULT__"},5539:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"InvariantError",{enumerable:!0,get:function(){return r}});class r extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t),this.name="InvariantError"}}},5656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ErrorBoundary:function(){return p},ErrorBoundaryHandler:function(){return f},GlobalError:function(){return d},default:function(){return h}});let n=r(4985),i=r(687),o=n._(r(3210)),s=r(3883),a=r(8092);r(2776);let l=r(9294).workAsyncStorage,u={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}};function c(e){let{error:t}=e;if(l){let e=l.getStore();if((null==e?void 0:e.isRevalidate)||(null==e?void 0:e.isStaticGeneration))throw console.error(t),t}return null}class f extends o.default.Component{static getDerivedStateFromError(e){if((0,a.isNextRouterError)(e))throw e;return{error:e}}static getDerivedStateFromProps(e,t){let{error:r}=t;return e.pathname!==t.previousPathname&&t.error?{error:null,previousPathname:e.pathname}:{error:t.error,previousPathname:e.pathname}}render(){return this.state.error?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c,{error:this.state.error}),this.props.errorStyles,this.props.errorScripts,(0,i.jsx)(this.props.errorComponent,{error:this.state.error,reset:this.reset})]}):this.props.children}constructor(e){super(e),this.reset=()=>{this.setState({error:null})},this.state={error:null,previousPathname:this.props.pathname}}}function d(e){let{error:t}=e,r=null==t?void 0:t.digest;return(0,i.jsxs)("html",{id:"__next_error__",children:[(0,i.jsx)("head",{}),(0,i.jsxs)("body",{children:[(0,i.jsx)(c,{error:t}),(0,i.jsx)("div",{style:u.error,children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("h2",{style:u.text,children:["Application error: a ",r?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",r?"server logs":"browser console"," for more information)."]}),r?(0,i.jsx)("p",{style:u.text,children:"Digest: "+r}):null]})})]})]})}let h=d;function p(e){let{errorComponent:t,errorStyles:r,errorScripts:n,children:o}=e,a=(0,s.useUntrackedPathname)();return t?(0,i.jsx)(f,{pathname:a,errorComponent:t,errorStyles:r,errorScripts:n,children:o}):(0,i.jsx)(i.Fragment,{children:o})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5715:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getProperError:function(){return s}});let n=r(9385);function i(e){return"object"==typeof e&&null!==e&&"name"in e&&"message"in e}function o(e){let t=new WeakSet;return JSON.stringify(e,(e,r)=>{if("object"==typeof r&&null!==r){if(t.has(r))return"[Circular]";t.add(r)}return r})}function s(e){return i(e)?e:Object.defineProperty(Error((0,n.isPlainObject)(e)?o(e):e+""),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},5773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return l.ReadonlyURLSearchParams},RedirectType:function(){return l.RedirectType},ServerInsertedHTMLContext:function(){return u.ServerInsertedHTMLContext},forbidden:function(){return l.forbidden},notFound:function(){return l.notFound},permanentRedirect:function(){return l.permanentRedirect},redirect:function(){return l.redirect},unauthorized:function(){return l.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow},useParams:function(){return p},usePathname:function(){return d},useRouter:function(){return h},useSearchParams:function(){return f},useSelectedLayoutSegment:function(){return m},useSelectedLayoutSegments:function(){return y},useServerInsertedHTML:function(){return u.useServerInsertedHTML}});let n=r(3210),i=r(2142),o=r(449),s=r(7388),a=r(3913),l=r(178),u=r(9695),c=r(4717).useDynamicRouteParams;function f(){let e=(0,n.useContext)(o.SearchParamsContext),t=(0,n.useMemo)(()=>e?new l.ReadonlyURLSearchParams(e):null,[e]);{let{bailoutToClientRendering:e}=r(9608);e("useSearchParams()")}return t}function d(){return null==c||c("usePathname()"),(0,n.useContext)(o.PathnameContext)}function h(){let e=(0,n.useContext)(i.AppRouterContext);if(null===e)throw Object.defineProperty(Error("invariant expected app router to be mounted"),"__NEXT_ERROR_CODE",{value:"E238",enumerable:!1,configurable:!0});return e}function p(){return null==c||c("useParams()"),(0,n.useContext)(o.PathParamsContext)}function g(e,t,r,n){let i;if(void 0===r&&(r=!0),void 0===n&&(n=[]),r)i=e[1][t];else{var o;let t=e[1];i=null!=(o=t.children)?o:Object.values(t)[0]}if(!i)return n;let l=i[0],u=(0,s.getSegmentValue)(l);return!u||u.startsWith(a.PAGE_SEGMENT_KEY)?n:(n.push(u),g(i,t,!1,n))}function y(e){void 0===e&&(e="children"),null==c||c("useSelectedLayoutSegments()");let t=(0,n.useContext)(i.LayoutRouterContext);return t?g(t.parentTree,e):null}function m(e){void 0===e&&(e="children"),null==c||c("useSelectedLayoutSegment()");let t=y(e);if(!t||0===t.length)return null;let r="children"===e?t[0]:t[t.length-1];return r===a.DEFAULT_SEGMENT_KEY?null:r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HTML_LIMITED_BOT_UA_RE",{enumerable:!0,get:function(){return r}});let r=/Mediapartners-Google|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview/i},5814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return y}});let n=r(4985),i=r(687),o=n._(r(3210)),s=r(195),a=r(2142),l=r(9154),u=r(3038),c=r(9289),f=r(6127);r(148);let d=r(3406);function h(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}function p(e,t,r,n,i,s,a){let{nodeName:l}=e.currentTarget;if("A"===l.toUpperCase()&&h(e))return;e.preventDefault();let u=()=>{let e=null==a||a;"beforePopState"in t?t[i?"replace":"push"](r,n,{shallow:s,scroll:e}):t[i?"replace":"push"](n||r,{scroll:e})};o.default.startTransition(u)}function g(e){return"string"==typeof e?e:(0,s.formatUrl)(e)}let y=o.default.forwardRef(function(e,t){let r,n;let{href:s,as:h,children:y,prefetch:m=null,passHref:b,replace:v,shallow:w,scroll:E,onClick:_,onMouseEnter:x,onTouchStart:R,legacyBehavior:S=!1,...O}=e;r=y,S&&("string"==typeof r||"number"==typeof r)&&(r=(0,i.jsx)("a",{children:r}));let P=o.default.useContext(a.AppRouterContext),A=!1!==m,k=null===m?l.PrefetchKind.AUTO:l.PrefetchKind.FULL,{href:T,as:M}=o.default.useMemo(()=>{let e=g(s);return{href:e,as:h?g(h):e}},[s,h]);S&&(n=o.default.Children.only(r));let j=S?n&&"object"==typeof n&&n.ref:t,C=o.default.useCallback(e=>(A&&null!==P&&(0,d.mountLinkInstance)(e,T,P,k),()=>{(0,d.unmountLinkInstance)(e)}),[A,T,P,k]),N={ref:(0,u.useMergedRef)(C,j),onClick(e){S||"function"!=typeof _||_(e),S&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),P&&!e.defaultPrevented&&p(e,P,T,M,v,w,E)},onMouseEnter(e){S||"function"!=typeof x||x(e),S&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),P&&A&&(0,d.onNavigationIntent)(e.currentTarget)},onTouchStart:function(e){S||"function"!=typeof R||R(e),S&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),P&&A&&(0,d.onNavigationIntent)(e.currentTarget)}};return(0,c.isAbsoluteUrl)(M)?N.href=M:S&&!b&&("a"!==n.type||"href"in n.props)||(N.href=(0,f.addBasePath)(M)),S?o.default.cloneElement(n,N):(0,i.jsx)("a",{...O,...N,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5876:(e,t,r)=>{let{bech32:n,hex:i,utf8:o}=r(4091),s={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},a={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},l={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},u={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},c={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},f=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],d={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},h=BigInt("2100000000000000000"),p=BigInt(1e11),g={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},y={};for(let e=0,t=Object.keys(g);e<t.length;e++){let r=t[e];y[g[t[e]].toString()]=r}let m={1:e=>i.encode(n.fromWordsUnsafe(e)),16:e=>i.encode(n.fromWordsUnsafe(e)),13:e=>o.encode(n.fromWordsUnsafe(e)),19:e=>i.encode(n.fromWordsUnsafe(e)),23:e=>i.encode(n.fromWordsUnsafe(e)),27:e=>i.encode(n.fromWordsUnsafe(e)),6:v,24:v,3:w,5:E};function b(e){return t=>({tagCode:parseInt(e),words:n.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function v(e){return e.reverse().reduce((e,t,r)=>e+t*Math.pow(32,r),0)}function w(e){let t,r,o,s,a;let l=[],u=n.fromWordsUnsafe(e);for(;u.length>0;)t=i.encode(u.slice(0,33)),r=i.encode(u.slice(33,41)),o=parseInt(i.encode(u.slice(41,45)),16),s=parseInt(i.encode(u.slice(45,49)),16),a=parseInt(i.encode(u.slice(49,51)),16),u=u.slice(51),l.push({pubkey:t,short_channel_id:r,fee_base_msat:o,fee_proportional_millionths:s,cltv_expiry_delta:a});return l}function E(e){let t=e.slice().reverse().map(e=>[!!(1&e),!!(2&e),!!(4&e),!!(8&e),!!(16&e)]).reduce((e,t)=>e.concat(t),[]);for(;t.length<2*f.length;)t.push(!1);let r={};f.forEach((e,n)=>{let i;i=t[2*n]?"required":t[2*n+1]?"supported":"unsupported",r[e]=i});let n=t.slice(2*f.length);return r.extra_bits={start_bit:2*f.length,bits:n,has_required:n.reduce((e,t,r)=>r%2!=0?e||!1:e||t,!1)},r}function _(e,t){let r,n;if(e.slice(-1).match(/^[munp]$/))r=e.slice(-1),n=e.slice(0,-1);else if(e.slice(-1).match(/^[^munp0-9]$/))throw Error("Not a valid multiplier for the amount");else n=e;if(!n.match(/^\d+$/))throw Error("Not a valid human readable amount");let i=BigInt(n),o=r?i*p/d[r]:i*p;if("p"===r&&i%BigInt(10)!==BigInt(0)||o>h)throw Error("Amount is outside of valid range");return t?o.toString():o}e.exports={decode:function(e,t){let r,o,f,d,h,p;if("string"!=typeof e)throw Error("Lightning Payment Request must be string");if("ln"!==e.slice(0,2).toLowerCase())throw Error("Not a proper lightning payment request");let w=[],E=n.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();let x=E.prefix,R=E.words,S=e.slice(x.length+1),O=R.slice(-104);R=R.slice(0,-104);let P=x.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(P&&!P[2]&&(P=x.match(/^ln(\S+)$/)),!P)throw Error("Not a proper lightning payment request");w.push({name:"lightning_network",letters:"ln"});let A=P[1];if(t){if(void 0===t.bech32||void 0===t.pubKeyHash||void 0===t.scriptHash||!Array.isArray(t.validWitnessVersions))throw Error("Invalid network");r=t}else switch(A){case s.bech32:r=s;break;case a.bech32:r=a;break;case l.bech32:r=l;break;case u.bech32:r=u;break;case c.bech32:r=c}if(!r||r.bech32!==A)throw Error("Unknown coin bech32 prefix");w.push({name:"coin_network",letters:A,value:r});let k=P[2];k?(o=_(k+P[3],!0),w.push({name:"amount",letters:P[2]+P[3],value:o})):o=null,w.push({name:"separator",letters:"1"});let T=v(R.slice(0,7));for(R=R.slice(7),w.push({name:"timestamp",letters:S.slice(0,7),value:T}),S=S.slice(7);R.length>0;){let e=R[0].toString();f=y[e]||"unknown_tag",d=m[e]||b(e),h=v((R=R.slice(1)).slice(0,2)),p=(R=R.slice(2)).slice(0,h),R=R.slice(h),w.push({name:f,tag:S[0],letters:S.slice(0,3+h),value:d(p)}),S=S.slice(3+h)}w.push({name:"signature",letters:S.slice(0,104),value:i.encode(n.fromWordsUnsafe(O))}),S=S.slice(104),w.push({name:"checksum",letters:S});let M={paymentRequest:e,sections:w,get expiry(){let e=w.find(e=>"expiry"===e.name);if(e)return j("timestamp")+e.value},get route_hints(){return w.filter(e=>"route_hint"===e.name).map(e=>e.value)}};for(let e in g)"route_hint"!==e&&Object.defineProperty(M,e,{get:()=>j(e)});return M;function j(e){let t=w.find(t=>t.name===e);return t?t.value:void 0}},hrpToMillisat:_}},5913:(e,t,r)=>{"use strict";r(6397);var n,i=r(3210),o=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(i);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var l="undefined"!=typeof process&&process.env&&!0,u=function(e){return"[object String]"===Object.prototype.toString.call(e)},c=function(){function e(e){var t=void 0===e?{}:e,r=t.name,n=void 0===r?"stylesheet":r,i=t.optimizeForSpeed,o=void 0===i?l:i;f(u(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",f("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var s=!1;this._nonce=s?s.getAttribute("content"):null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){f("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),f(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;f(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return f(u(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var r=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(n){l||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,r){t&&f(u(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return r?i.insertBefore(n,r):i.appendChild(n),n},a(e,[{key:"length",get:function(){return this._rulesCount}}]),e}();function f(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},h=function(e){return e.replace(/\/style/gi,"\\/style")},p={};function g(e,t){if(!t)return"jsx-"+e;var r=String(t),n=e+r;return p[n]||(p[n]="jsx-"+d(e+"-"+r)),p[n]}function y(e,t){var r=/__jsx-style-dynamic-selector/g,n=e+(t=h(t));return p[n]||(p[n]=t.replace(r,e)),p[n]}function m(e,t){return void 0===t&&(t={}),e.map(function(e){var r=e[0],n=e[1];return o.default.createElement("style",{id:"__"+r,key:"__"+r,nonce:t.nonce?t.nonce:void 0,dangerouslySetInnerHTML:{__html:n}})})}var b=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,n=void 0===r?null:r,i=t.optimizeForSpeed,o=void 0!==i&&i;this._sheet=n||new c({name:"styled-jsx",optimizeForSpeed:o}),this._sheet.inject(),n&&"boolean"==typeof o&&(this._sheet.setOptimizeForSpeed(o),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var r=this.getIdAndRules(e),n=r.styleId,i=r.rules;if(n in this._instancesCounts){this._instancesCounts[n]+=1;return}var o=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[n]=o,this._instancesCounts[n]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(v(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var n=this._fromServer&&this._fromServer[r];n?(n.parentNode.removeChild(n),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){return m(this.cssRules(),e)},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,n=e.id;if(r){var i=g(n,r);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return y(i,e)}):[y(i,t)]}}return{styleId:g(n),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}();function v(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}var w=i.createContext(null);function E(){return new b}function _(e){var t=e.registry,r=e.children,n=i.useContext(w),s=i.useState(function(){return n||t||E()})[0];return o.default.createElement(w.Provider,{value:s},r)}function x(){return i.useContext(w)}w.displayName="StyleSheetContext",o.default.useInsertionEffect||o.default.useLayoutEffect;var R=void 0;function S(e){var t=R||x();return t&&t.add(e),null}S.dynamic=function(e){return e.map(function(e){return g(e[0],e[1])}).join(" ")},n=_,n=E,t.style=S,n=x},5942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeBasePath",{enumerable:!0,get:function(){return i}}),r(6736);let n="";function i(e){return 0===n.length||(e=e.slice(n.length)).startsWith("/")||(e="/"+e),e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5951:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"shouldHardNavigate",{enumerable:!0,get:function(){return o}});let n=r(4007),i=r(4077);function o(e,t){let[r,s]=t,[a,l]=e;return(0,i.matchSegment)(a,r)?!(e.length<=2)&&o((0,n.getNextFlightSegmentPath)(e),s[l]):!!Array.isArray(a)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{abortTask:function(){return w},listenForDynamicRequest:function(){return g},startPPRNavigation:function(){return l},updateCacheNodeOnPopstateRestoration:function(){return _}});let n=r(3913),i=r(4077),o=r(3123),s=r(2030),a={route:null,node:null,dynamicRequestTree:null,children:null};function l(e,t,r,n,i,o,s,a){return u(e,t,r,!1,n,i,o,s,[],a)}function u(e,t,r,s,l,f,h,g,y,m){let b=t[1],v=r[1],w=null!==l?l[2]:null;s||!0!==r[4]||(s=!0);let E=e.parallelRoutes,_=new Map(E),x={},R=null,S=!1,O={};for(let e in v){let t;let r=v[e],l=b[e],d=E.get(e),P=null!==w?w[e]:null,A=r[0],k=y.concat([e,A]),T=(0,o.createRouterCacheKey)(A),M=void 0!==l?l[0]:void 0,j=void 0!==d?d.get(T):void 0;if(null!==(t=A===n.DEFAULT_SEGMENT_KEY?void 0!==l?p(l):c(l,r,s,void 0!==P?P:null,f,h,k,m):g&&0===Object.keys(r[1]).length?c(l,r,s,void 0!==P?P:null,f,h,k,m):void 0!==l&&void 0!==M&&(0,i.matchSegment)(A,M)&&void 0!==j&&void 0!==l?u(j,l,r,s,P,f,h,g,k,m):c(l,r,s,void 0!==P?P:null,f,h,k,m))){if(null===t.route)return a;null===R&&(R=new Map),R.set(e,t);let r=t.node;if(null!==r){let t=new Map(d);t.set(T,r),_.set(e,t)}let n=t.route;x[e]=n;let i=t.dynamicRequestTree;null!==i?(S=!0,O[e]=i):O[e]=n}else x[e]=r,O[e]=r}if(null===R)return null;let P={lazyData:null,rsc:e.rsc,prefetchRsc:e.prefetchRsc,head:e.head,prefetchHead:e.prefetchHead,loading:e.loading,parallelRoutes:_};return{route:d(r,x),node:P,dynamicRequestTree:S?d(r,O):null,children:R}}function c(e,t,r,n,i,o,l,u){return!r&&(void 0===e||(0,s.isNavigatingToNewRootLayout)(e,t))?a:f(t,n,i,o,l,u)}function f(e,t,r,n,i,s){if(null===t)return h(e,null,r,n,i,s);let a=e[1],l=t[4],u=0===Object.keys(a).length;if(l||n&&u)return h(e,t,r,n,i,s);let c=t[2],p=new Map,g=new Map,y={},m=!1;if(u)s.push(i);else for(let e in a){let t=a[e],l=null!==c?c[e]:null,u=t[0],d=i.concat([e,u]),h=(0,o.createRouterCacheKey)(u),b=f(t,l,r,n,d,s);p.set(e,b);let v=b.dynamicRequestTree;null!==v?(m=!0,y[e]=v):y[e]=t;let w=b.node;if(null!==w){let t=new Map;t.set(h,w),g.set(e,t)}}return{route:e,node:{lazyData:null,rsc:t[1],prefetchRsc:null,head:u?r:null,prefetchHead:null,loading:t[3],parallelRoutes:g},dynamicRequestTree:m?d(e,y):null,children:p}}function d(e,t){let r=[e[0],t];return 2 in e&&(r[2]=e[2]),3 in e&&(r[3]=e[3]),4 in e&&(r[4]=e[4]),r}function h(e,t,r,n,i,o){let s=d(e,e[1]);return s[3]="refetch",{route:e,node:b(e,t,r,n,i,o),dynamicRequestTree:s,children:null}}function p(e){return{route:e,node:null,dynamicRequestTree:null,children:null}}function g(e,t){t.then(t=>{let{flightData:r}=t;if("string"!=typeof r){for(let t of r){let{segmentPath:r,tree:n,seedData:i,head:o}=t;i&&y(e,r,n,i,o)}w(e,null)}},t=>{w(e,t)})}function y(e,t,r,n,o){let s=e;for(let e=0;e<t.length;e+=2){let r=t[e],n=t[e+1],o=s.children;if(null!==o){let e=o.get(r);if(void 0!==e){let t=e.route[0];if((0,i.matchSegment)(n,t)){s=e;continue}}}return}m(s,r,n,o)}function m(e,t,r,n){if(null===e.dynamicRequestTree)return;let o=e.children,s=e.node;if(null===o){null!==s&&(v(s,e.route,t,r,n),e.dynamicRequestTree=null);return}let a=t[1],l=r[2];for(let e in t){let t=a[e],r=l[e],s=o.get(e);if(void 0!==s){let e=s.route[0];if((0,i.matchSegment)(t[0],e)&&null!=r)return m(s,t,r,n)}}}function b(e,t,r,n,i,s){let a=e[1],l=null!==t?t[2]:null,u=new Map;for(let e in a){let t=a[e],c=null!==l?l[e]:null,f=t[0],d=i.concat([e,f]),h=(0,o.createRouterCacheKey)(f),p=b(t,void 0===c?null:c,r,n,d,s),g=new Map;g.set(h,p),u.set(e,g)}let c=0===u.size;c&&s.push(i);let f=null!==t?t[1]:null,d=null!==t?t[3]:null;return{lazyData:null,parallelRoutes:u,prefetchRsc:void 0!==f?f:null,prefetchHead:c?r:[null,null],loading:void 0!==d?d:null,rsc:S(),head:c?S():null}}function v(e,t,r,n,s){let a=t[1],l=r[1],u=n[2],c=e.parallelRoutes;for(let e in a){let t=a[e],r=l[e],n=u[e],f=c.get(e),d=t[0],h=(0,o.createRouterCacheKey)(d),p=void 0!==f?f.get(h):void 0;void 0!==p&&(void 0!==r&&(0,i.matchSegment)(d,r[0])&&null!=n?v(p,t,r,n,s):E(t,p,null))}let f=e.rsc,d=n[1];null===f?e.rsc=d:R(f)&&f.resolve(d);let h=e.head;R(h)&&h.resolve(s)}function w(e,t){let r=e.node;if(null===r)return;let n=e.children;if(null===n)E(e.route,r,t);else for(let e of n.values())w(e,t);e.dynamicRequestTree=null}function E(e,t,r){let n=e[1],i=t.parallelRoutes;for(let e in n){let t=n[e],s=i.get(e);if(void 0===s)continue;let a=t[0],l=(0,o.createRouterCacheKey)(a),u=s.get(l);void 0!==u&&E(t,u,r)}let s=t.rsc;R(s)&&(null===r?s.resolve(null):s.reject(r));let a=t.head;R(a)&&a.resolve(null)}function _(e,t){let r=t[1],n=e.parallelRoutes,i=new Map(n);for(let e in r){let t=r[e],s=t[0],a=(0,o.createRouterCacheKey)(s),l=n.get(e);if(void 0!==l){let r=l.get(a);if(void 0!==r){let n=_(r,t),o=new Map(l);o.set(a,n),i.set(e,o)}}}let s=e.rsc,a=R(s)&&"pending"===s.status;return{lazyData:null,rsc:s,head:e.head,prefetchHead:a?e.prefetchHead:[null,null],prefetchRsc:a?e.prefetchRsc:null,loading:e.loading,parallelRoutes:i}}let x=Symbol();function R(e){return e&&e.tag===x}function S(){let e,t;let r=new Promise((r,n)=>{e=r,t=n});return r.status="pending",r.resolve=t=>{if("pending"===r.status){let n=r;n.status="fulfilled",n.value=t,e(t)}},r.reject=e=>{if("pending"===r.status){let n=r;n.status="rejected",n.reason=e,t(e)}},r.tag=x,r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6033:(e,t,r)=>{"use strict";e.exports=r(5239).vendored["react-rsc"].ReactDOM},6042:(e,t,r)=>{let{createProxy:n}=r(9844);e.exports=n("/home/lfg/Git/Madtrips/node_modules/next/dist/client/components/client-segment.js")},6070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AlternatesMetadata",{enumerable:!0,get:function(){return s}});let n=r(7413);r(1120);let i=r(407);function o({descriptor:e,...t}){return e.url?(0,n.jsx)("link",{...t,...e.title&&{title:e.title},href:e.url.toString()}):null}function s({alternates:e}){if(!e)return null;let{canonical:t,languages:r,media:n,types:s}=e;return(0,i.MetaFilter)([t?o({rel:"canonical",descriptor:t}):null,r?Object.entries(r).flatMap(([e,t])=>null==t?void 0:t.map(t=>o({rel:"alternate",hrefLang:e,descriptor:t}))):null,n?Object.entries(n).flatMap(([e,t])=>null==t?void 0:t.map(t=>o({rel:"alternate",media:e,descriptor:t}))):null,s?Object.entries(s).flatMap(([e,t])=>null==t?void 0:t.map(t=>o({rel:"alternate",type:e,descriptor:t}))):null])}},6127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addBasePath",{enumerable:!0,get:function(){return s}});let n=r(8834),i=r(4674),o="";function s(e,t){return(0,i.normalizePathTrailingSlash)((0,n.addPathPrefix)(e,o))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6180:(e,t,r)=>{"use strict";e.exports=r(5913).style},6189:(e,t,r)=>{"use strict";var n=r(5773);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},6211:(e,t,r)=>{e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let t,r,o;let s=null;function a(...e){if(!a.enabled)return;let r=a,i=Number(new Date);r.diff=i-(t||i),r.prev=t,r.curr=i,t=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if("%%"===t)return"%";o++;let s=n.formatters[i];if("function"==typeof s){let n=e[o];t=s.call(r,n),e.splice(o,1),o--}return t}),n.formatArgs.call(r,e),(r.log||n.log).apply(r,e)}return a.namespace=e,a.useColors=n.useColors(),a.color=n.selectColor(e),a.extend=i,a.destroy=n.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==n.namespaces&&(r=n.namespaces,o=n.enabled(e)),o),set:e=>{s=e}}),"function"==typeof n.init&&n.init(a),a}function i(e,t){let r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){for(let t of(n.save(e),n.namespaces=e,n.names=[],n.skips=[],("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean)))"-"===t[0]?n.skips.push(t.slice(1)):n.names.push(t)}function s(e,t){let r=0,n=0,i=-1,o=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,o=r):r++,n++;else{if(-1===i)return!1;n=i+1,r=++o}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}function a(){let e=[...n.names,...n.skips.map(e=>"-"+e)].join(",");return n.enable(""),e}function l(e){for(let t of n.skips)if(s(e,t))return!1;for(let t of n.names)if(s(e,t))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.debug=n,n.default=n,n.coerce=u,n.disable=a,n.enable=o,n.enabled=l,n.humanize=r(7802),n.destroy=c,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},6255:(e,t)=>{"use strict";function r(e){return e.default||e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interopDefault",{enumerable:!0,get:function(){return r}})},6258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSocialImageMetadataBaseFallback:function(){return u},isStringOrURL:function(){return o},resolveAbsoluteUrlWithPathname:function(){return p},resolveRelativeUrl:function(){return f},resolveUrl:function(){return c}});let n=i(r(8671));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return"string"==typeof e||e instanceof URL}function s(){return new URL(`http://localhost:${process.env.PORT||3e3}`)}function a(){let e=process.env.VERCEL_BRANCH_URL||process.env.VERCEL_URL;return e?new URL(`https://${e}`):void 0}function l(){let e=process.env.VERCEL_PROJECT_PRODUCTION_URL;return e?new URL(`https://${e}`):void 0}function u(e){let t=s(),r=a(),n=l();return r&&"preview"===process.env.VERCEL_ENV?r:e||n||t}function c(e,t){if(e instanceof URL)return e;if(!e)return null;try{return new URL(e)}catch{}t||(t=s());let r=t.pathname||"";return new URL(n.default.posix.join(r,e),t)}function f(e,t){return"string"==typeof e&&e.startsWith("./")?n.default.posix.resolve(t,e):e}let d=/^(?:\/((?!\.well-known(?:\/.*)?)(?:[^/]+\/)*[^/]+\.\w+))(\/?|$)/i;function h(e){return d.test(e)}function p(e,t,{trailingSlash:r,pathname:n}){e=f(e,n);let i="",o=t?c(e,t):e;if(i="string"==typeof o?o:"/"===o.pathname?o.origin:o.href,r&&!i.endsWith("/")){let e=i.startsWith("/"),r=i.includes("?"),n=!1,o=!1;if(!e){try{let e=new URL(i);n=null!=t&&e.origin!==t.origin,o=h(e.pathname)}catch{n=!0}if(!o&&!n&&!r)return`${i}/`}}return i}},6299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return n}});let r=Symbol.for("react.postpone");function n(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}},6312:(e,t,r)=>{"use strict";function n(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}r.r(t),r.d(t,{_:()=>n})},6346:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ClientPageRoot",{enumerable:!0,get:function(){return o}});let n=r(687),i=r(5539);function o(e){let{Component:t,searchParams:o,params:s,promises:a}=e;{let e,a;let{workAsyncStorage:l}=r(9294),u=l.getStore();if(!u)throw Object.defineProperty(new i.InvariantError("Expected workStore to exist when handling searchParams in a client Page."),"__NEXT_ERROR_CODE",{value:"E564",enumerable:!1,configurable:!0});let{createSearchParamsFromClient:c}=r(9221);e=c(o,u);let{createParamsFromClient:f}=r(824);return a=f(s,u),(0,n.jsx)(t,{params:a,searchParams:e})}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return i},getAccessFallbackErrorTypeByStatus:function(){return a},getAccessFallbackHTTPStatus:function(){return s},isHTTPAccessFallbackError:function(){return o}});let r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},n=new Set(Object.values(r)),i="NEXT_HTTP_ERROR_FALLBACK";function o(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===i&&n.has(Number(r))}function s(e){return Number(e.digest.split(";")[1])}function a(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6361:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assignLocation",{enumerable:!0,get:function(){return i}});let n=r(6127);function i(e,t){if(e.startsWith(".")){let r=t.origin+t.pathname;return new URL((r.endsWith("/")?r:r+"/")+e)}return new URL((0,n.addBasePath)(e),t.href)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6397:()=>{},6421:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._fast_remove_single=void 0,t._fast_remove_single=function(e,t){-1!==t&&(0===t?e.shift():t===e.length-1?e.length=e.length-1:e.splice(t,1))}},6444:(e,t,r)=>{let{createProxy:n}=r(9844);e.exports=n("/home/lfg/Git/Madtrips/node_modules/next/dist/client/components/client-page.js")},6453:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},6483:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{resolveImages:function(){return c},resolveOpenGraph:function(){return h},resolveTwitter:function(){return g}});let n=r(7341),i=r(6258),o=r(7373),s=r(7359),a=r(1709),l={article:["authors","tags"],song:["albums","musicians"],playlist:["albums","musicians"],radio:["creators"],video:["actors","directors","writers","tags"],basic:["emails","phoneNumbers","faxNumbers","alternateLocale","audio","videos"]};function u(e,t,r){if(!e)return;let n=(0,i.isStringOrURL)(e),o=n?e:e.url;if(!o)return;let l=!!process.env.VERCEL;if("string"==typeof o&&!(0,s.isFullStringUrl)(o)&&(!t||r)){let e=(0,i.getSocialImageMetadataBaseFallback)(t);l||t||(0,a.warnOnce)(`metadataBase property in metadata export is not set for resolving social open graph or twitter images, using "${e.origin}". See https://nextjs.org/docs/app/api-reference/functions/generate-metadata#metadatabase`),t=e}return n?{url:(0,i.resolveUrl)(o,t)}:{...e,url:(0,i.resolveUrl)(o,t)}}function c(e,t,r){let i=(0,n.resolveAsArrayOrUndefined)(e);if(!i)return i;let o=[];for(let e of i){let n=u(e,t,r);n&&o.push(n)}return o}let f={article:l.article,book:l.article,"music.song":l.song,"music.album":l.song,"music.playlist":l.playlist,"music.radio_station":l.radio,"video.movie":l.video,"video.episode":l.video};function d(e){return e&&e in f?f[e].concat(l.basic):l.basic}let h=(e,t,r,s)=>{if(!e)return null;function a(e,i){for(let t of d(i&&"type"in i?i.type:void 0)){let r=t;if(r in i&&"url"!==r){let t=i[r];e[r]=t?(0,n.resolveArray)(t):null}}e.images=c(i.images,t,r.isStaticMetadataRouteFile)}let l={...e,title:(0,o.resolveTitle)(e.title,s)};return a(l,e),l.url=e.url?(0,i.resolveAbsoluteUrlWithPathname)(e.url,t,r):null,l},p=["site","siteId","creator","creatorId","description"],g=(e,t,r,i)=>{var s;if(!e)return null;let a="card"in e?e.card:void 0,l={...e,title:(0,o.resolveTitle)(e.title,i)};for(let t of p)l[t]=e[t]||null;if(l.images=c(e.images,t,r.isStaticMetadataRouteFile),a=a||((null==(s=l.images)?void 0:s.length)?"summary_large_image":"summary"),l.card=a,"card"in l)switch(l.card){case"player":l.players=(0,n.resolveAsArrayOrUndefined)(l.players)||[];break;case"app":l.app=l.app||{}}return l}},6493:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"handleSegmentMismatch",{enumerable:!0,get:function(){return i}});let n=r(5232);function i(e,t,r){return(0,n.handleExternalUrl)(e,{},e.canonicalUrl,!0)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6526:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{copyNextErrorCode:function(){return i},createDigestWithErrorCode:function(){return n},extractNextErrorCode:function(){return o}});let r="@",n=(e,t)=>"object"==typeof e&&null!==e&&"__NEXT_ERROR_CODE"in e?`${t}${r}${e.__NEXT_ERROR_CODE}`:t,i=(e,t)=>{let r=o(e);r&&"object"==typeof t&&null!==t&&Object.defineProperty(t,"__NEXT_ERROR_CODE",{value:r,enumerable:!1,configurable:!0})},o=e=>"object"==typeof e&&null!==e&&"__NEXT_ERROR_CODE"in e&&"string"==typeof e.__NEXT_ERROR_CODE?e.__NEXT_ERROR_CODE:"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest?e.digest.split(r).find(e=>e.startsWith("E")):void 0},6533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return w}});let n=r(4985),i=r(740),o=r(687),s=i._(r(3210)),a=n._(r(1215)),l=n._(r(512)),u=r(4953),c=r(2756),f=r(7903);r(148);let d=r(9148),h=n._(r(1933)),p=r(3038),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function y(e,t,r,n,i,o,s){let a=null==e?void 0:e.src;e&&e["data-loaded-src"]!==a&&(e["data-loaded-src"]=a,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}}))}function m(e){return s.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let b=(0,s.forwardRef)((e,t)=>{let{src:r,srcSet:n,sizes:i,height:a,width:l,decoding:u,className:c,style:f,fetchPriority:d,placeholder:h,loading:g,unoptimized:b,fill:v,onLoadRef:w,onLoadingCompleteRef:E,setBlurComplete:_,setShowAltText:x,sizesInput:R,onLoad:S,onError:O,...P}=e,A=(0,s.useCallback)(e=>{e&&(O&&(e.src=e.src),e.complete&&y(e,h,w,E,_,b,R))},[r,h,w,E,_,O,b,R]),k=(0,p.useMergedRef)(t,A);return(0,o.jsx)("img",{...P,...m(d),loading:g,width:l,height:a,decoding:u,"data-nimg":v?"fill":"1",className:c,style:f,sizes:i,srcSet:n,src:r,ref:k,onLoad:e=>{y(e.currentTarget,h,w,E,_,b,R)},onError:e=>{x(!0),"empty"!==h&&_(!0),O&&O(e)}})});function v(e){let{isAppRouter:t,imgAttributes:r}=e,n={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...m(r.fetchPriority)};return t&&a.default.preload?(a.default.preload(r.src,n),null):(0,o.jsx)(l.default,{children:(0,o.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...n},"__nimg-"+r.src+r.srcSet+r.sizes)})}let w=(0,s.forwardRef)((e,t)=>{let r=!(0,s.useContext)(d.RouterContext),n=(0,s.useContext)(f.ImageConfigContext),i=(0,s.useMemo)(()=>{var e;let t=g||n||c.imageConfigDefault,r=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),i=t.deviceSizes.sort((e,t)=>e-t),o=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:r,deviceSizes:i,qualities:o}},[n]),{onLoad:a,onLoadingComplete:l}=e,p=(0,s.useRef)(a);(0,s.useEffect)(()=>{p.current=a},[a]);let y=(0,s.useRef)(l);(0,s.useEffect)(()=>{y.current=l},[l]);let[m,w]=(0,s.useState)(!1),[E,_]=(0,s.useState)(!1),{props:x,meta:R}=(0,u.getImgProps)(e,{defaultLoader:h.default,imgConf:i,blurComplete:m,showAltText:E});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b,{...x,unoptimized:R.unoptimized,placeholder:R.placeholder,fill:R.fill,onLoadRef:p,onLoadingCompleteRef:y,setBlurComplete:w,setShowAltText:_,sizesInput:e.sizes,ref:t}),R.priority?(0,o.jsx)(v,{isAppRouter:r,imgAttributes:x}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{resolveAlternates:function(){return u},resolveAppLinks:function(){return y},resolveAppleWebApp:function(){return g},resolveFacebook:function(){return b},resolveItunes:function(){return m},resolvePagination:function(){return v},resolveRobots:function(){return d},resolveThemeColor:function(){return s},resolveVerification:function(){return p}});let n=r(7341),i=r(6258);function o(e,t,r){if(e instanceof URL){let t=new URL(r.pathname,e);e.searchParams.forEach((e,r)=>t.searchParams.set(r,e)),e=t}return(0,i.resolveAbsoluteUrlWithPathname)(e,t,r)}let s=e=>{var t;if(!e)return null;let r=[];return null==(t=(0,n.resolveAsArrayOrUndefined)(e))||t.forEach(e=>{"string"==typeof e?r.push({color:e}):"object"==typeof e&&r.push({color:e.color,media:e.media})}),r};function a(e,t,r){if(!e)return null;let n={};for(let[i,s]of Object.entries(e))"string"==typeof s||s instanceof URL?n[i]=[{url:o(s,t,r)}]:(n[i]=[],null==s||s.forEach((e,s)=>{let a=o(e.url,t,r);n[i][s]={url:a,title:e.title}}));return n}function l(e,t,r){return e?{url:o("string"==typeof e||e instanceof URL?e:e.url,t,r)}:null}let u=(e,t,r)=>{if(!e)return null;let n=l(e.canonical,t,r),i=a(e.languages,t,r);return{canonical:n,languages:i,media:a(e.media,t,r),types:a(e.types,t,r)}},c=["noarchive","nosnippet","noimageindex","nocache","notranslate","indexifembedded","nositelinkssearchbox","unavailable_after","max-video-preview","max-image-preview","max-snippet"],f=e=>{if(!e)return null;if("string"==typeof e)return e;let t=[];for(let r of(e.index?t.push("index"):"boolean"==typeof e.index&&t.push("noindex"),e.follow?t.push("follow"):"boolean"==typeof e.follow&&t.push("nofollow"),c)){let n=e[r];void 0!==n&&!1!==n&&t.push("boolean"==typeof n?r:`${r}:${n}`)}return t.join(", ")},d=e=>e?{basic:f(e),googleBot:"string"!=typeof e?f(e.googleBot):null}:null,h=["google","yahoo","yandex","me","other"],p=e=>{if(!e)return null;let t={};for(let r of h){let i=e[r];if(i){if("other"===r)for(let r in t.other={},e.other){let i=(0,n.resolveAsArrayOrUndefined)(e.other[r]);i&&(t.other[r]=i)}else t[r]=(0,n.resolveAsArrayOrUndefined)(i)}}return t},g=e=>{var t;if(!e)return null;if(!0===e)return{capable:!0};let r=e.startupImage?null==(t=(0,n.resolveAsArrayOrUndefined)(e.startupImage))?void 0:t.map(e=>"string"==typeof e?{url:e}:e):null;return{capable:!("capable"in e)||!!e.capable,title:e.title||null,startupImage:r,statusBarStyle:e.statusBarStyle||"default"}},y=e=>{if(!e)return null;for(let t in e)e[t]=(0,n.resolveAsArrayOrUndefined)(e[t]);return e},m=(e,t,r)=>e?{appId:e.appId,appArgument:e.appArgument?o(e.appArgument,t,r):void 0}:null,b=e=>e?{appId:e.appId,admins:(0,n.resolveAsArrayOrUndefined)(e.admins)}:null,v=(e,t,r)=>({previous:(null==e?void 0:e.previous)?o(e.previous,t,r):null,next:(null==e?void 0:e.next)?o(e.next,t,r):null})},6572:(e,t,r)=>{"use strict";r.d(t,{lo:()=>nZ,Bq:()=>rh,lG:()=>rp,sh:()=>is,Qe:()=>nX});var n,i,o,s,a,l,u={};function c(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function f(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function d(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");c(e.outputLen),c(e.blockLen)}function h(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function p(e,t){f(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}r.r(u),r.d(u,{OG:()=>Y,My:()=>F,Ph:()=>z,lX:()=>q,Id:()=>G,fg:()=>X,qj:()=>K,aT:()=>H,lq:()=>W,z:()=>V,Q5:()=>ee});var g=r(7598),y=r.t(g,2);let m=y&&"object"==typeof y&&"webcrypto"in y?g.webcrypto:void 0,b=e=>e instanceof Uint8Array,v=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),w=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");function E(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function _(e){if("string"==typeof e&&(e=E(e)),!b(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}function x(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!b(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}(e,t)=>t.toString(16).padStart(2,"0");class R{clone(){return this._cloneInto()}}function S(e){let t=t=>e().update(_(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function O(e=32){if(m&&"function"==typeof m.getRandomValues)return m.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}function P(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>i&o),a=Number(r&o),l=4*!!n,u=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+u,a,n)}class A extends R{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=v(this.buffer)}update(e){h(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=_(e)).length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let t=v(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){h(this),p(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;P(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=v(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}let k=(e,t,r)=>e&t^~e&r,T=(e,t,r)=>e&t^e&r^t&r,M=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),j=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),C=new Uint32Array(64);class N extends A{constructor(){super(64,32,8,!1),this.A=0|j[0],this.B=0|j[1],this.C=0|j[2],this.D=0|j[3],this.E=0|j[4],this.F=0|j[5],this.G=0|j[6],this.H=0|j[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)C[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=C[e-15],r=C[e-2],n=w(t,7)^w(t,18)^t>>>3,i=w(r,17)^w(r,19)^r>>>10;C[e]=i+C[e-7]+n+C[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(w(s,6)^w(s,11)^w(s,25))+k(s,a,l)+M[e]+C[e]|0,c=(w(r,2)^w(r,13)^w(r,22))+T(r,n,i)|0;u=l,l=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,a,l,u)}roundClean(){C.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let I=S(()=>new N),U=(BigInt(0),BigInt(1)),D=BigInt(2),L=e=>e instanceof Uint8Array,B=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function F(e){if(!L(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=B[e[r]];return t}function $(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function H(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let n=2*t,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[t]=i}return r}function z(e){return $(F(e))}function q(e){if(!L(e))throw Error("Uint8Array expected");return $(F(Uint8Array.from(e).reverse()))}function W(e,t){return H(e.toString(16).padStart(2*t,"0"))}function V(e,t){return W(e,t).reverse()}function K(e,t,r){let n;if("string"==typeof t)try{n=H(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(L(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function G(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!L(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}let Y=e=>(D<<BigInt(e-1))-U,J=e=>new Uint8Array(e),Z=e=>Uint8Array.from(e);function X(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=J(e),i=J(e),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),l=(e=J())=>{i=a(Z([0]),e),n=a(),0!==e.length&&(i=a(Z([1]),e),n=a())},u=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return G(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(u()));)l();return s(),r}}let Q={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ee(e,t,r={}){let n=(t,r,n)=>{let i=Q[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}let et=BigInt(0),er=BigInt(1),en=BigInt(2),ei=BigInt(3),eo=BigInt(4),es=BigInt(5),ea=BigInt(8);function el(e,t){let r=e%t;return r>=et?r:t+r}function eu(e,t,r){if(r<=et||t<et)throw Error("Expected power/modulo > 0");if(r===er)return et;let n=er;for(;t>et;)t&er&&(n=n*e%r),e=e*e%r,t>>=er;return n}function ec(e,t,r){let n=e;for(;t-- >et;)n*=n,n%=r;return n}function ef(e,t){if(e===et||t<=et)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=el(e,t),n=t,i=et,o=er,s=er,a=et;for(;r!==et;){let e=n/r,t=n%r,l=i-s*e,u=o-a*e;n=r,r=t,i=s,o=a,s=l,a=u}if(n!==er)throw Error("invert: does not exist");return el(i,t)}function ed(e){let t,r,n;let i=(e-er)/en;for(t=e-er,r=0;t%en===et;t/=en,r++);for(n=en;n<e&&eu(n,i,e)!==e-er;n++);if(1===r){let t=(e+er)/eo;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let o=(t+er)/en;return function(e,s){if(e.pow(s,i)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,n),t),u=e.pow(s,o),c=e.pow(s,t);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,er<<BigInt(a-t-1));l=e.sqr(r),u=e.mul(u,r),c=e.mul(c,l),a=t}return u}}function eh(e){if(e%eo===ei){let t=(e+er)/eo;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%ea===es){let t=(e-es)/ea;return function(e,r){let n=e.mul(r,en),i=e.pow(n,t),o=e.mul(r,i),s=e.mul(e.mul(o,en),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return ed(e)}BigInt(9),BigInt(16);let ep=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eg(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"};return ee(e,ep.reduce((e,t)=>(e[t]="function",e),t))}function ey(e,t,r){if(r<et)throw Error("Expected power > 0");if(r===et)return e.ONE;if(r===er)return t;let n=e.ONE,i=t;for(;r>et;)r&er&&(n=e.mul(n,i)),i=e.sqr(i),r>>=er;return n}function em(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r}function eb(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ev(e,t,r=!1,n={}){if(e<=et)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:o}=eb(e,t);if(o>2048)throw Error("Field lengths over 2048 bytes are not supported");let s=eh(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Y(i),ZERO:et,ONE:er,create:t=>el(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return et<=t&&t<e},is0:e=>e===et,isOdd:e=>(e&er)===er,neg:t=>el(-t,e),eql:(e,t)=>e===t,sqr:t=>el(t*t,e),add:(t,r)=>el(t+r,e),sub:(t,r)=>el(t-r,e),mul:(t,r)=>el(t*r,e),pow:(e,t)=>ey(a,e,t),div:(t,r)=>el(t*ef(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ef(t,e),sqrt:n.sqrt||(e=>s(a,e)),invertBatch:e=>em(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?V(e,o):W(e,o),fromBytes:e=>{if(e.length!==o)throw Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return r?q(e):z(e)}});return Object.freeze(a)}function ew(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function eE(e){let t=ew(e);return t+Math.ceil(t/2)}function e_(e,t,r=!1){let n=e.length,i=ew(t),o=eE(t);if(n<16||n<o||n>1024)throw Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=el(r?z(e):q(e),t-er)+er;return r?V(s,i):W(s,i)}class ex extends R{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,d(e);let r=_(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return h(this),this.iHash.update(e),this}digestInto(e){h(this),f(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let eR=(e,t,r)=>new ex(e,t).update(r).digest();eR.create=(e,t)=>new ex(e,t);let eS=BigInt(0),eO=BigInt(1);function eP(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>eS;)r&eO&&(n=n.add(i)),i=i.double(),r>>=eO;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),o=[],s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){let{windows:s,windowSize:a}=n(t),l=e.ZERO,u=e.BASE,c=BigInt(2**t-1),f=2**t,d=BigInt(t);for(let e=0;e<s;e++){let t=e*a,n=Number(o&c);o>>=d,n>a&&(n-=f,o+=eO);let s=t,h=t+Math.abs(n)-1,p=e%2!=0,g=n<0;0===n?u=u.add(r(p,i[s])):l=l.add(r(g,i[h]))}return{p:l,f:u}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}}function eA(e){return eg(e.Fp),ee(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...eb(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function ek(e){let t=eA(e);ee(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}let{Ph:eT,aT:eM}=u,ej={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=ej;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:eT(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=ej,r="string"==typeof e?eM(e):e;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:o}=ej._parseInt(r.subarray(2)),{d:s,l:a}=ej._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${a}${n}`}},eC=BigInt(0),eN=BigInt(1),eI=BigInt(2),eU=BigInt(3),eD=BigInt(4);function eL(e){let t=ek(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return G(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){let{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&eC<e&&e<t.n}function a(e){if(!s(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=F(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:z(K("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return o&&(r=el(r,s)),a(r),r}let u=new Map;function c(e){if(!(e instanceof f))throw Error("ProjectivePoint expected")}class f{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof f)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?f.ZERO:new f(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(f.fromAffine)}static fromHex(e){let t=f.fromAffine(i(K("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),s=o(e);if(!r.eql(i,s))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){c(e);let{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,l=r.eql(r.mul(t,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return l&&u}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,eU),{px:o,py:s,pz:a}=this,l=r.ZERO,u=r.ZERO,c=r.ZERO,d=r.mul(o,o),h=r.mul(s,s),p=r.mul(a,a),g=r.mul(o,s);return g=r.add(g,g),c=r.mul(o,a),c=r.add(c,c),l=r.mul(e,c),u=r.mul(i,p),u=r.add(l,u),l=r.sub(h,u),u=r.add(h,u),u=r.mul(l,u),l=r.mul(g,l),c=r.mul(i,c),p=r.mul(e,p),g=r.sub(d,p),g=r.mul(e,g),g=r.add(g,c),c=r.add(d,d),d=r.add(c,d),d=r.add(d,p),d=r.mul(d,g),u=r.add(u,d),p=r.mul(s,a),p=r.add(p,p),d=r.mul(p,g),l=r.sub(l,d),c=r.mul(p,h),c=r.add(c,c),new f(l,u,c=r.add(c,c))}add(e){c(e);let{px:n,py:i,pz:o}=this,{px:s,py:a,pz:l}=e,u=r.ZERO,d=r.ZERO,h=r.ZERO,p=t.a,g=r.mul(t.b,eU),y=r.mul(n,s),m=r.mul(i,a),b=r.mul(o,l),v=r.add(n,i),w=r.add(s,a);v=r.mul(v,w),w=r.add(y,m),v=r.sub(v,w),w=r.add(n,o);let E=r.add(s,l);return w=r.mul(w,E),E=r.add(y,b),w=r.sub(w,E),E=r.add(i,o),u=r.add(a,l),E=r.mul(E,u),u=r.add(m,b),E=r.sub(E,u),h=r.mul(p,w),u=r.mul(g,b),h=r.add(u,h),u=r.sub(m,h),h=r.add(m,h),d=r.mul(u,h),m=r.add(y,y),m=r.add(m,y),b=r.mul(p,b),w=r.mul(g,w),m=r.add(m,b),b=r.sub(y,b),b=r.mul(p,b),w=r.add(w,b),y=r.mul(m,w),d=r.add(d,y),y=r.mul(E,w),u=r.mul(v,u),u=r.sub(u,y),y=r.mul(v,m),h=r.mul(E,h),new f(u,d,h=r.add(h,y))}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return h.wNAFCached(this,u,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(f.fromAffine)})}multiplyUnsafe(e){let n=f.ZERO;if(e===eC)return n;if(a(e),e===eN)return this;let{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:l,k2:u}=i.splitScalar(e),c=n,d=n,p=this;for(;s>eC||u>eC;)s&eN&&(c=c.add(p)),u&eN&&(d=d.add(p)),p=p.double(),s>>=eN,u>>=eN;return o&&(c=c.negate()),l&&(d=d.negate()),d=new f(r.mul(d.px,i.beta),d.py,d.pz),c.add(d)}multiply(e){let n,i;a(e);let o=e,{endo:s}=t;if(s){let{k1neg:e,k1:t,k2neg:a,k2:l}=s.splitScalar(o),{p:u,f:c}=this.wNAF(t),{p:d,f:p}=this.wNAF(l);u=h.constTimeNegate(e,u),d=h.constTimeNegate(a,d),d=new f(r.mul(d.px,s.beta),d.py,d.pz),n=u.add(d),i=c.add(p)}else{let{p:e,f:t}=this.wNAF(o);n=e,i=t}return f.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=f.BASE,i=(e,t)=>t!==eC&&t!==eN&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){let{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));let s=r.mul(t,e),a=r.mul(n,e),l=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===eN)return!0;if(r)return r(f,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===eN?this:r?r(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(f,this,e)}toHex(e=!0){return F(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let d=t.nBitLength,h=eP(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function eB(e){let t=eA(e);return ee(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function eF(e){let t=eB(e),{Fp:r,n:n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(e){return eC<e&&e<r.ORDER}function a(e){return el(e,n)}function l(e){return ef(e,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:d}=eL({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x),s=G;return n?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],a=e.subarray(1);if(t===i&&(2===n||3===n)){let e=z(a);if(!s(e))throw Error("Point is not on curve");let t=f(e),i=r.sqrt(t);return(1&n)==1!=((i&eN)===eN)&&(i=r.neg(i)),{x:e,y:i}}if(t===o&&4===n)return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),h=e=>F(W(e,t.nByteLength));function p(e){return e>n>>eN}function g(e){return p(e)?a(-e):e}let y=(e,t,r)=>z(e.slice(t,r));class m{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new m(y(e=K("compactSignature",e,2*r),0,r),y(e,r,2*r))}static fromDER(e){let{r:t,s:r}=ej.toSig(K("DER",e));return new m(t,r)}assertValidity(){if(!d(this.r))throw Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){let{r:n,s:i,recovery:o}=this,s=x(K("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw Error("recovery id invalid");let c=2===o||3===o?n+t.n:n;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let f=(1&o)==0?"02":"03",d=u.fromHex(f+h(c)),p=l(c),g=a(-s*p),y=a(i*p),m=u.BASE.multiplyAndAddUnsafe(d,g,y);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return H(this.toDERHex())}toDERHex(){return ej.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return H(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}let b={isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let e=eE(t.n);return e_(t.randomBytes(e),t.n)},precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function v(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)}function w(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof u}function E(e,t,r=!0){if(w(e))throw Error("first arg must be private key");if(!w(t))throw Error("second arg must be public key");return u.fromHex(t).multiply(c(e)).toRawBytes(r)}let _=t.bits2int||function(e){let r=z(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},x=t.bits2int_modN||function(e){return a(_(e))},R=Y(t.nBitLength);function S(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(eC<=e&&e<R))throw Error(`bigint expected < 2^${t.nBitLength}`);return W(e,t.nByteLength)}function O(e,n,i=P){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{hash:o,randomBytes:s}=t,{lowS:f,prehash:h,extraEntropy:y}=i;null==f&&(f=!0),e=K("msgHash",e),h&&(e=K("prehashed msgHash",o(e)));let b=x(e),v=c(n),w=[S(v),S(b)];if(null!=y){let e=!0===y?s(r.BYTES):y;w.push(K("extraEntropy",e))}let E=G(...w),R=b;return{seed:E,k2sig:function(e){let t=_(e);if(!d(t))return;let r=l(t),n=u.BASE.multiply(t).toAffine(),i=a(n.x);if(i===eC)return;let o=a(r*a(R+i*v));if(o===eC)return;let s=2*(n.x!==i)|Number(n.y&eN),c=o;return f&&p(o)&&(c=g(o),s^=1),new m(i,c,s)}}}let P={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};function k(e,r,n=P){let{seed:i,k2sig:o}=O(e,r,n),s=t;return X(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)}function T(e,r,n,i=A){let o,s;let c=e;if(r=K("msgHash",r),n=K("publicKey",n),"strict"in i)throw Error("options.strict was renamed to lowS");let{lowS:f,prehash:d}=i;try{if("string"==typeof c||c instanceof Uint8Array)try{s=m.fromDER(c)}catch(e){if(!(e instanceof ej.Err))throw e;s=m.fromCompact(c)}else if("object"==typeof c&&"bigint"==typeof c.r&&"bigint"==typeof c.s){let{r:e,s:t}=c;s=new m(e,t)}else throw Error("PARSE");o=u.fromHex(n)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(f&&s.hasHighS())return!1;d&&(r=t.hash(r));let{r:h,s:p}=s,g=x(r),y=l(p),b=a(g*y),v=a(h*y),w=u.BASE.multiplyAndAddUnsafe(o,b,v)?.toAffine();return!!w&&a(w.x)===h}return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:v,getSharedSecret:E,sign:k,verify:T,ProjectivePoint:u,Signature:m,utils:b}}function e$(e){return{hash:e,hmac:(t,...r)=>eR(e,t,x(...r)),randomBytes:O}}function eH(e,t){let r=t=>eF({...e,...e$(t)});return Object.freeze({...r(t),create:r})}let ez=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eq=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eW=BigInt(1),eV=BigInt(2),eK=(e,t)=>(e+t/eV)/t;function eG(e){let t=ez,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,f=ec(c,r,t)*c%t,d=ec(f,r,t)*c%t,h=ec(d,eV,t)*u%t,p=ec(h,i,t)*h%t,g=ec(p,o,t)*p%t,y=ec(g,a,t)*g%t,m=ec(y,l,t)*y%t,b=ec(m,a,t)*g%t,v=ec(b,r,t)*c%t,w=ec(v,s,t)*p%t,E=ec(w,n,t)*u%t,_=ec(E,eV,t);if(!eY.eql(eY.sqr(_),e))throw Error("Cannot find square root");return _}let eY=ev(ez,void 0,void 0,{sqrt:eG}),eJ=eH({a:BigInt(0),b:BigInt(7),Fp:eY,n:eq,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=eq,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-eW*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=eK(o*e,t),l=eK(-n*e,t),u=el(e-a*r-l*i,t),c=el(-a*n-l*o,t),f=u>s,d=c>s;if(f&&(u=t-u),d&&(c=t-c),u>s||c>s)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:c}}}},I),eZ=BigInt(0),eX=e=>"bigint"==typeof e&&eZ<e&&e<ez,eQ=e=>"bigint"==typeof e&&eZ<e&&e<eq,e0={};function e1(e,...t){let r=e0[e];if(void 0===r){let t=I(Uint8Array.from(e,e=>e.charCodeAt(0)));r=G(t,t),e0[e]=r}return I(G(r,...t))}let e2=e=>e.toRawBytes(!0).slice(1),e3=e=>W(e,32),e4=e=>el(e,ez),e8=e=>el(e,eq),e6=eJ.ProjectivePoint,e5=(e,t,r)=>e6.BASE.multiplyAndAddUnsafe(e,t,r);function e9(e){let t=eJ.utils.normPrivateKeyToScalar(e),r=e6.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:e8(-t),bytes:e2(r)}}function e7(e){if(!eX(e))throw Error("bad x: need 0 < x < p");let t=e4(e*e),r=eG(e4(t*e+BigInt(7)));r%eV!==eZ&&(r=e4(-r));let n=new e6(e,r,eW);return n.assertValidity(),n}function te(...e){return e8(z(e1("BIP0340/challenge",...e)))}function tt(e,t,r){let n=K("signature",e,64),i=K("message",t),o=K("publicKey",r,32);try{let e=e7(z(o)),t=z(n.subarray(0,32));if(!eX(t))return!1;let r=z(n.subarray(32,64));if(!eQ(r))return!1;let s=te(e3(t),e2(e),i),a=e5(e,r,e8(-s));if(!a||!a.hasEvenY()||a.toAffine().x!==t)return!1;return!0}catch(e){return!1}}let tr={getPublicKey:function e(e){return e9(e).bytes},sign:function e(t,r,n=O(32)){let i=K("message",t),{bytes:o,scalar:s}=e9(r),a=e3(s^z(e1("BIP0340/aux",K("auxRand",n,32)))),l=e8(z(e1("BIP0340/nonce",a,o,i)));if(l===eZ)throw Error("sign failed: k is zero");let{bytes:u,scalar:c}=e9(l),f=te(u,o,i),d=new Uint8Array(64);if(d.set(u,0),d.set(e3(e8(c+f*s)),32),!tt(d,i,o))throw Error("sign: Invalid signature produced");return d},verify:tt,utils:{randomPrivateKey:eJ.utils.randomPrivateKey,lift_x:e7,pointToBytes:e2,numberToBytesBE:W,bytesToNumberBE:z,taggedHash:e1,mod:el}},tn=y&&"object"==typeof y&&"webcrypto"in y?g.webcrypto:void 0,ti=e=>e instanceof Uint8Array,to=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ts=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");let ta=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tl(e){if(!ti(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=ta[e[r]];return t}function tu(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let n=2*t,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[t]=i}return r}function tc(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function tf(e){if("string"==typeof e&&(e=tc(e)),!ti(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}function td(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!ti(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}class th{clone(){return this._cloneInto()}}function tp(e){let t=t=>e().update(tf(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function tg(e=32){if(tn&&"function"==typeof tn.getRandomValues)return tn.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}function ty(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function tm(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function tb(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");ty(e.outputLen),ty(e.blockLen)}function tv(e,t){tm(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}let tw={number:ty,bytes:tm,hash:tb,exists:function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},output:tv};function tE(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>i&o),a=Number(r&o),l=4*!!n,u=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+u,a,n)}class t_ extends th{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=to(this.buffer)}update(e){tw.exists(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=tf(e)).length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let t=to(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tw.exists(this),tw.output(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;tE(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=to(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}let tx=(e,t,r)=>e&t^~e&r,tR=(e,t,r)=>e&t^e&r^t&r,tS=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),tO=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),tP=new Uint32Array(64);class tA extends t_{constructor(){super(64,32,8,!1),this.A=0|tO[0],this.B=0|tO[1],this.C=0|tO[2],this.D=0|tO[3],this.E=0|tO[4],this.F=0|tO[5],this.G=0|tO[6],this.H=0|tO[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)tP[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=tP[e-15],r=tP[e-2],n=ts(t,7)^ts(t,18)^t>>>3,i=ts(r,17)^ts(r,19)^r>>>10;tP[e]=i+tP[e-7]+n+tP[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(ts(s,6)^ts(s,11)^ts(s,25))+tx(s,a,l)+tS[e]+tP[e]|0,c=(ts(r,2)^ts(r,13)^ts(r,22))+tR(r,n,i)|0;u=l,l=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,a,l,u)}roundClean(){tP.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class tk extends tA{constructor(){super(),this.A=-0x3efa6128,this.B=0x367cd507,this.C=0x3070dd17,this.D=-0x8f1a6c7,this.E=-4191439,this.F=0x68581511,this.G=0x64f98fa7,this.H=-0x4105b05c,this.outputLen=28}}let tT=tp(()=>new tA);function tM(e){if(!Number.isSafeInteger(e))throw Error(`Wrong integer: ${e}`)}function tj(...e){let t=(e,t)=>r=>e(t(r));return{encode:Array.from(e).reverse().reduce((e,r)=>e?t(e,r.encode):r.encode,void 0),decode:e.reduce((e,r)=>e?t(e,r.decode):r.decode,void 0)}}function tC(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(tM(t),t<0||t>=e.length)throw Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw Error(`alphabet.decode: not string element=${t}`);let r=e.indexOf(t);if(-1===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function tN(e=""){if("string"!=typeof e)throw Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw Error("join.decode input should be string");return t.split(e)}}}function tI(e,t="="){if(tM(e),"string"!=typeof t)throw Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function tU(e){if("function"!=typeof e)throw Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function tD(e,t,r){if(t<2)throw Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw Error("convertRadix: data should be array");if(!e.length)return[];let n=0,i=[],o=Array.from(e);for(o.forEach(e=>{if(tM(e),e<0||e>=t)throw Error(`Wrong integer: ${e}`)});;){let e=0,s=!0;for(let i=n;i<o.length;i++){let a=o[i],l=t*e+a;if(!Number.isSafeInteger(l)||t*e/t!==e||l-a!=t*e||(e=l%r,o[i]=Math.floor(l/r),!Number.isSafeInteger(o[i])||o[i]*r+e!==l))throw Error("convertRadix: carry overflow");s&&(o[i]?s=!1:n=i)}if(i.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}tp(()=>new tk);let tL=(e,t)=>t?tL(t,e%t):e,tB=(e,t)=>e+(t-tL(e,t));function tF(e,t,r,n){if(!Array.isArray(e))throw Error("convertRadix2: data should be array");if(t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(tB(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${tB(t,r)}`);let i=0,o=0,s=2**r-1,a=[];for(let n of e){if(tM(n),n>=2**t)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,o+t>32)throw Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)a.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=t)throw Error("Excess padding");if(!n&&i)throw Error(`Non-zero padding: ${i}`);return n&&o>0&&a.push(i>>>0),a}function t$(e){return tM(e),{encode:t=>{if(!(t instanceof Uint8Array))throw Error("radix.encode input should be Uint8Array");return tD(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("radix.decode input should be array of strings");return Uint8Array.from(tD(t,e,256))}}}function tH(e,t=!1){if(tM(e),e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(tB(8,e)>32||tB(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw Error("radix2.encode input should be Uint8Array");return tF(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error("radix2.decode input should be array of strings");return Uint8Array.from(tF(r,e,8,t))}}}function tz(e){if("function"!=typeof e)throw Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}tj(tH(4),tC("0123456789ABCDEF"),tN("")),tj(tH(5),tC("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),tI(5),tN("")),tj(tH(5),tC("0123456789ABCDEFGHIJKLMNOPQRSTUV"),tI(5),tN("")),tj(tH(5),tC("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),tN(""),tU(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));let tq=tj(tH(6),tC("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),tI(6),tN(""));tj(tH(6),tC("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),tI(6),tN(""));let tW=e=>tj(t$(58),tC(e),tN(""));tW("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),tW("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),tW("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let tV=tj(tC("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),tN("")),tK=[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3];function tG(e){let t=e>>25,r=(0x1ffffff&e)<<5;for(let e=0;e<tK.length;e++)(t>>e&1)==1&&(r^=tK[e]);return r}function tY(e,t,r=1){let n=e.length,i=1;for(let t=0;t<n;t++){let r=e.charCodeAt(t);if(r<33||r>126)throw Error(`Invalid prefix (${e})`);i=tG(i)^r>>5}i=tG(i);for(let t=0;t<n;t++)i=tG(i)^31&e.charCodeAt(t);for(let e of t)i=tG(i)^e;for(let e=0;e<6;e++)i=tG(i);return i^=r,tV.encode(tF([i%0x40000000],30,5,!1))}function tJ(e){let t="bech32"===e?1:0x2bc830a3,r=tH(5),n=r.decode,i=r.encode,o=tz(n);function s(e,r,n=90){if("string"!=typeof e)throw Error(`bech32.encode prefix should be string, not ${typeof e}`);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error(`bech32.encode words should be array of numbers, not ${typeof r}`);let i=e.length+7+r.length;if(!1!==n&&i>n)throw TypeError(`Length ${i} exceeds limit ${n}`);return e=e.toLowerCase(),`${e}1${tV.encode(r)}${tY(e,r,t)}`}function a(e,r=90){if("string"!=typeof e)throw Error(`bech32.decode input should be string, not ${typeof e}`);if(e.length<8||!1!==r&&e.length>r)throw TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);let n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw Error("String must be lowercase or uppercase");let i=(e=n).lastIndexOf("1");if(0===i||-1===i)throw Error('Letter "1" must be present between prefix and data only');let o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw Error("Data must be at least 6 characters long");let l=tV.decode(s).slice(0,-6),u=tY(o,l,t);if(!s.endsWith(u))throw Error(`Invalid checksum in ${e}: expected "${u}"`);return{prefix:o,words:l}}let l=tz(a);function u(e){let{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}}return{encode:s,decode:a,decodeToBytes:u,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:o,toWords:i}}let tZ=tJ("bech32");tJ("bech32m"),tj(tH(4),tC("0123456789abcdef"),tN(""),tU(e=>{if("string"!=typeof e||e.length%2)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));var tX=r(3039),tQ=r(4319),t0=r(9010);class t1 extends th{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,tw.hash(e);let r=tf(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return tw.exists(this),this.iHash.update(e),this}digestInto(e){tw.exists(this),tw.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let t2=(e,t,r)=>new t1(e,t).update(r).digest();function t3(e,t,r){return tw.hash(e),void 0===r&&(r=new Uint8Array(e.outputLen)),t2(e,tf(r),tf(t))}t2.create=(e,t)=>new t1(e,t);let t4=new Uint8Array([0]),t8=new Uint8Array;function t6(e,t,r,n=32){if(tw.hash(e),tw.number(n),n>255*e.outputLen)throw Error("Length should be <= 255*HashLen");let i=Math.ceil(n/e.outputLen);void 0===r&&(r=t8);let o=new Uint8Array(i*e.outputLen),s=t2.create(e,t),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let t=0;t<i;t++)t4[0]=t+1,a.update(0===t?t8:l).update(r).update(t4).digestInto(l),o.set(l,e.outputLen*t),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),t4.fill(0),o.slice(0,n)}var t5=Object.defineProperty,t9=(e,t)=>{for(var r in t)t5(e,r,{get:t[r],enumerable:!0})},t7=Symbol("verified"),re=e=>e instanceof Object;function rt(e){if(!re(e)||"number"!=typeof e.kind||"string"!=typeof e.content||"number"!=typeof e.created_at||"string"!=typeof e.pubkey||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let r=e.tags[t];if(!Array.isArray(r))return!1;for(let e=0;e<r.length;e++)if("object"==typeof r[e])return!1}return!0}t9({},{Queue:()=>ru,QueueNode:()=>rl,binarySearch:()=>ra,insertEventIntoAscendingList:()=>rs,insertEventIntoDescendingList:()=>ro,normalizeURL:()=>ri,utf8Decoder:()=>rr,utf8Encoder:()=>rn});var rr=new TextDecoder("utf-8"),rn=new TextEncoder;function ri(e){-1===e.indexOf("://")&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function ro(e,t){let[r,n]=ra(e,e=>t.id===e.id?0:t.created_at===e.created_at?-1:e.created_at-t.created_at);return n||e.splice(r,0,t),e}function rs(e,t){let[r,n]=ra(e,e=>t.id===e.id?0:t.created_at===e.created_at?-1:t.created_at-e.created_at);return n||e.splice(r,0,t),e}function ra(e,t){let r=0,n=e.length-1;for(;r<=n;){let i=Math.floor((r+n)/2),o=t(e[i]);if(0===o)return[i,!0];o<0?n=i-1:r=i+1}return[r,!1]}var rl=class{value;next=null;prev=null;constructor(e){this.value=e}},ru=class{first;last;constructor(){this.first=null,this.last=null}enqueue(e){let t=new rl(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){let e=this.first;return this.first=null,this.last=null,e.value}let e=this.first;return this.first=e.next,e.value}};function rc(e){if(!rt(e))throw Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function rf(e){return tl(tT(rn.encode(rc(e))))}var rd=new class{generateSecretKey(){return tr.utils.randomPrivateKey()}getPublicKey(e){return tl(tr.getPublicKey(e))}finalizeEvent(e,t){let r=e;return r.pubkey=tl(tr.getPublicKey(t)),r.id=rf(r),r.sig=tl(tr.sign(rf(r),t)),r[t7]=!0,r}verifyEvent(e){if("boolean"==typeof e[t7])return e[t7];let t=rf(e);if(t!==e.id)return e[t7]=!1,!1;try{let r=tr.verify(e.sig,t,e.pubkey);return e[t7]=r,r}catch(t){return e[t7]=!1,!1}}},rh=rd.generateSecretKey,rp=rd.getPublicKey,rg=rd.finalizeEvent,ry=rd.verifyEvent;function rm(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function rb(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function rv(e){return 2e4<=e&&e<3e4}function rw(e){return 3e4<=e&&e<4e4}t9({},{Application:()=>nS,BadgeAward:()=>rj,BadgeDefinition:()=>nb,BlockedRelaysList:()=>r7,BookmarkList:()=>r6,Bookmarksets:()=>ng,Calendar:()=>nj,CalendarEventRSVP:()=>nC,ChannelCreation:()=>rU,ChannelHideMessage:()=>rB,ChannelMessage:()=>rL,ChannelMetadata:()=>rD,ChannelMuteUser:()=>rF,ClassifiedListing:()=>nA,ClientAuth:()=>na,CommunitiesList:()=>r5,CommunityDefinition:()=>nU,CommunityPostApproval:()=>rY,Contacts:()=>rP,CreateOrUpdateProduct:()=>nE,CreateOrUpdateStall:()=>nw,Curationsets:()=>ny,Date:()=>nT,DirectMessageRelaysList:()=>nn,DraftClassifiedListing:()=>nk,DraftLong:()=>nx,Emojisets:()=>nR,EncryptedDirectMessage:()=>rA,EventDeletion:()=>rk,FileMetadata:()=>rz,FileServerPreference:()=>ni,Followsets:()=>nd,GenericRepost:()=>rI,Genericlists:()=>nh,GiftWrap:()=>rH,HTTPAuth:()=>nf,Handlerinformation:()=>nI,Handlerrecommendation:()=>nN,Highlights:()=>r2,InterestsList:()=>nt,Interestsets:()=>nv,JobFeedback:()=>rX,JobRequest:()=>rJ,JobResult:()=>rZ,Label:()=>rG,LightningPubRPC:()=>ns,LiveChatMessage:()=>rq,LiveEvent:()=>nO,LongFormArticle:()=>n_,Metadata:()=>rR,Mutelist:()=>r3,NWCWalletInfo:()=>no,NWCWalletRequest:()=>nl,NWCWalletResponse:()=>nu,NostrConnect:()=>nc,OpenTimestamps:()=>r$,Pinlist:()=>r4,PrivateDirectMessage:()=>rN,ProblemTracker:()=>rW,ProfileBadges:()=>nm,PublicChatsList:()=>r9,Reaction:()=>rM,RecommendRelay:()=>rO,RelayList:()=>r8,Relaysets:()=>np,Report:()=>rV,Reporting:()=>rK,Repost:()=>rT,Seal:()=>rC,SearchRelaysList:()=>ne,ShortTextNote:()=>rS,Time:()=>nM,UserEmojiList:()=>nr,UserStatuses:()=>nP,Zap:()=>r1,ZapGoal:()=>rQ,ZapRequest:()=>r0,classifyKind:()=>r_,isAddressableKind:()=>rw,isEphemeralKind:()=>rv,isKind:()=>rx,isParameterizedReplaceableKind:()=>rE,isRegularKind:()=>rm,isReplaceableKind:()=>rb});var rE=rw;function r_(e){return rm(e)?"regular":rb(e)?"replaceable":rv(e)?"ephemeral":rw(e)?"parameterized":"unknown"}function rx(e,t){let r=t instanceof Array?t:[t];return rt(e)&&r.includes(e.kind)||!1}var rR=0,rS=1,rO=2,rP=3,rA=4,rk=5,rT=6,rM=7,rj=8,rC=13,rN=14,rI=16,rU=40,rD=41,rL=42,rB=43,rF=44,r$=1040,rH=1059,rz=1063,rq=1311,rW=1971,rV=1984,rK=1984,rG=1985,rY=4550,rJ=5999,rZ=6999,rX=7e3,rQ=9041,r0=9734,r1=9735,r2=9802,r3=1e4,r4=10001,r8=10002,r6=10003,r5=10004,r9=10005,r7=10006,ne=10007,nt=10015,nr=10030,nn=10050,ni=10096,no=13194,ns=21e3,na=22242,nl=23194,nu=23195,nc=24133,nf=27235,nd=3e4,nh=30001,np=30002,ng=30003,ny=30004,nm=30008,nb=30009,nv=30015,nw=30017,nE=30018,n_=30023,nx=30024,nR=30030,nS=30078,nO=30311,nP=30315,nA=30402,nk=30403,nT=31922,nM=31923,nj=31924,nC=31925,nN=31989,nI=31990,nU=34550;function nD(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)||e.kinds&&-1===e.kinds.indexOf(t.kind)||e.authors&&-1===e.authors.indexOf(t.pubkey))return!1;for(let r in e)if("#"===r[0]){let n=r.slice(1),i=e[`#${n}`];if(i&&!t.tags.find(([e,t])=>e===r.slice(1)&&-1!==i.indexOf(t)))return!1}return(!e.since||!(t.created_at<e.since))&&(!e.until||!(t.created_at>e.until))}function nL(e,t){for(let r=0;r<e.length;r++)if(nD(e[r],t))return!0;return!1}function nB(e,t){let r=t.length+3,n=e.indexOf(`"${t}":`)+r,i=e.slice(n).indexOf('"')+n+1;return e.slice(i,i+64)}function nF(e,t){let r=t.length,n=e.indexOf(`"${t}":`)+r+3,i=e.slice(n),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function n$(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let r=e.slice(t+7+1).indexOf('"');if(-1===r)return null;let n=t+7+1+r,i=e.slice(n+1,80).indexOf('"');if(-1===i)return null;let o=n+1+i;return e.slice(n+1,o)}function nH(e,t){return t===nB(e,"id")}function nz(e,t){return t===nB(e,"pubkey")}function nq(e,t){return t===nF(e,"kind")}function nW(e,t){return{kind:na,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function nV(){return new Promise(e=>{let t=new MessageChannel,r=()=>{t.port1.removeEventListener("message",r),e()};t.port1.addEventListener("message",r),t.port2.postMessage(0),t.port1.start()})}t9({},{getHex64:()=>nB,getInt:()=>nF,getSubscriptionId:()=>n$,matchEventId:()=>nH,matchEventKind:()=>nq,matchEventPubkey:()=>nz}),t9({},{makeAuthEvent:()=>nW});var nK=e=>(e[t7]=!0,!0),nG=class{url;_connected=!1;onclose=null;onnotice=e=>console.debug(`NOTICE from ${this.url}: ${e}`);_onauth=null;baseEoseTimeout=4400;connectionTimeout=4400;publishTimeout=4400;openSubs=new Map;connectionTimeoutHandle;connectionPromise;openCountRequests=new Map;openEventPublishes=new Map;ws;incomingMessageQueue=new ru;queueRunning=!1;challenge;serial=0;verifyEvent;_WebSocket;constructor(e,t){this.url=ri(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){let r=new nG(e,t);return await r.connect(),r}closeAllSubscriptions(e){for(let[t,r]of this.openSubs)r.close(e);for(let[t,r]of(this.openSubs.clear(),this.openEventPublishes))r.reject(Error(e));for(let[t,r]of(this.openEventPublishes.clear(),this.openCountRequests))r.reject(Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise||(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{t("connection timed out"),this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(e){t(e);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=e=>{t(e.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{this._connected&&(this._connected=!1,this.connectionPromise=void 0,this.onclose?.(),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)})),this.connectionPromise}async runQueue(){for(this.queueRunning=!0;!1!==this.handleNext();)await nV();this.queueRunning=!1}handleNext(){let e=this.incomingMessageQueue.dequeue();if(!e)return!1;let t=n$(e);if(t){let r=this.openSubs.get(t);if(!r)return;let n=nB(e,"id"),i=r.alreadyHaveEvent?.(n);if(r.receivedEvent?.(this,n),i)return}try{let t=JSON.parse(e);switch(t[0]){case"EVENT":{let e=this.openSubs.get(t[1]),r=t[2];this.verifyEvent(r)&&nL(e.filters,r)&&e.onevent(r);return}case"COUNT":{let e=t[1],r=t[2],n=this.openCountRequests.get(e);n&&(n.resolve(r.count),this.openCountRequests.delete(e));return}case"EOSE":{let e=this.openSubs.get(t[1]);if(!e)return;e.receivedEose();return}case"OK":{let e=t[1],r=t[2],n=t[3],i=this.openEventPublishes.get(e);i&&(clearTimeout(i.timeout),r?i.resolve(n):i.reject(Error(n)),this.openEventPublishes.delete(e));return}case"CLOSED":{let e=t[1],r=this.openSubs.get(e);if(!r)return;r.closed=!0,r.close(t[2]);return}case"NOTICE":this.onnotice(t[1]);return;case"AUTH":this.challenge=t[1],this._onauth?.(t[1]);return}}catch(e){return}}async send(e){if(!this.connectionPromise)throw Error("sending on closed connection");this.connectionPromise.then(()=>{this.ws?.send(e)})}async auth(e){if(!this.challenge)throw Error("can't perform auth, no challenge was received");let t=await e(nW(this.url,this.challenge)),r=new Promise((e,r)=>{let n=setTimeout(()=>{let e=this.openEventPublishes.get(t.id);e&&(e.reject(Error("auth timed out")),this.openEventPublishes.delete(t.id))},this.publishTimeout);this.openEventPublishes.set(t.id,{resolve:e,reject:r,timeout:n})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),r}async publish(e){let t=new Promise((t,r)=>{let n=setTimeout(()=>{let t=this.openEventPublishes.get(e.id);t&&(t.reject(Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:t,reject:r,timeout:n})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;let r=t?.id||"count:"+this.serial,n=new Promise((e,t)=>{this.openCountRequests.set(r,{resolve:e,reject:t})});return this.send('["COUNT","'+r+'",'+JSON.stringify(e).substring(1)),n}subscribe(e,t){let r=this.prepareSubscription(e,t);return r.fire(),r}prepareSubscription(e,t){this.serial++;let r=t.id||(t.label?t.label+":":"sub:")+this.serial,n=new nY(this,r,e,t);return this.openSubs.set(r,n),n}close(){this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,this.ws?.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},nY=class{relay;id;closed=!1;eosed=!1;filters;alreadyHaveEvent;receivedEvent;onevent;oneose;onclose;eoseTimeout;eoseTimeoutHandle;constructor(e,t,r,n){this.relay=e,this.filters=r,this.id=t,this.alreadyHaveEvent=n.alreadyHaveEvent,this.receivedEvent=n.receivedEvent,this.eoseTimeout=n.eoseTimeout||e.baseEoseTimeout,this.oneose=n.oneose,this.onclose=n.onclose,this.onevent=n.onevent||(e=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,e)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,this.oneose?.())}close(e="closed by caller"){!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),this.onclose?.(e)}};try{n=WebSocket}catch{}var nJ=class{relays=new Map;seenOn=new Map;trackRelays=!1;verifyEvent;trustedRelayURLs=new Set;_WebSocket;constructor(e){this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation}async ensureRelay(e,t){e=ri(e);let r=this.relays.get(e);return r||(r=new nG(e,{verifyEvent:this.trustedRelayURLs.has(e)?nK:this.verifyEvent,websocketImplementation:this._WebSocket}),t?.connectionTimeout&&(r.connectionTimeout=t.connectionTimeout),this.relays.set(e,r)),await r.connect(),r}close(e){e.map(ri).forEach(e=>{this.relays.get(e)?.close()})}subscribeMany(e,t,r){return this.subscribeManyMap(Object.fromEntries(e.map(e=>[e,t])),r)}subscribeManyMap(e,t){this.trackRelays&&(t.receivedEvent=(e,t)=>{let r=this.seenOn.get(t);r||(r=new Set,this.seenOn.set(t,r)),r.add(e)});let r=new Set,n=[],i=Object.keys(e).length,o=[],s=e=>{o[e]||(o[e]=!0,o.filter(e=>e).length!==i||(t.oneose?.(),s=()=>{}))},a=[],l=(e,r)=>{a[e]||(s(e),a[e]=r,a.filter(e=>e).length!==i||(t.onclose?.(a),l=()=>{}))},u=e=>{if(t.alreadyHaveEvent?.(e))return!0;let n=r.has(e);return r.add(e),n},c=Promise.all(Object.entries(e).map(async(e,r,i)=>{let o;if(i.indexOf(e)!==r){l(r,"duplicate url");return}let[a,c]=e;a=ri(a);try{o=await this.ensureRelay(a,{connectionTimeout:t.maxWait?Math.max(.8*t.maxWait,t.maxWait-1e3):void 0})}catch(e){l(r,e?.message||String(e));return}let f=o.subscribe(c,{...t,oneose:()=>s(r),onclose:e=>l(r,e),alreadyHaveEvent:u,eoseTimeout:t.maxWait});n.push(f)}));return{async close(){await c,n.forEach(e=>{e.close()})}}}subscribeManyEose(e,t,r){let n=this.subscribeMany(e,t,{...r,oneose(){n.close()}});return n}async querySync(e,t,r){return new Promise(async n=>{let i=[];this.subscribeManyEose(e,[t],{...r,onevent(e){i.push(e)},onclose(e){n(i)}})})}async get(e,t,r){t.limit=1;let n=await this.querySync(e,t,r);return n.sort((e,t)=>t.created_at-e.created_at),n[0]||null}publish(e,t){return e.map(ri).map(async(e,r,n)=>{if(n.indexOf(e)!==r)return Promise.reject("duplicate url");let i=await this.ensureRelay(e);return i.publish(t).then(e=>{if(this.trackRelays){let e=this.seenOn.get(t.id);e||(e=new Set,this.seenOn.set(t.id,e)),e.add(i)}return e})})}listConnectionStatus(){let e=new Map;return this.relays.forEach((t,r)=>e.set(r,t.connected)),e}destroy(){this.relays.forEach(e=>e.close()),this.relays=new Map}};try{i=WebSocket}catch{}var nZ=class extends nJ{constructor(){super({verifyEvent:ry,websocketImplementation:i})}},nX={};t9(nX,{BECH32_REGEX:()=>n1,Bech32MaxSize:()=>n0,NostrTypeGuard:()=>nQ,decode:()=>n4,decodeNostrURI:()=>n3,encodeBytes:()=>ie,naddrEncode:()=>ii,neventEncode:()=>ir,noteEncode:()=>n9,nprofileEncode:()=>it,npubEncode:()=>n5,nsecEncode:()=>n6});var nQ={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},n0=5e3,n1=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function n2(e){let t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t}function n3(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),n4(e)}catch(e){return{type:"invalid",data:null}}}function n4(e){let{prefix:t,words:r}=tZ.decode(e,n0),n=new Uint8Array(tZ.fromWords(r));switch(t){case"nprofile":{let e=n8(n);if(!e[0]?.[0])throw Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:tl(e[0][0]),relays:e[1]?e[1].map(e=>rr.decode(e)):[]}}}case"nevent":{let e=n8(n);if(!e[0]?.[0])throw Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw Error("TLV 2 should be 32 bytes");if(e[3]&&4!==e[3][0].length)throw Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:tl(e[0][0]),relays:e[1]?e[1].map(e=>rr.decode(e)):[],author:e[2]?.[0]?tl(e[2][0]):void 0,kind:e[3]?.[0]?parseInt(tl(e[3][0]),16):void 0}}}case"naddr":{let e=n8(n);if(!e[0]?.[0])throw Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:rr.decode(e[0][0]),pubkey:tl(e[2][0]),kind:parseInt(tl(e[3][0]),16),relays:e[1]?e[1].map(e=>rr.decode(e)):[]}}}case"nsec":return{type:t,data:n};case"npub":case"note":return{type:t,data:tl(n)};default:throw Error(`unknown prefix ${t}`)}}function n8(e){let t={},r=e;for(;r.length>0;){let e=r[0],n=r[1],i=r.slice(2,2+n);if(r=r.slice(2+n),i.length<n)throw Error(`not enough data to read on TLV ${e}`);t[e]=t[e]||[],t[e].push(i)}return t}function n6(e){return ie("nsec",e)}function n5(e){return ie("npub",tu(e))}function n9(e){return ie("note",tu(e))}function n7(e,t){let r=tZ.toWords(t);return tZ.encode(e,r,n0)}function ie(e,t){return n7(e,t)}function it(e){return n7("nprofile",io({0:[tu(e.pubkey)],1:(e.relays||[]).map(e=>rn.encode(e))}))}function ir(e){let t;return void 0!==e.kind&&(t=n2(e.kind)),n7("nevent",io({0:[tu(e.id)],1:(e.relays||[]).map(e=>rn.encode(e)),2:e.author?[tu(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function ii(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),n7("naddr",io({0:[rn.encode(e.identifier)],1:(e.relays||[]).map(e=>rn.encode(e)),2:[tu(e.pubkey)],3:[new Uint8Array(t)]}))}function io(e){let t=[];return Object.entries(e).reverse().forEach(([e,r])=>{r.forEach(r=>{let n=new Uint8Array(r.length+2);n.set([parseInt(e)],0),n.set([r.length],1),n.set(r,2),t.push(n)})}),td(...t)}var is={};async function ia(e,t,r){let n=e instanceof Uint8Array?tl(e):e,i=iu(eJ.getSharedSecret(n,"02"+t)),o=Uint8Array.from(tg(16)),s=rn.encode(r),a=(0,tX.zd)(i,o).encrypt(s),l=tq.encode(new Uint8Array(a)),u=tq.encode(new Uint8Array(o.buffer));return`${l}?iv=${u}`}async function il(e,t,r){let n=e instanceof Uint8Array?tl(e):e,[i,o]=r.split("?iv="),s=iu(eJ.getSharedSecret(n,"02"+t)),a=tq.decode(o),l=tq.decode(i),u=(0,tX.zd)(s,a).decrypt(l);return rr.decode(u)}function iu(e){return e.slice(1,33)}t9(is,{decrypt:()=>il,encrypt:()=>ia}),t9({},{NIP05_REGEX:()=>ic,isNip05:()=>id,isValid:()=>iy,queryProfile:()=>ig,searchDomain:()=>ip,useFetchImplementation:()=>ih});var ic=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,id=e=>ic.test(e||"");try{o=fetch}catch(e){}function ih(e){o=e}async function ip(e,t=""){try{let r=`https://${e}/.well-known/nostr.json?name=${t}`,n=await o(r,{redirect:"manual"});if(200!==n.status)throw Error("Wrong response code");return(await n.json()).names}catch(e){return{}}}async function ig(e){let t=e.match(ic);if(!t)return null;let[,r="_",n]=t;try{let e=`https://${n}/.well-known/nostr.json?name=${r}`,t=await o(e,{redirect:"manual"});if(200!==t.status)throw Error("Wrong response code");let i=await t.json(),s=i.names[r];return s?{pubkey:s,relays:i.relays?.[s]}:null}catch(e){return null}}async function iy(e,t){let r=await ig(t);return!!r&&r.pubkey===e}function im(e){let t,r;let n={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};for(let i=e.tags.length-1;i>=0;i--){let o=e.tags[i];if("e"===o[0]&&o[1]){let[e,i,s,a,l]=o,u={id:i,relays:s?[s]:[],author:l};if("root"===a){n.root=u;continue}if("reply"===a){n.reply=u;continue}if("mention"===a){n.mentions.push(u);continue}t?r=u:t=u,n.mentions.push(u);continue}if("q"===o[0]&&o[1]){let[e,t,r]=o;n.quotes.push({id:t,relays:r?[r]:[]})}if("p"===o[0]&&o[1]){n.profiles.push({pubkey:o[1],relays:o[2]?[o[2]]:[]});continue}}return n.root||(n.root=r||t||n.reply),n.reply||(n.reply=t||n.root),[n.reply,n.root].forEach(e=>{if(!e)return;let t=n.mentions.indexOf(e);if(-1!==t&&n.mentions.splice(t,1),e.author){let t=n.profiles.find(t=>t.pubkey===e.author);t&&t.relays&&(e.relays||(e.relays=[]),t.relays.forEach(t=>{e.relays?.indexOf(t)===-1&&e.relays.push(t)}),t.relays=e.relays)}}),n.mentions.forEach(e=>{if(e.author){let t=n.profiles.find(t=>t.pubkey===e.author);t&&t.relays&&(e.relays||(e.relays=[]),t.relays.forEach(t=>{-1===e.relays.indexOf(t)&&e.relays.push(t)}),t.relays=e.relays)}}),n}t9({},{parse:()=>im}),t9({},{fetchRelayInformation:()=>iv,useFetchImplementation:()=>ib});try{s=fetch}catch{}function ib(e){s=e}async function iv(e){return await (await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}function iw(e){let t=0;for(let r=0;r<64;r+=8){let n=parseInt(e.substring(r,r+8),16);if(0===n)t+=32;else{t+=Math.clz32(n);break}}return t}function iE(e,t){let r=0,n=e,i=["nonce","0",t.toString()];for(n.tags.push(i);;){let e=Math.floor(new Date().getTime()/1e3);if(e!==n.created_at&&(r=0,n.created_at=e),i[1]=(++r).toString(),n.id=i_(n),iw(n.id)>=t)break}return n}function i_(e){return tl(tT(rn.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}t9({},{fastEventHash:()=>i_,getPow:()=>iw,minePow:()=>iE}),t9({},{unwrapEvent:()=>iX,unwrapManyEvents:()=>iQ,wrapEvent:()=>iJ,wrapManyEvents:()=>iZ}),t9({},{createRumor:()=>iH,createSeal:()=>iz,createWrap:()=>iq,unwrapEvent:()=>iK,unwrapManyEvents:()=>iG,wrapEvent:()=>iW,wrapManyEvents:()=>iV}),t9({},{decrypt:()=>iN,encrypt:()=>iC,getConversationKey:()=>iS,v2:()=>iI});var ix=1,iR=65535;function iS(e,t){return t3(tT,eJ.getSharedSecret(e,"02"+t).subarray(1,33),"nip44-v2")}function iO(e,t){let r=t6(tT,e,t,76);return{chacha_key:r.subarray(0,32),chacha_nonce:r.subarray(32,44),hmac_key:r.subarray(44,76)}}function iP(e){if(!Number.isSafeInteger(e)||e<1)throw Error("expected positive integer");if(e<=32)return 32;let t=1<<Math.floor(Math.log2(e-1))+1,r=t<=256?32:t/8;return r*(Math.floor((e-1)/r)+1)}function iA(e){if(!Number.isSafeInteger(e)||e<ix||e>iR)throw Error("invalid plaintext size: must be between 1 and 65535 bytes");let t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function ik(e){let t=rn.encode(e),r=t.length;return td(iA(r),t,new Uint8Array(iP(r)-r))}function iT(e){let t=new DataView(e.buffer).getUint16(0),r=e.subarray(2,2+t);if(t<ix||t>iR||r.length!==t||e.length!==2+iP(t))throw Error("invalid padding");return rr.decode(r)}function iM(e,t,r){if(32!==r.length)throw Error("AAD associated data must be 32 bytes");return t2(tT,e,td(r,t))}function ij(e){let t;if("string"!=typeof e)throw Error("payload must be a valid string");let r=e.length;if(r<132||r>87472)throw Error("invalid payload length: "+r);if("#"===e[0])throw Error("unknown encryption version");try{t=tq.decode(e)}catch(e){throw Error("invalid base64: "+e.message)}let n=t.length;if(n<99||n>65603)throw Error("invalid data length: "+n);let i=t[0];if(2!==i)throw Error("unknown encryption version "+i);return{nonce:t.subarray(1,33),ciphertext:t.subarray(33,-32),mac:t.subarray(-32)}}function iC(e,t,r=tg(32)){let{chacha_key:n,chacha_nonce:i,hmac_key:o}=iO(t,r),s=ik(e),a=(0,tQ.vK)(n,i,s),l=iM(o,a,r);return tq.encode(td(new Uint8Array([2]),r,a,l))}function iN(e,t){let{nonce:r,ciphertext:n,mac:i}=ij(e),{chacha_key:o,chacha_nonce:s,hmac_key:a}=iO(t,r),l=iM(a,n,r);if(!(0,t0.ex)(l,i))throw Error("invalid MAC");return iT((0,tQ.vK)(o,s,n))}var iI={utils:{getConversationKey:iS,calcPaddedLen:iP},encrypt:iC,decrypt:iN},iU=172800,iD=()=>Math.round(Date.now()/1e3),iL=()=>Math.round(iD()-Math.random()*iU),iB=(e,t)=>iS(e,t),iF=(e,t,r)=>iC(JSON.stringify(e),iB(t,r)),i$=(e,t)=>JSON.parse(iN(e.content,iB(t,e.pubkey)));function iH(e,t){let r={created_at:iD(),content:"",tags:[],...e,pubkey:rp(t)};return r.id=rf(r),r}function iz(e,t,r){return rg({kind:rC,content:iF(e,t,r),created_at:iL(),tags:[]},t)}function iq(e,t){let r=rh();return rg({kind:rH,content:iF(e,r,t),created_at:iL(),tags:[["p",t]]},r)}function iW(e,t,r){return iq(iz(iH(e,t),t,r),r)}function iV(e,t,r){if(!r||0===r.length)throw Error("At least one recipient is required.");let n=rp(t),i=[iW(e,t,n)];return r.forEach(r=>{i.push(iW(e,t,r))}),i}function iK(e,t){let r=i$(e,t);return i$(r,t)}function iG(e,t){let r=[];return e.forEach(e=>{r.push(iK(e,t))}),r.sort((e,t)=>e.created_at-t.created_at),r}function iY(e,t,r,n){let i={created_at:Math.ceil(Date.now()/1e3),kind:rN,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:e,relayUrl:t})=>{i.tags.push(t?["p",e,t]:["p",e])}),n&&i.tags.push(["e",n.eventId,n.relayUrl||"","reply"]),r&&i.tags.push(["subject",r]),i}function iJ(e,t,r,n,i){return iW(iY(t,r,n,i),e,t.publicKey)}function iZ(e,t,r,n,i){if(!t||0===t.length)throw Error("At least one recipient is required.");return[{publicKey:rp(e)},...t].map(t=>iJ(e,t,r,n,i))}var iX=iK,iQ=iG;function i0(e,t,r,n){let i;let o=[...e.tags??[],["e",t.id,r],["p",t.pubkey]];return t.kind===rS?i=rT:(i=rI,o.push(["k",String(t.kind)])),rg({kind:i,tags:o,content:""===e.content||t.tags?.find(e=>"-"===e[0])?"":JSON.stringify(t),created_at:e.created_at},n)}function i1(e){let t,r;if([rT,rI].includes(e.kind)){for(let n=e.tags.length-1;n>=0&&(void 0===t||void 0===r);n--){let i=e.tags[n];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===r&&(r=i))}if(void 0!==t)return{id:t[1],relays:[t[2],r?.[2]].filter(e=>"string"==typeof e),author:r?.[1]}}}function i2(e,{skipVerification:t}={}){let r;let n=i1(e);if(void 0!==n&&""!==e.content){try{r=JSON.parse(e.content)}catch(e){return}if(r.id===n.id&&(t||ry(r)))return r}}t9({},{finishRepostEvent:()=>i0,getRepostedEvent:()=>i2,getRepostedEventPointer:()=>i1}),t9({},{NOSTR_URI_REGEX:()=>i3,parse:()=>i8,test:()=>i4});var i3=RegExp(`nostr:(${n1.source})`);function i4(e){return"string"==typeof e&&RegExp(`^${i3.source}$`).test(e)}function i8(e){let t=e.match(RegExp(`^${i3.source}$`));if(!t)throw Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:n4(t[1])}}function i6(e,t,r){let n=t.tags.filter(e=>e.length>=2&&("e"===e[0]||"p"===e[0]));return rg({...e,kind:rM,tags:[...e.tags??[],...n,["e",t.id],["p",t.pubkey]],content:e.content??"+"},r)}function i5(e){let t,r;if(e.kind===rM){for(let n=e.tags.length-1;n>=0&&(void 0===t||void 0===r);n--){let i=e.tags[n];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===r&&(r=i))}if(void 0!==t&&void 0!==r)return{id:t[1],relays:[t[2],r[2]].filter(e=>void 0!==e),author:r[1]}}}t9({},{finishReactionEvent:()=>i6,getReactedEventPointer:()=>i5}),t9({},{parse:()=>oe});var i9=/\W/m,i7=/\W |\W$|$|,| /m;function*oe(e){let t=e.length,r=0,n=0;for(;n<t;){let i=e.indexOf(":",n);if(-1===i)break;if("nostr"===e.substring(i-5,i)){let o=e.substring(i+60).match(i9),s=o?i+60+o.index:t;try{let t;let{data:o,type:a}=n4(e.substring(i+1,s));switch(a){case"npub":t={pubkey:o};break;case"nsec":case"note":n=s+1;continue;default:t=o}r!==i-5&&(yield{type:"text",text:e.substring(r,i-5)}),yield{type:"reference",pointer:t},r=n=s;continue}catch(e){n=i+1;continue}}else if("https"===e.substring(i-5,i)||"http"===e.substring(i-4,i)){let o=e.substring(i+4).match(i7),s=o?i+4+o.index:t,a="s"===e[i-1]?5:4;try{let t=new URL(e.substring(i-a,s));if(-1===t.hostname.indexOf("."))throw Error("invalid url");if(r!==i-a&&(yield{type:"text",text:e.substring(r,i-a)}),t.pathname.endsWith(".png")||t.pathname.endsWith(".jpg")||t.pathname.endsWith(".jpeg")||t.pathname.endsWith(".gif")||t.pathname.endsWith(".webp")){yield{type:"image",url:t.toString()},r=n=s;continue}if(t.pathname.endsWith(".mp4")||t.pathname.endsWith(".avi")||t.pathname.endsWith(".webm")||t.pathname.endsWith(".mkv")){yield{type:"video",url:t.toString()},r=n=s;continue}if(t.pathname.endsWith(".mp3")||t.pathname.endsWith(".aac")||t.pathname.endsWith(".ogg")||t.pathname.endsWith(".opus")){yield{type:"audio",url:t.toString()},r=n=s;continue}yield{type:"url",url:t.toString()},r=n=s;continue}catch(e){n=s+1;continue}}else if("wss"===e.substring(i-3,i)||"ws"===e.substring(i-2,i)){let o=e.substring(i+4).match(i7),s=o?i+4+o.index:t,a="s"===e[i-1]?3:2;try{let t=new URL(e.substring(i-a,s));if(-1===t.hostname.indexOf("."))throw Error("invalid ws url");r!==i-a&&(yield{type:"text",text:e.substring(r,i-a)}),yield{type:"relay",url:t.toString()},r=n=s;continue}catch(e){n=s+1;continue}}else{n=i+1;continue}}r!==t&&(yield{type:"text",text:e.substring(r)})}t9({},{channelCreateEvent:()=>ot,channelHideMessageEvent:()=>oi,channelMessageEvent:()=>on,channelMetadataEvent:()=>or,channelMuteUserEvent:()=>oo});var ot=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return rg({kind:rU,tags:[...e.tags??[]],content:r,created_at:e.created_at},t)},or=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return rg({kind:rD,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:r,created_at:e.created_at},t)},on=(e,t)=>{let r=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&r.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),rg({kind:rL,tags:[...r,...e.tags??[]],content:e.content,created_at:e.created_at},t)},oi=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return rg({kind:rB,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:r,created_at:e.created_at},t)},oo=(e,t)=>{let r;if("object"==typeof e.content)r=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;r=e.content}return rg({kind:rF,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:r,created_at:e.created_at},t)};t9({},{EMOJI_SHORTCODE_REGEX:()=>os,matchAll:()=>ol,regex:()=>oa,replaceAll:()=>ou});var os=/:(\w+):/,oa=()=>RegExp(`\\B${os.source}\\B`,"g");function*ol(e){for(let t of e.matchAll(oa()))try{let[e,r]=t;yield{shortcode:e,name:r,start:t.index,end:t.index+e.length}}catch(e){}}function ou(e,t){return e.replaceAll(oa(),(e,r)=>t({shortcode:e,name:r}))}t9({},{useFetchImplementation:()=>oc,validateGithub:()=>of});try{a=fetch}catch{}function oc(e){a=e}async function of(e,t,r){try{return await (await a(`https://gist.github.com/${t}/${r}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch(e){return!1}}function od(e){let{pathname:t,searchParams:r}=new URL(e),n=t,i=r.get("relay"),o=r.get("secret");if(!n||!i||!o)throw Error("invalid connection string");return{pubkey:n,relay:i,secret:o}}async function oh(e,t,r){let n={method:"pay_invoice",params:{invoice:r}},i=await ia(t,e,JSON.stringify(n));return rg({kind:nl,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]},t)}function op(e){return Array.from(e=(e=e.trim().toLowerCase()).normalize("NFKC")).map(e=>/\p{Letter}/u.test(e)||/\p{Number}/u.test(e)?e:"-").join("")}t9({},{makeNwcRequestEvent:()=>oh,parseConnectionString:()=>od}),t9({},{normalizeIdentifier:()=>op}),t9({},{getZapEndpoint:()=>oy,makeZapReceipt:()=>ov,makeZapRequest:()=>om,useFetchImplementation:()=>og,validateZapRequest:()=>ob});try{l=fetch}catch{}function og(e){l=e}async function oy(e){try{let t="",{lud06:r,lud16:n}=JSON.parse(e.content);if(r){let{words:e}=tZ.decode(r,1e3),n=tZ.fromWords(e);t=rr.decode(n)}else{if(!n)return null;let[e,r]=n.split("@");t=new URL(`/.well-known/lnurlp/${e}`,`https://${r}`).toString()}let i=await l(t),o=await i.json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch(e){}return null}function om({profile:e,event:t,amount:r,relays:n,comment:i=""}){if(!r)throw Error("amount not given");if(!e)throw Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",r.toString()],["relays",...n]]};if(t&&"string"==typeof t&&o.tags.push(["e",t]),t&&"object"==typeof t){if(rb(t.kind)){let e=["a",`${t.kind}:${t.pubkey}:`];o.tags.push(e)}else if(rw(t.kind)){let e=t.tags.find(([e,t])=>"d"===e&&t);if(!e)throw Error("d tag not found or is empty");let r=["a",`${t.kind}:${t.pubkey}:${e[1]}`];o.tags.push(r)}}return o}function ob(e){let t;try{t=JSON.parse(e)}catch(e){return"Invalid zap request JSON."}if(!rt(t))return"Zap request is not a valid Nostr event.";if(!ry(t))return"Invalid signature on zap request.";let r=t.tags.find(([e,t])=>"p"===e&&t);if(!r)return"Zap request doesn't have a 'p' tag.";if(!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let n=t.tags.find(([e,t])=>"e"===e&&t);return n&&!n[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([e,t])=>"relays"===e&&t)?null:"Zap request doesn't have a 'relays' tag."}function ov({zapRequest:e,preimage:t,bolt11:r,paidAt:n}){let i=JSON.parse(e),o=i.tags.filter(([e])=>"e"===e||"p"===e||"a"===e),s={kind:9735,created_at:Math.round(n.getTime()/1e3),content:"",tags:[...o,["P",i.pubkey],["bolt11",r],["description",e]]};return t&&s.tags.push(["preimage",t]),s}t9({},{getToken:()=>oE,hashPayload:()=>oA,unpackEventFromToken:()=>ox,validateEvent:()=>oT,validateEventKind:()=>oS,validateEventMethodTag:()=>oP,validateEventPayloadTag:()=>ok,validateEventTimestamp:()=>oR,validateEventUrlTag:()=>oO,validateToken:()=>o_});var ow="Nostr ";async function oE(e,t,r,n=!1,i){let o={kind:nf,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};i&&o.tags.push(["payload",oA(i)]);let s=await r(o);return(n?ow:"")+tq.encode(rn.encode(JSON.stringify(s)))}async function o_(e,t,r){let n=await ox(e).catch(e=>{throw e});return await oT(n,t,r).catch(e=>{throw e})}async function ox(e){if(!e)throw Error("Missing token");e=e.replace(ow,"");let t=rr.decode(tq.decode(e));if(!t||0===t.length||!t.startsWith("{"))throw Error("Invalid token");return JSON.parse(t)}function oR(e){return!!e.created_at&&Math.round(new Date().getTime()/1e3)-e.created_at<60}function oS(e){return e.kind===nf}function oO(e,t){let r=e.tags.find(e=>"u"===e[0]);return!!r&&r.length>0&&r[1]===t}function oP(e,t){let r=e.tags.find(e=>"method"===e[0]);return!!r&&r.length>0&&r[1].toLowerCase()===t.toLowerCase()}function oA(e){return tl(tT(rn.encode(JSON.stringify(e))))}function ok(e,t){let r=e.tags.find(e=>"payload"===e[0]);if(!r)return!1;let n=oA(t);return r.length>0&&r[1]===n}async function oT(e,t,r,n){if(!ry(e))throw Error("Invalid nostr event, signature invalid");if(!oS(e))throw Error("Invalid nostr event, kind invalid");if(!oR(e))throw Error("Invalid nostr event, created_at timestamp invalid");if(!oO(e,t))throw Error("Invalid nostr event, url tag invalid");if(!oP(e,r))throw Error("Invalid nostr event, method tag invalid");if(n&&"object"==typeof n&&Object.keys(n).length>0&&!ok(e,n))throw Error("Invalid nostr event, payload tag does not match request body hash");return!0}},6577:(e,t,r)=>{let{createProxy:n}=r(9844);e.exports=n("/home/lfg/Git/Madtrips/node_modules/next/dist/client/components/metadata/metadata-boundary.js")},6632:(e,t,r)=>{function n(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function o(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function s(){try{return localStorage}catch(e){}}t.formatArgs=function t(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=i,t.load=o,t.useColors=n,t.storage=s(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(6211)(t);let{formatters:a}=e.exports;a.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},6715:(e,t)=>{"use strict";function r(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;for(let[r,i]of Object.entries(e))if(Array.isArray(i))for(let e of i)t.append(r,n(e));else t.set(r,n(i));return t}function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,n]of t.entries())e.append(r,n)}return e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{assign:function(){return o},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return i}})},6719:(e,t)=>{"use strict";function r(e,t){if(void 0===t&&(t={}),t.onlyHashChange){e();return}let r=document.documentElement,n=r.style.scrollBehavior;r.style.scrollBehavior="auto",t.dontForceLayout||r.getClientRects(),e(),r.style.scrollBehavior=n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"handleSmoothScroll",{enumerable:!0,get:function(){return r}})},6736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hasBasePath",{enumerable:!0,get:function(){return o}});let n=r(2255),i="";function o(e){return(0,n.pathHasPrefix)(e,i)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"applyRouterStatePatchToTree",{enumerable:!0,get:function(){return l}});let n=r(3913),i=r(4007),o=r(4077),s=r(2308);function a(e,t){let[r,i]=e,[s,l]=t;if(s===n.DEFAULT_SEGMENT_KEY&&r!==n.DEFAULT_SEGMENT_KEY)return e;if((0,o.matchSegment)(r,s)){let t={};for(let e in i)void 0!==l[e]?t[e]=a(i[e],l[e]):t[e]=i[e];for(let e in l)!t[e]&&(t[e]=l[e]);let n=[r,t];return e[2]&&(n[2]=e[2]),e[3]&&(n[3]=e[3]),e[4]&&(n[4]=e[4]),n}return t}function l(e,t,r,n){let u;let[c,f,d,h,p]=t;if(1===e.length){let e=a(t,r);return(0,s.addRefreshMarkerToActiveParallelSegments)(e,n),e}let[g,y]=e;if(!(0,o.matchSegment)(g,c))return null;if(2===e.length)u=a(f[y],r);else if(null===(u=l((0,i.getNextFlightSegmentPath)(e),f[y],r,n)))return null;let m=[e[0],{...f,[y]:u},d,h];return p&&(m[4]=!0),(0,s.addRefreshMarkerToActiveParallelSegments)(m,n),m}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6844:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("Taint can only be used with the taint flag."),"__NEXT_ERROR_CODE",{value:"E354",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{taintObjectReference:function(){return i},taintUniqueValue:function(){return o}}),r(1120);let i=n,o=n},6875:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return s},getRedirectStatusCodeFromError:function(){return f},getRedirectTypeFromError:function(){return c},getURLFromRedirectError:function(){return u},permanentRedirect:function(){return l},redirect:function(){return a}});let n=r(7974),i=r(7860),o=r(9121).actionAsyncStorage;function s(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let o=Object.defineProperty(Error(i.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return o.digest=i.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",o}function a(e,t){var r;throw null!=t||(t=(null==o?void 0:null==(r=o.getStore())?void 0:r.isAction)?i.RedirectType.push:i.RedirectType.replace),s(e,t,n.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=i.RedirectType.replace),s(e,t,n.RedirectStatusCode.PermanentRedirect)}function u(e){return(0,i.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function c(e){if(!(0,i.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function f(e){if(!(0,i.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return u}});let n=o(r(1120));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}let s={current:null},a="function"==typeof n.cache?n.cache:e=>e,l=console.warn;function u(e){return function(...t){l(e(...t))}}a(e=>{try{l(s.current)}finally{s.current=null}})},6928:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"applyFlightData",{enumerable:!0,get:function(){return o}});let n=r(1500),i=r(3898);function o(e,t,r,o){let{tree:s,seedData:a,head:l,isRootRender:u}=r;if(null===a)return!1;if(u){let r=a[1];t.loading=a[3],t.rsc=r,t.prefetchRsc=null,(0,n.fillLazyItemsTillLeafWithHead)(t,e,s,a,l,o)}else t.rsc=e.rsc,t.prefetchRsc=e.prefetchRsc,t.parallelRoutes=new Map(e.parallelRoutes),t.loading=e.loading,(0,i.fillCacheWithNewSubTreeData)(t,e,r,o);return!0}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AppRouterAnnouncer",{enumerable:!0,get:function(){return l}});let n=r(3210),i=r(1215),o="next-route-announcer",s="__next-route-announcer__";function a(){var e;let t=document.getElementsByName(o)[0];if(null==t?void 0:null==(e=t.shadowRoot)?void 0:e.childNodes[0])return t.shadowRoot.childNodes[0];{let e=document.createElement(o);e.style.cssText="position:absolute";let t=document.createElement("div");return t.ariaLive="assertive",t.id=s,t.role="alert",t.style.cssText="position:absolute;border:0;height:1px;margin:-1px;padding:0;width:1px;clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;word-wrap:normal",e.attachShadow({mode:"open"}).appendChild(t),document.body.appendChild(e),t}}function l(e){let{tree:t}=e,[r,s]=(0,n.useState)(null);(0,n.useEffect)(()=>(s(a()),()=>{let e=document.getElementsByTagName(o)[0];(null==e?void 0:e.isConnected)&&document.body.removeChild(e)}),[]);let[l,u]=(0,n.useState)(""),c=(0,n.useRef)(void 0);return(0,n.useEffect)(()=>{let e="";if(document.title)e=document.title;else{let t=document.querySelector("h1");t&&(e=t.innerText||t.textContent||"")}void 0!==c.current&&c.current!==e&&u(e),c.current=e},[t]),r?(0,i.createPortal)(l,r):null}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7086:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectBoundary:function(){return f},RedirectErrorBoundary:function(){return c}});let n=r(740),i=r(687),o=n._(r(3210)),s=r(5773),a=r(6875),l=r(7860);function u(e){let{redirect:t,reset:r,redirectType:n}=e,i=(0,s.useRouter)();return(0,o.useEffect)(()=>{o.default.startTransition(()=>{n===l.RedirectType.push?i.push(t,{}):i.replace(t,{}),r()})},[t,n,r,i]),null}class c extends o.default.Component{static getDerivedStateFromError(e){if((0,l.isRedirectError)(e))return{redirect:(0,a.getURLFromRedirectError)(e),redirectType:(0,a.getRedirectTypeFromError)(e)};throw e}render(){let{redirect:e,redirectType:t}=this.state;return null!==e&&null!==t?(0,i.jsx)(u,{redirect:e,redirectType:t,reset:()=>this.setState({redirect:null})}):this.props.children}constructor(e){super(e),this.state={redirect:null,redirectType:null}}}function f(e){let{children:t}=e,r=(0,s.useRouter)();return(0,i.jsx)(c,{router:r,children:t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(740),i=r(687),o=n._(r(3210)),s=r(2142);function a(){let e=(0,o.useContext)(s.TemplateContext);return(0,i.jsx)(i.Fragment,{children:e})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{resolveIcon:function(){return s},resolveIcons:function(){return a}});let n=r(7341),i=r(6258),o=r(4871);function s(e){return(0,i.isStringOrURL)(e)?{url:e}:(Array.isArray(e),e)}let a=e=>{if(!e)return null;let t={icon:[],apple:[]};if(Array.isArray(e))t.icon=e.map(s).filter(Boolean);else if((0,i.isStringOrURL)(e))t.icon=[s(e)];else for(let r of o.IconKeys){let i=(0,n.resolveAsArrayOrUndefined)(e[r]);i&&(t[r]=i.map(s))}return t}},7188:function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskCollection=void 0;var i=r(6421),o=r(8624);function s(e,t){var r,n=this.length;if(n>1)t?((r=this._tasks).push.apply(r,arguments),this.length+=arguments.length):(this._tasks.push(e),this.length++);else if(t){if(1===n){var i=Array(1+arguments.length);i.push(i),i.push.apply(i,arguments),this._tasks=i}else{var i=Array(arguments.length);i.push.apply(i,arguments),this._tasks=i}this.length+=arguments.length}else 1===n?this._tasks=[this._tasks,e]:this._tasks=e,this.length++}function a(e,t){var r,n=this.length;if(n>1)t?((r=this._tasks).push.apply(r,arguments),this.length+=arguments.length):(this._tasks.push(e),this.length++);else if(t){if(1===n){var i=Array(1+arguments.length);i.push(i),i.push.apply(i,arguments),this._tasks=i}else{var i=Array(arguments.length);i.push.apply(i,arguments),this._tasks=i}this.length+=arguments.length}else 1===n?this._tasks=[this._tasks,e]:this._tasks=e,this.length++;this.firstEmitBuildStrategy?this.call=p:this.rebuild()}function l(e){0!==this.length&&(1===this.length?this._tasks===e&&(this.length=0):((0,i._fast_remove_single)(this._tasks,this._tasks.lastIndexOf(e)),1===this._tasks.length?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length))}function u(e){if(0!==this.length){if(1===this.length){if(this._tasks===e&&(this.length=0),this.firstEmitBuildStrategy){this.call=o.BAKED_EMPTY_FUNC;return}this.rebuild();return}(0,i._fast_remove_single)(this._tasks,this._tasks.lastIndexOf(e)),1===this._tasks.length?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length,this.firstEmitBuildStrategy?this.call=p:this.rebuild()}}function c(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];0===this.length?(this._tasks=r,this.length=1):(1===this.length?(r.unshift(this._tasks),this._tasks=r):(t=this._tasks).splice.apply(t,n([e,0],r,!1)),this.length=this._tasks.length)}function f(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];0===this.length?(this._tasks=r,this.length=1):(1===this.length?(r.unshift(this._tasks),this._tasks=r):(t=this._tasks).splice.apply(t,n([e,0],r,!1)),this.length=this._tasks.length),this.firstEmitBuildStrategy?this.call=p:this.rebuild()}function d(){0===this.length?this.call=o.BAKED_EMPTY_FUNC:1===this.length?this.call=this._tasks:this.call=(0,o.bakeCollection)(this._tasks,this.argsNum)}function h(){0===this.length?this.call=o.BAKED_EMPTY_FUNC:1===this.length?this.call=this._tasks:this.call=(0,o.bakeCollectionAwait)(this._tasks,this.argsNum)}function p(){this.rebuild(),this.call.apply(void 0,arguments)}var g=function(){return function(e,t,r,n){void 0===t&&(t=!0),void 0===r&&(r=null),void 0===n&&(n=!1),this.awaitTasks=n,this.call=o.BAKED_EMPTY_FUNC,this.argsNum=e,this.firstEmitBuildStrategy=!0,n?this.rebuild=h.bind(this):this.rebuild=d.bind(this),this.setAutoRebuild(t),r?"function"==typeof r?(this._tasks=r,this.length=1):(this._tasks=r,this.length=r.length):(this._tasks=null,this.length=0),t&&this.rebuild()}}();function y(){this._tasks=null,this.length=0,this.call=o.BAKED_EMPTY_FUNC}function m(){this._tasks=null,this.length=0,this.call=o.BAKED_EMPTY_FUNC}function b(e){this.argsNum<e&&(this.argsNum=e,this.firstEmitBuildStrategy?this.call=p:this.rebuild())}function v(e){e?(this.push=a.bind(this),this.insert=f.bind(this),this.removeLast=u.bind(this)):(this.push=s.bind(this),this.insert=c.bind(this),this.removeLast=l.bind(this))}function w(){return 0===this.length?[]:1===this.length?[this._tasks]:this._tasks}function E(e){0===e.length?(this.length=0,this.call=o.BAKED_EMPTY_FUNC):1===e.length?(this.length=1,this.call=e[0],this._tasks=e[0]):(this.length=e.length,this._tasks=e,this.firstEmitBuildStrategy?this.call=p:this.rebuild())}t.TaskCollection=g,g.prototype.fastClear=y,g.prototype.clear=m,g.prototype.growArgsNum=b,g.prototype.setAutoRebuild=v,g.prototype.tasksAsArray=w,g.prototype.setTasks=E},7308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatServerError:function(){return o},getStackWithoutErrorMessage:function(){return i}});let r=["useDeferredValue","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useReducer","useRef","useState","useSyncExternalStore","useTransition","experimental_useOptimistic","useOptimistic"];function n(e,t){if(e.message=t,e.stack){let r=e.stack.split("\n");r[0]=t,e.stack=r.join("\n")}}function i(e){let t=e.stack;return t?t.replace(/^[^\n]*\n/,""):""}function o(e){if("string"==typeof(null==e?void 0:e.message)){if(e.message.includes("Class extends value undefined is not a constructor or null")){let t="This might be caused by a React Class Component being rendered in a Server Component, React Class Components only works in Client Components. Read more: https://nextjs.org/docs/messages/class-component-in-server-component";if(e.message.includes(t))return;n(e,`${e.message}

${t}`);return}if(e.message.includes("createContext is not a function")){n(e,'createContext only works in Client Components. Add the "use client" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/context-in-server-component');return}for(let t of r)if(RegExp(`\\b${t}\\b.*is not a function`).test(e.message)){n(e,`${t} only works in Client Components. Add the "use client" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/react-client-hook-in-server-component`);return}}}},7341:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?e:[e]}function n(e){if(null!=e)return r(e)}function i(e){let t;if("string"==typeof e)try{t=(e=new URL(e)).origin}catch{}return t}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getOrigin:function(){return i},resolveArray:function(){return r},resolveAsArrayOrUndefined:function(){return n}})},7359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isFullStringUrl:function(){return o},parseUrl:function(){return s},stripNextRscUnionQuery:function(){return a}});let n=r(9977),i="http://n";function o(e){return/https?:\/\//.test(e)}function s(e){let t;try{t=new URL(e,i)}catch{}return t}function a(e){let t=new URL(e,i);return t.searchParams.delete(n.NEXT_RSC_UNION_QUERY),t.pathname+t.search}},7373:(e,t)=>{"use strict";function r(e,t){return e?e.replace(/%s/g,t):t}function n(e,t){let n;let i="string"!=typeof e&&e&&"template"in e?e.template:null;return("string"==typeof e?n=r(t,e):e&&("default"in e&&(n=r(t,e.default)),"absolute"in e&&e.absolute&&(n=e.absolute)),e&&"string"!=typeof e)?{template:i,absolute:n||""}:{absolute:n||e||"",template:i}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveTitle",{enumerable:!0,get:function(){return n}})},7388:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7391:(e,t)=>{"use strict";function r(e,t){return void 0===t&&(t=!0),e.pathname+e.search+(t?e.hash:"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createHrefFromUrl",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(7413),i=r(1765);function o(){return(0,n.jsx)(i.HTTPAccessErrorFallback,{status:404,message:"This page could not be found."})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7413:(e,t,r)=>{"use strict";e.exports=r(5239).vendored["react-rsc"].ReactJsxRuntime},7464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"clearCacheNodeDataForSegmentPath",{enumerable:!0,get:function(){return o}});let n=r(4007),i=r(3123);function o(e,t,r){let s=r.length<=2,[a,l]=r,u=(0,i.createRouterCacheKey)(l),c=t.parallelRoutes.get(a),f=e.parallelRoutes.get(a);f&&f!==c||(f=new Map(c),e.parallelRoutes.set(a,f));let d=null==c?void 0:c.get(u),h=f.get(u);if(s){h&&h.lazyData&&h!==d||f.set(u,{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null});return}if(!h||!d){h||f.set(u,{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null});return}return h===d&&(h={lazyData:h.lazyData,rsc:h.rsc,prefetchRsc:h.prefetchRsc,head:h.head,prefetchHead:h.prefetchHead,parallelRoutes:new Map(h.parallelRoutes),loading:h.loading},f.set(u,h)),o(h,d,(0,n.getNextFlightSegmentPath)(r))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7697:(e,t)=>{"use strict";function r(){return{width:"device-width",initialScale:1,themeColor:null,colorScheme:null}}function n(){return{viewport:null,themeColor:null,colorScheme:null,metadataBase:null,title:null,description:null,applicationName:null,authors:null,generator:null,keywords:null,referrer:null,creator:null,publisher:null,robots:null,manifest:null,alternates:{canonical:null,languages:null,media:null,types:null},icons:null,openGraph:null,twitter:null,verification:{},appleWebApp:null,formatDetection:null,itunes:null,facebook:null,abstract:null,appLinks:null,archives:null,assets:null,bookmarks:null,category:null,classification:null,pagination:{previous:null,next:null},other:{}}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createDefaultMetadata:function(){return n},createDefaultViewport:function(){return r}})},7755:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(3210),i=!0,o=()=>{},s=()=>{};function a(e){let{headManager:t,reduceComponentsToState:r}=e;function a(){if(t&&t.mountedInstances){let i=n.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(i,e))}}if(i){var l;null==t||null==(l=t.mountedInstances)||l.add(e.children),a()}return o(()=>{var r;return null==t||null==(r=t.mountedInstances)||r.add(e.children),()=>{var r;null==t||null==(r=t.mountedInstances)||r.delete(e.children)}}),o(()=>(t&&(t._pendingUpdate=a),()=>{t&&(t._pendingUpdate=a)})),s(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},7797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{StaticGenBailoutError:function(){return n},isStaticGenBailoutError:function(){return i}});let r="NEXT_STATIC_GEN_BAILOUT";class n extends Error{constructor(...e){super(...e),this.code=r}}function i(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7802:e=>{var t=1e3,r=6e4,n=36e5,i=864e5,o=6048e5,s=315576e5;function a(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var l=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*o;case"days":case"day":case"d":return l*i;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*r;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function l(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}function u(e){var o=Math.abs(e);return o>=i?c(e,o,i,"day"):o>=n?c(e,o,n,"hour"):o>=r?c(e,o,r,"minute"):o>=t?c(e,o,t,"second"):e+" ms"}function c(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return a(e);if("number"===r&&isFinite(e))return t.long?u(e):l(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serverActionReducer",{enumerable:!0,get:function(){return k}});let n=r(1264),i=r(1448),o=r(1563),s=r(9154),a=r(6361),l=r(7391),u=r(5232),c=r(6770),f=r(2030),d=r(9435),h=r(1500),p=r(9752),g=r(8214),y=r(6493),m=r(2308),b=r(4007),v=r(6875),w=r(7860),E=r(5334),_=r(5942),x=r(6736),R=r(4642);r(593);let{createFromFetch:S,createTemporaryReferenceSet:O,encodeReply:P}=r(9357);async function A(e,t,r){let s,l,{actionId:u,actionArgs:c}=r,f=O(),d=(0,R.extractInfoFromServerReferenceId)(u),h="use-cache"===d.type?(0,R.omitUnusedArgs)(c,d):c,p=await P(h,{temporaryReferences:f}),g=await fetch("",{method:"POST",headers:{Accept:o.RSC_CONTENT_TYPE_HEADER,[o.ACTION_HEADER]:u,[o.NEXT_ROUTER_STATE_TREE_HEADER]:encodeURIComponent(JSON.stringify(e.tree)),...t?{[o.NEXT_URL]:t}:{}},body:p}),y=g.headers.get("x-action-redirect"),[m,v]=(null==y?void 0:y.split(";"))||[];switch(v){case"push":s=w.RedirectType.push;break;case"replace":s=w.RedirectType.replace;break;default:s=void 0}let E=!!g.headers.get(o.NEXT_IS_PRERENDER_HEADER);try{let e=JSON.parse(g.headers.get("x-action-revalidated")||"[[],0,0]");l={paths:e[0]||[],tag:!!e[1],cookie:e[2]}}catch(e){l={paths:[],tag:!1,cookie:!1}}let _=m?(0,a.assignLocation)(m,new URL(e.canonicalUrl,window.location.href)):void 0,x=g.headers.get("content-type");if(null==x?void 0:x.startsWith(o.RSC_CONTENT_TYPE_HEADER)){let e=await S(Promise.resolve(g),{callServer:n.callServer,findSourceMapURL:i.findSourceMapURL,temporaryReferences:f});return m?{actionFlightData:(0,b.normalizeFlightData)(e.f),redirectLocation:_,redirectType:s,revalidatedParts:l,isPrerender:E}:{actionResult:e.a,actionFlightData:(0,b.normalizeFlightData)(e.f),redirectLocation:_,redirectType:s,revalidatedParts:l,isPrerender:E}}if(g.status>=400)throw Object.defineProperty(Error("text/plain"===x?await g.text():"An unexpected response was received from the server."),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return{redirectLocation:_,redirectType:s,revalidatedParts:l,isPrerender:E}}function k(e,t){let{resolve:r,reject:n}=t,i={},o=e.tree;i.preserveCustomHistoryState=!1;let a=e.nextUrl&&(0,g.hasInterceptionRouteInCurrentTree)(e.tree)?e.nextUrl:null;return A(e,a,t).then(async g=>{let b,{actionResult:R,actionFlightData:S,redirectLocation:O,redirectType:P,isPrerender:A,revalidatedParts:k}=g;if(O&&(P===w.RedirectType.replace?(e.pushRef.pendingPush=!1,i.pendingPush=!1):(e.pushRef.pendingPush=!0,i.pendingPush=!0),i.canonicalUrl=b=(0,l.createHrefFromUrl)(O,!1)),!S)return(r(R),O)?(0,u.handleExternalUrl)(e,i,O.href,e.pushRef.pendingPush):e;if("string"==typeof S)return r(R),(0,u.handleExternalUrl)(e,i,S,e.pushRef.pendingPush);let T=k.paths.length>0||k.tag||k.cookie;for(let n of S){let{tree:s,seedData:l,head:d,isRootRender:g}=n;if(!g)return console.log("SERVER ACTION APPLY FAILED"),r(R),e;let v=(0,c.applyRouterStatePatchToTree)([""],o,s,b||e.canonicalUrl);if(null===v)return r(R),(0,y.handleSegmentMismatch)(e,t,s);if((0,f.isNavigatingToNewRootLayout)(o,v))return r(R),(0,u.handleExternalUrl)(e,i,b||e.canonicalUrl,e.pushRef.pendingPush);if(null!==l){let t=l[1],r=(0,p.createEmptyCacheNode)();r.rsc=t,r.prefetchRsc=null,r.loading=l[3],(0,h.fillLazyItemsTillLeafWithHead)(r,void 0,s,l,d,void 0),i.cache=r,i.prefetchCache=new Map,T&&await (0,m.refreshInactiveParallelSegments)({state:e,updatedTree:v,updatedCache:r,includeNextUrl:!!a,canonicalUrl:i.canonicalUrl||e.canonicalUrl})}i.patchedTree=v,o=v}return O&&b?(T||((0,E.createSeededPrefetchCacheEntry)({url:O,data:{flightData:S,canonicalUrl:void 0,couldBeIntercepted:!1,prerendered:!1,postponed:!1,staleTime:-1},tree:e.tree,prefetchCache:e.prefetchCache,nextUrl:e.nextUrl,kind:A?s.PrefetchKind.FULL:s.PrefetchKind.AUTO}),i.prefetchCache=e.prefetchCache),n((0,v.getRedirectError)((0,x.hasBasePath)(b)?(0,_.removeBasePath)(b):b,P||w.RedirectType.push))):r(R),(0,d.handleMutable)(e,i)},t=>(n(t),e))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7839:e=>{(()=>{"use strict";var t={328:e=>{e.exports=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},s=!0;try{t[e](o,o.exports,n),s=!1}finally{s&&delete r[e]}return o.exports}n.ab=__dirname+"/",e.exports=n(328)})()},7860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{REDIRECT_ERROR_CODE:function(){return i},RedirectType:function(){return o},isRedirectError:function(){return s}});let n=r(7974),i="NEXT_REDIRECT";var o=function(e){return e.push="push",e.replace="replace",e}({});function s(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,o]=t,s=t.slice(2,-2).join(";"),a=Number(t.at(-2));return r===i&&("replace"===o||"push"===o)&&"string"==typeof s&&!isNaN(a)&&a in n.RedirectStatusCode}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7903:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.ImageConfigContext},7924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ClientSegmentRoot",{enumerable:!0,get:function(){return o}});let n=r(687),i=r(5539);function o(e){let{Component:t,slots:o,params:s,promise:a}=e;{let e;let{workAsyncStorage:a}=r(9294),l=a.getStore();if(!l)throw Object.defineProperty(new i.InvariantError("Expected workStore to exist when handling params in a client segment such as a Layout or Template."),"__NEXT_ERROR_CODE",{value:"E600",enumerable:!1,configurable:!0});let{createParamsFromClient:u}=r(824);return e=u(s,l),(0,n.jsx)(t,{...o,params:e})}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7936:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hmrRefreshReducer",{enumerable:!0,get:function(){return n}}),r(9008),r(7391),r(6770),r(2030),r(5232),r(9435),r(6928),r(9752),r(6493),r(8214);let n=function(e,t){return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}});var r=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return o}});let n=r(6358),i=r(7860);function o(e){return(0,i.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8170:(e,t,r)=>{let{createProxy:n}=r(9844);e.exports=n("/home/lfg/Git/Madtrips/node_modules/next/dist/client/components/error-boundary.js")},8202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createMutableActionQueue:function(){return f},getCurrentAppRouterState:function(){return d}});let n=r(9154),i=r(8830),o=r(3210),s=r(1992);function a(e,t){null!==e.pending&&(e.pending=e.pending.next,null!==e.pending?l({actionQueue:e,action:e.pending,setState:t}):e.needsRefresh&&(e.needsRefresh=!1,e.dispatch({type:n.ACTION_REFRESH,origin:window.location.origin},t)))}async function l(e){let{actionQueue:t,action:r,setState:n}=e,i=t.state;t.pending=r;let o=r.payload,l=t.action(i,o);function u(e){!r.discarded&&(t.state=e,a(t,n),r.resolve(e))}(0,s.isThenable)(l)?l.then(u,e=>{a(t,n),r.reject(e)}):u(l)}function u(e,t,r){let i={resolve:r,reject:()=>{}};if(t.type!==n.ACTION_RESTORE){let e=new Promise((e,t)=>{i={resolve:e,reject:t}});(0,o.startTransition)(()=>{r(e)})}let s={payload:t,next:null,resolve:i.resolve,reject:i.reject};null===e.pending?(e.last=s,l({actionQueue:e,action:s,setState:r})):t.type===n.ACTION_NAVIGATE||t.type===n.ACTION_RESTORE?(e.pending.discarded=!0,s.next=e.pending.next,e.pending.payload.type===n.ACTION_SERVER_ACTION&&(e.needsRefresh=!0),l({actionQueue:e,action:s,setState:r})):(null!==e.last&&(e.last.next=s),e.last=s)}let c=null;function f(e){let t={state:e,dispatch:(e,r)=>u(t,e,r),action:async(e,t)=>(0,i.reducer)(e,t),pending:null,last:null};return t}function d(){return null!==c?c.state:null}},8214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hasInterceptionRouteInCurrentTree",{enumerable:!0,get:function(){return i}});let n=r(2859);function i(e){let[t,r]=e;if(Array.isArray(t)&&("di"===t[2]||"ci"===t[2])||"string"==typeof t&&(0,n.isInterceptionRouteAppPath)(t))return!0;if(r){for(let e in r)if(i(r[e]))return!0}return!1}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8238:(e,t)=>{"use strict";function r(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===n}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isHangingPromiseRejectionError:function(){return r},makeHangingPromise:function(){return o}});let n="HANGING_PROMISE_REJECTION";class i extends Error{constructor(e){super(`During prerendering, ${e} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${e} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`),this.expression=e,this.digest=n}}function o(e,t){let r=new Promise((r,n)=>{e.addEventListener("abort",()=>{n(new i(t))},{once:!0})});return r.catch(s),r}function s(){}},8243:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return A}});let n=r(4985),i=r(740),o=r(687),s=i._(r(3210)),a=n._(r(1215)),l=r(2142),u=r(9008),c=r(9330),f=r(5656),d=r(4077),h=r(6719),p=r(7086),g=r(99),y=r(3123),m=r(8214);function b(e,t){if(e){let[r,n]=e,i=2===e.length;if((0,d.matchSegment)(t[0],r)&&t[1].hasOwnProperty(n)){if(i){let e=b(void 0,t[1][n]);return[t[0],{...t[1],[n]:[e[0],e[1],e[2],"refetch"]}]}return[t[0],{...t[1],[n]:b(e.slice(2),t[1][n])}]}}return t}function v(e){return null}a.default.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;let w=["bottom","height","left","right","top","width","x","y"];function E(e){if(["sticky","fixed"].includes(getComputedStyle(e).position))return!0;let t=e.getBoundingClientRect();return w.every(e=>0===t[e])}function _(e,t){let r=e.getBoundingClientRect();return r.top>=0&&r.top<=t}function x(e){var t;return"top"===e?document.body:null!=(t=document.getElementById(e))?t:document.getElementsByName(e)[0]}class R extends s.default.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){this.props.focusAndScrollRef.apply&&this.handlePotentialScroll()}render(){return this.props.children}constructor(...e){super(...e),this.handlePotentialScroll=()=>{let{focusAndScrollRef:e,segmentPath:t}=this.props;if(e.apply){if(0!==e.segmentPaths.length&&!e.segmentPaths.some(e=>t.every((t,r)=>(0,d.matchSegment)(t,e[r]))))return;let r=null,n=e.hashFragment;if(n&&(r=x(n)),r||(r=v(this)),!(r instanceof Element))return;for(;!(r instanceof HTMLElement)||E(r);){if(null===r.nextElementSibling)return;r=r.nextElementSibling}e.apply=!1,e.hashFragment=null,e.segmentPaths=[],(0,h.handleSmoothScroll)(()=>{if(n){r.scrollIntoView();return}let e=document.documentElement,t=e.clientHeight;!_(r,t)&&(e.scrollTop=0,_(r,t)||r.scrollIntoView())},{dontForceLayout:!0,onlyHashChange:e.onlyHashChange}),e.onlyHashChange=!1,r.focus()}}}}function S(e){let{segmentPath:t,children:r}=e,n=(0,s.useContext)(l.GlobalLayoutRouterContext);if(!n)throw Object.defineProperty(Error("invariant global layout router not mounted"),"__NEXT_ERROR_CODE",{value:"E473",enumerable:!1,configurable:!0});return(0,o.jsx)(R,{segmentPath:t,focusAndScrollRef:n.focusAndScrollRef,children:r})}function O(e){let{tree:t,segmentPath:r,cacheNode:n,url:i}=e,a=(0,s.useContext)(l.GlobalLayoutRouterContext);if(!a)throw Object.defineProperty(Error("invariant global layout router not mounted"),"__NEXT_ERROR_CODE",{value:"E473",enumerable:!1,configurable:!0});let{changeByServerResponse:f,tree:d}=a,h=null!==n.prefetchRsc?n.prefetchRsc:n.rsc,p=(0,s.useDeferredValue)(n.rsc,h),g="object"==typeof p&&null!==p&&"function"==typeof p.then?(0,s.use)(p):p;if(!g){let e=n.lazyData;if(null===e){let t=b(["",...r],d),o=(0,m.hasInterceptionRouteInCurrentTree)(d);n.lazyData=e=(0,u.fetchServerResponse)(new URL(i,location.origin),{flightRouterState:t,nextUrl:o?a.nextUrl:null}).then(e=>((0,s.startTransition)(()=>{f({previousTree:d,serverResponse:e})}),e)),(0,s.use)(e)}(0,s.use)(c.unresolvedThenable)}return(0,o.jsx)(l.LayoutRouterContext.Provider,{value:{parentTree:t,parentCacheNode:n,parentSegmentPath:r,url:i},children:g})}function P(e){let t,{loading:r,children:n}=e;if("object"==typeof r&&null!==r&&"function"==typeof r.then){let e=r;t=(0,s.use)(e)}else t=r;if(t){let e=t[0],r=t[1],i=t[2];return(0,o.jsx)(s.Suspense,{fallback:(0,o.jsxs)(o.Fragment,{children:[r,i,e]}),children:n})}return(0,o.jsx)(o.Fragment,{children:n})}function A(e){let{parallelRouterKey:t,error:r,errorStyles:n,errorScripts:i,templateStyles:a,templateScripts:u,template:c,notFound:d,forbidden:h,unauthorized:m}=e,b=(0,s.useContext)(l.LayoutRouterContext);if(!b)throw Object.defineProperty(Error("invariant expected layout router to be mounted"),"__NEXT_ERROR_CODE",{value:"E56",enumerable:!1,configurable:!0});let{parentTree:v,parentCacheNode:w,parentSegmentPath:E,url:_}=b,x=w.parallelRoutes,R=x.get(t);R||(R=new Map,x.set(t,R));let A=v[0],k=v[1][t],T=k[0],M=null===E?[t]:E.concat([A,t]),j=(0,y.createRouterCacheKey)(T),C=(0,y.createRouterCacheKey)(T,!0),N=R.get(j);if(void 0===N){let e={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null};N=e,R.set(j,e)}let I=w.loading;return(0,o.jsxs)(l.TemplateContext.Provider,{value:(0,o.jsx)(S,{segmentPath:M,children:(0,o.jsx)(f.ErrorBoundary,{errorComponent:r,errorStyles:n,errorScripts:i,children:(0,o.jsx)(P,{loading:I,children:(0,o.jsx)(g.HTTPAccessFallbackBoundary,{notFound:d,forbidden:h,unauthorized:m,children:(0,o.jsx)(p.RedirectBoundary,{children:(0,o.jsx)(O,{url:_,tree:k,cacheNode:N,segmentPath:M})})})})})}),children:[a,u,c]},C)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8468:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"invalidateCacheBelowFlightSegmentPath",{enumerable:!0,get:function(){return o}});let n=r(3123),i=r(4007);function o(e,t,r){let s=r.length<=2,[a,l]=r,u=(0,n.createRouterCacheKey)(l),c=t.parallelRoutes.get(a);if(!c)return;let f=e.parallelRoutes.get(a);if(f&&f!==c||(f=new Map(c),e.parallelRoutes.set(a,f)),s){f.delete(u);return}let d=c.get(u),h=f.get(u);h&&d&&(h===d&&(h={lazyData:h.lazyData,rsc:h.rsc,prefetchRsc:h.prefetchRsc,head:h.head,prefetchHead:h.prefetchHead,parallelRoutes:new Map(h.parallelRoutes)},f.set(u,h)),o(h,d,(0,i.getNextFlightSegmentPath)(r)))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8522:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return r}});class r{constructor(e,t){this.cache=new Map,this.sizes=new Map,this.totalSize=0,this.maxSize=e,this.calculateSize=t||(()=>1)}set(e,t){if(!e||!t)return;let r=this.calculateSize(t);if(r>this.maxSize){console.warn("Single item size exceeds maxSize");return}this.cache.has(e)&&(this.totalSize-=this.sizes.get(e)||0),this.cache.set(e,t),this.sizes.set(e,r),this.totalSize+=r,this.touch(e)}has(e){return!!e&&(this.touch(e),!!this.cache.get(e))}get(e){if(!e)return;let t=this.cache.get(e);if(void 0!==t)return this.touch(e),t}touch(e){let t=this.cache.get(e);void 0!==t&&(this.cache.delete(e),this.cache.set(e,t),this.evictIfNecessary())}evictIfNecessary(){for(;this.totalSize>this.maxSize&&this.cache.size>0;)this.evictLeastRecentlyUsed()}evictLeastRecentlyUsed(){let e=this.cache.keys().next().value;if(void 0!==e){let t=this.sizes.get(e)||0;this.totalSize-=t,this.cache.delete(e),this.sizes.delete(e)}}reset(){this.cache.clear(),this.sizes.clear(),this.totalSize=0}keys(){return[...this.cache.keys()]}remove(e){this.cache.has(e)&&(this.totalSize-=this.sizes.get(e)||0,this.cache.delete(e),this.sizes.delete(e))}clear(){this.cache.clear(),this.sizes.clear(),this.totalSize=0}get size(){return this.cache.size}get currentSize(){return this.totalSize}}},8524:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.ServerInsertedMetadata},8613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=r(2292).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8624:(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bakeCollectionVariadic=exports.bakeCollectionAwait=exports.bakeCollection=exports.BAKED_EMPTY_FUNC=void 0,exports.BAKED_EMPTY_FUNC=function(){};var FORLOOP_FALLBACK=1500;function generateArgsDefCode(e){var t="";if(0===e)return t;for(var r=0;r<e-1;++r)t+="arg"+String(r)+", ";return t+("arg"+String(e-1))}function generateBodyPartsCode(e,t){for(var r="",n="",i=0;i<t;++i)r+="var f".concat(i," = collection[").concat(i,"];\n"),n+="f".concat(i,"(").concat(e,")\n");return{funcDefCode:r,funcCallCode:n}}function generateBodyPartsVariadicCode(e){for(var t="",r="",n=0;n<e;++n)t+="var f".concat(n," = collection[").concat(n,"];\n"),r+="f".concat(n,".apply(undefined, arguments)\n");return{funcDefCode:t,funcCallCode:r}}function bakeCollection(collection,fixedArgsNum){if(0===collection.length)return exports.BAKED_EMPTY_FUNC;if(1===collection.length)return collection[0];if(collection.length<FORLOOP_FALLBACK){var funcFactoryCode,argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode="(function(collection) {\n            ".concat(funcDefCode,"\n            collection = undefined;\n            return (function(").concat(argsDefCode,") {\n                ").concat(funcCallCode,"\n            });\n        })")}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode=collection.length%10==0?"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; i += 10) {\n                        collection[i](").concat(argsDefCode,");\n                        collection[i+1](").concat(argsDefCode,");\n                        collection[i+2](").concat(argsDefCode,");\n                        collection[i+3](").concat(argsDefCode,");\n                        collection[i+4](").concat(argsDefCode,");\n                        collection[i+5](").concat(argsDefCode,");\n                        collection[i+6](").concat(argsDefCode,");\n                        collection[i+7](").concat(argsDefCode,");\n                        collection[i+8](").concat(argsDefCode,");\n                        collection[i+9](").concat(argsDefCode,");\n                    }\n                });\n            })"):collection.length%4==0?"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; i += 4) {\n                        collection[i](").concat(argsDefCode,");\n                        collection[i+1](").concat(argsDefCode,");\n                        collection[i+2](").concat(argsDefCode,");\n                        collection[i+3](").concat(argsDefCode,");\n                    }\n                });\n            })"):collection.length%3==0?"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; i += 3) {\n                        collection[i](").concat(argsDefCode,");\n                        collection[i+1](").concat(argsDefCode,");\n                        collection[i+2](").concat(argsDefCode,");\n                    }\n                });\n            })"):"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; ++i) {\n                        collection[i](").concat(argsDefCode,");\n                    }\n                });\n            })")}var bakeCollection_1=void 0,fixedArgsNum_1=void 0,bakeCollectionVariadic_1=void 0,bakeCollectionAwait_1=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}function bakeCollectionAwait(collection,fixedArgsNum){if(0===collection.length)return exports.BAKED_EMPTY_FUNC;if(1===collection.length)return collection[0];if(collection.length<FORLOOP_FALLBACK){var funcFactoryCode,argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode="(function(collection) {\n            ".concat(funcDefCode,"\n            collection = undefined;\n            return (function(").concat(argsDefCode,") {\n                return Promise.all([ ").concat(funcCallCode," ]);\n            });\n        })")}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode="(function(collection) {\n            return (function(".concat(argsDefCode,") {\n                var promises = Array(collection.length);\n                for (var i = 0; i < collection.length; ++i) {\n                    promises[i] = collection[i](").concat(argsDefCode,");\n                }\n                return Promise.all(promises);\n            });\n        })")}var bakeCollection_2=void 0,fixedArgsNum_2=void 0,bakeCollectionVariadic_2=void 0,bakeCollectionAwait_2=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}function bakeCollectionVariadic(collection){if(0===collection.length)return exports.BAKED_EMPTY_FUNC;if(1===collection.length)return collection[0];if(collection.length<FORLOOP_FALLBACK){var funcFactoryCode,_a=generateBodyPartsVariadicCode(collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode="(function(collection) {\n            ".concat(funcDefCode,"\n            collection = undefined;\n            return (function() {\n                ").concat(funcCallCode,"\n            });\n        })")}else funcFactoryCode="(function(collection) {\n            return (function() {\n                for (var i = 0; i < collection.length; ++i) {\n                    collection[i].apply(undefined, arguments);\n                }\n            });\n        })";var bakeCollection_3=void 0,fixedArgsNum=void 0,bakeCollectionVariadic_3=void 0,bakeCollectionAwait_3=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}exports.bakeCollection=bakeCollection,exports.bakeCollectionAwait=bakeCollectionAwait,exports.bakeCollectionVariadic=bakeCollectionVariadic},8627:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"restoreReducer",{enumerable:!0,get:function(){return o}});let n=r(7391),i=r(642);function o(e,t){var r;let{url:o,tree:s}=t,a=(0,n.createHrefFromUrl)(o),l=s||e.tree,u=e.cache;return{canonicalUrl:a,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:e.focusAndScrollRef,cache:u,prefetchCache:e.prefetchCache,tree:l,nextUrl:null!=(r=(0,i.extractPathFromFlightRouterState)(l))?r:o.pathname}}r(5956),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setCacheBustingSearchParam",{enumerable:!0,get:function(){return o}});let n=r(5102),i=r(1563),o=(e,t)=>{let r=(0,n.hexHash)([t[i.NEXT_ROUTER_PREFETCH_HEADER]||"0",t[i.NEXT_ROUTER_SEGMENT_PREFETCH_HEADER]||"0",t[i.NEXT_ROUTER_STATE_TREE_HEADER],t[i.NEXT_URL]].join(",")),o=e.search,s=(o.startsWith("?")?o.slice(1):o).split("&").filter(Boolean);s.push(i.NEXT_RSC_UNION_QUERY+"="+r),e.search=s.length?"?"+s.join("&"):""};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ROOT_SEGMENT_KEY:function(){return o},convertSegmentPathToStaticExportFilename:function(){return u},encodeChildSegmentKey:function(){return s},encodeSegment:function(){return i}});let n=r(5499);function i(e){if("string"==typeof e)return e.startsWith(n.PAGE_SEGMENT_KEY)?n.PAGE_SEGMENT_KEY:"/_not-found"===e?"_not-found":l(e);let t=e[0],r=e[1],i=e[2];return"$"+i+"$"+l(t)+"$"+l(r)}let o="";function s(e,t,r){return e+"/"+("children"===t?r:"@"+l(t)+"/"+r)}let a=/^[a-zA-Z0-9\-_@]+$/;function l(e){return a.test(e)?e:"!"+btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function u(e){return"__next"+e.replace(/\//g,".")+".txt"}},8671:(e,t,r)=>{"use strict";e.exports=r(3873)},8681:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isRequestAPICallableInsideAfter:function(){return l},throwForSearchParamsAccessInUseCache:function(){return a},throwWithStaticGenerationBailoutError:function(){return o},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return s}});let n=r(7797),i=r(3295);function o(e,t){throw Object.defineProperty(new n.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E576",enumerable:!1,configurable:!0})}function s(e,t){throw Object.defineProperty(new n.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function a(e){throw Object.defineProperty(Error(`Route ${e} used "searchParams" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "searchParams" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E634",enumerable:!1,configurable:!0})}function l(){let e=i.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},8704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return i},getAccessFallbackErrorTypeByStatus:function(){return a},getAccessFallbackHTTPStatus:function(){return s},isHTTPAccessFallbackError:function(){return o}});let r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},n=new Set(Object.values(r)),i="NEXT_HTTP_ERROR_FALLBACK";function o(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===i&&n.has(Number(r))}function s(e){return Number(e.digest.split(";")[1])}function a(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8756:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7188),t)},8827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AsyncMetadata:function(){return o},AsyncMetadataOutlet:function(){return a}});let n=r(687),i=r(3210),o=r(5429).ServerInsertMetadata;function s(e){let{promise:t}=e,{error:r,digest:n}=(0,i.use)(t);if(r)throw n&&(r.digest=n),r;return null}function a(e){let{promise:t}=e;return(0,n.jsx)(i.Suspense,{fallback:null,children:(0,n.jsx)(s,{promise:t})})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8830:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return n}}),r(9154),r(5232),r(9651),r(8627),r(8866),r(5076),r(7936),r(7810);let n=function(e,t){return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return i}});let n=r(1550);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:o}=(0,n.parsePath)(e);return""+t+r+i+o}},8866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"refreshReducer",{enumerable:!0,get:function(){return p}});let n=r(9008),i=r(7391),o=r(6770),s=r(2030),a=r(5232),l=r(9435),u=r(1500),c=r(9752),f=r(6493),d=r(8214),h=r(2308);function p(e,t){let{origin:r}=t,p={},g=e.canonicalUrl,y=e.tree;p.preserveCustomHistoryState=!1;let m=(0,c.createEmptyCacheNode)(),b=(0,d.hasInterceptionRouteInCurrentTree)(e.tree);return m.lazyData=(0,n.fetchServerResponse)(new URL(g,r),{flightRouterState:[y[0],y[1],y[2],"refetch"],nextUrl:b?e.nextUrl:null}),m.lazyData.then(async r=>{let{flightData:n,canonicalUrl:c}=r;if("string"==typeof n)return(0,a.handleExternalUrl)(e,p,n,e.pushRef.pendingPush);for(let r of(m.lazyData=null,n)){let{tree:n,seedData:l,head:d,isRootRender:v}=r;if(!v)return console.log("REFRESH FAILED"),e;let w=(0,o.applyRouterStatePatchToTree)([""],y,n,e.canonicalUrl);if(null===w)return(0,f.handleSegmentMismatch)(e,t,n);if((0,s.isNavigatingToNewRootLayout)(y,w))return(0,a.handleExternalUrl)(e,p,g,e.pushRef.pendingPush);let E=c?(0,i.createHrefFromUrl)(c):void 0;if(c&&(p.canonicalUrl=E),null!==l){let e=l[1],t=l[3];m.rsc=e,m.prefetchRsc=null,m.loading=t,(0,u.fillLazyItemsTillLeafWithHead)(m,void 0,n,l,d,void 0),p.prefetchCache=new Map}await (0,h.refreshInactiveParallelSegments)({state:e,updatedTree:w,updatedCache:m,includeNextUrl:b,canonicalUrl:p.canonicalUrl||e.canonicalUrl}),p.cache=m,p.patchedTree=w,y=w}return(0,l.handleMutable)(e,p)},()=>e)}r(593),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"collectSegmentData",{enumerable:!0,get:function(){return f}});let n=r(7413),i=r(2513),o=r(3972),s=r(7855),a=r(4523),l=r(8670),u=r(2713);function c(e){let t=(0,u.getDigestForWellKnownError)(e);if(t)return t}async function f(e,t,r,l,u,f){let h=new Map;try{await (0,i.createFromReadableStream)((0,s.streamFromBuffer)(t),{serverConsumerManifest:u}),await (0,a.waitAtLeastOneReactRenderTask)()}catch{}let p=new AbortController,g=async()=>{await (0,a.waitAtLeastOneReactRenderTask)(),p.abort()},y=[],{prelude:m}=await (0,o.unstable_prerender)((0,n.jsx)(d,{shouldAssumePartialData:e,fullPageDataBuffer:t,fallbackRouteParams:f,serverConsumerManifest:u,clientModules:l,staleTime:r,segmentTasks:y,onCompletedProcessingRouteTree:g}),l,{signal:p.signal,onError:c}),b=await (0,s.streamToBuffer)(m);for(let[e,t]of(h.set("/_tree",b),await Promise.all(y)))h.set(e,t);return h}async function d({shouldAssumePartialData:e,fullPageDataBuffer:t,fallbackRouteParams:r,serverConsumerManifest:n,clientModules:o,staleTime:a,segmentTasks:u,onCompletedProcessingRouteTree:c}){let f=await (0,i.createFromReadableStream)(m((0,s.streamFromBuffer)(t)),{serverConsumerManifest:n}),d=f.b,p=f.f;if(1!==p.length&&3!==p[0].length)return console.error("Internal Next.js error: InitialRSCPayload does not match the expected shape for a prerendered page during segment prefetch generation."),null;let g=p[0][0],b=p[0][1],v=p[0][2],w=h(e,g,d,b,r,t,o,n,l.ROOT_SEGMENT_KEY,u),E=e||await y(v,o);return c(),{buildId:d,tree:w,head:v,isHeadPartial:E,staleTime:a}}function h(e,t,r,n,i,o,s,u,c,f){let d=null,y=t[1],m=null!==n?n[2]:null;for(let t in y){let n=y[t],a=n[0],g=null!==m?m[t]:null,b=(0,l.encodeChildSegmentKey)(c,t,Array.isArray(a)&&null!==i?p(a,i):(0,l.encodeSegment)(a)),v=h(e,n,r,g,i,o,s,u,b,f);null===d&&(d={}),d[t]=v}return null!==n&&f.push((0,a.waitAtLeastOneReactRenderTask)().then(()=>g(e,r,n,c,s))),{segment:t[0],slots:d,isRootLayout:!0===t[4]}}function p(e,t){let r=e[0];if(!t.has(r))return(0,l.encodeSegment)(e);let n=(0,l.encodeSegment)(e),i=n.lastIndexOf("$");return n.substring(0,i+1)+`[${r}]`}async function g(e,t,r,n,i){let u=r[1],f={buildId:t,rsc:u,loading:r[3],isPartial:e||await y(u,i)},d=new AbortController;(0,a.waitAtLeastOneReactRenderTask)().then(()=>d.abort());let{prelude:h}=await (0,o.unstable_prerender)(f,i,{signal:d.signal,onError:c}),p=await (0,s.streamToBuffer)(h);return n===l.ROOT_SEGMENT_KEY?["/_index",p]:[n,p]}async function y(e,t){let r=!1,n=new AbortController;return(0,a.waitAtLeastOneReactRenderTask)().then(()=>{r=!0,n.abort()}),await (0,o.unstable_prerender)(e,t,{signal:n.signal,onError(){}}),r}function m(e){let t=e.getReader();return new ReadableStream({async pull(e){for(;;){let{done:r,value:n}=await t.read();if(!r){e.enqueue(n);continue}return}}})}},9008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createFetch:function(){return g},createFromNextReadableStream:function(){return y},fetchServerResponse:function(){return p},urlToUrlWithoutFlightMarker:function(){return f}});let n=r(1563),i=r(1264),o=r(1448),s=r(9154),a=r(4007),l=r(9880),u=r(8637),{createFromReadableStream:c}=r(9357);function f(e){let t=new URL(e,location.origin);return t.searchParams.delete(n.NEXT_RSC_UNION_QUERY),t}function d(e){return{flightData:f(e).toString(),canonicalUrl:void 0,couldBeIntercepted:!1,prerendered:!1,postponed:!1,staleTime:-1}}let h=new AbortController;async function p(e,t){let{flightRouterState:r,nextUrl:i,prefetchKind:o}=t,u={[n.RSC_HEADER]:"1",[n.NEXT_ROUTER_STATE_TREE_HEADER]:encodeURIComponent(JSON.stringify(r))};o===s.PrefetchKind.AUTO&&(u[n.NEXT_ROUTER_PREFETCH_HEADER]="1"),i&&(u[n.NEXT_URL]=i);try{var c;let t=o?o===s.PrefetchKind.TEMPORARY?"high":"low":"auto",r=await g(e,u,t,h.signal),i=f(r.url),p=r.redirected?i:void 0,b=r.headers.get("content-type")||"",v=!!(null==(c=r.headers.get("vary"))?void 0:c.includes(n.NEXT_URL)),w=!!r.headers.get(n.NEXT_DID_POSTPONE_HEADER),E=r.headers.get(n.NEXT_ROUTER_STALE_TIME_HEADER),_=null!==E?parseInt(E,10):-1;if(!b.startsWith(n.RSC_CONTENT_TYPE_HEADER)||!r.ok||!r.body)return e.hash&&(i.hash=e.hash),d(i.toString());let x=w?m(r.body):r.body,R=await y(x);if((0,l.getAppBuildId)()!==R.b)return d(r.url);return{flightData:(0,a.normalizeFlightData)(R.f),canonicalUrl:p,couldBeIntercepted:v,prerendered:R.S,postponed:w,staleTime:_}}catch(t){return h.signal.aborted||console.error("Failed to fetch RSC payload for "+e+". Falling back to browser navigation.",t),{flightData:e.toString(),canonicalUrl:void 0,couldBeIntercepted:!1,prerendered:!1,postponed:!1,staleTime:-1}}}function g(e,t,r,n){let i=new URL(e);return(0,u.setCacheBustingSearchParam)(i,t),fetch(i,{credentials:"same-origin",headers:t,priority:r||void 0,signal:n})}function y(e){return c(e,{callServer:i.callServer,findSourceMapURL:o.findSourceMapURL})}function m(e){let t=e.getReader();return new ReadableStream({async pull(e){for(;;){let{done:r,value:n}=await t.read();if(!r){e.enqueue(n);continue}return}}})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9010:(e,t,r)=>{"use strict";r.d(t,{DH:()=>o,O8:()=>s,ZJ:()=>f,ex:()=>h,qn:()=>p,tY:()=>d,u8:()=>i,zp:()=>g});var n=r(2392);let i=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),s=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");let a=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),l={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function u(e){return e>=l._0&&e<=l._9?e-l._0:e>=l._A&&e<=l._F?e-(l._A-10):e>=l._a&&e<=l._f?e-(l._a-10):void 0}function c(e){if("string"!=typeof e)throw Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function f(e){if("string"==typeof e)e=c(e);else if((0,n.aY)(e))e=e.slice();else throw Error(`Uint8Array expected, got ${typeof e}`);return e}function d(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}function h(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}let p=(e,t)=>(Object.assign(t,e),t);function g(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>i&o),a=Number(r&o),l=4*!!n,u=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+u,a,n)}},9026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{REDIRECT_ERROR_CODE:function(){return i},RedirectType:function(){return o},isRedirectError:function(){return s}});let n=r(2836),i="NEXT_REDIRECT";var o=function(e){return e.push="push",e.replace="replace",e}({});function s(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,o]=t,s=t.slice(2,-2).join(";"),a=Number(t.at(-2));return r===i&&("replace"===o||"push"===o)&&"string"==typeof s&&!isNaN(a)&&a in n.RedirectStatusCode}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;let n=r(1094);class i{constructor(e){this.lookupTable=new Map,this.head=null,this.tail=null;let{maxSize:t=25,entryExpirationTimeInMS:r=null,onEntryEvicted:n,onEntryMarkedAsMostRecentlyUsed:i,cloneFn:o,clone:s}=null!=e?e:{};if(Number.isNaN(t)||t<=0)throw Error("maxSize must be greater than 0.");if("number"==typeof r&&(r<=0||Number.isNaN(r)))throw Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.maxSizeInternal=t,this.entryExpirationTimeInMS=r,this.onEntryEvicted=n,this.onEntryMarkedAsMostRecentlyUsed=i,this.clone=s,this.cloneFn=o}get size(){return this.cleanCache(),this.lookupTable.size}get remainingSize(){return this.maxSizeInternal-this.size}get newest(){return this.head?this.head.isExpired?(this.removeNodeFromListAndLookupTable(this.head),this.newest):this.mapNodeToEntry(this.head):null}get oldest(){return this.tail?this.tail.isExpired?(this.removeNodeFromListAndLookupTable(this.tail),this.oldest):this.mapNodeToEntry(this.tail):null}get maxSize(){return this.maxSizeInternal}set maxSize(e){if(Number.isNaN(e)||e<=0)throw Error("maxSize must be greater than 0.");this.maxSizeInternal=e,this.enforceSizeLimit()}set(e,t,r){let i=this.lookupTable.get(e);i&&this.removeNodeFromListAndLookupTable(i);let o=new n.LRUCacheNode(e,t,{entryExpirationTimeInMS:this.entryExpirationTimeInMS,onEntryEvicted:this.onEntryEvicted,onEntryMarkedAsMostRecentlyUsed:this.onEntryMarkedAsMostRecentlyUsed,clone:this.clone,cloneFn:this.cloneFn,...r});return this.setNodeAsHead(o),this.lookupTable.set(e,o),this.enforceSizeLimit(),this}get(e){let t=this.lookupTable.get(e);return t?t.isExpired?(this.removeNodeFromListAndLookupTable(t),null):(this.setNodeAsHead(t),t.value):null}peek(e){let t=this.lookupTable.get(e);return t?t.isExpired?(this.removeNodeFromListAndLookupTable(t),null):t.value:null}delete(e){let t=this.lookupTable.get(e);return!!t&&this.removeNodeFromListAndLookupTable(t)}has(e){let t=this.lookupTable.get(e);return!!t&&(!t.isExpired||(this.removeNodeFromListAndLookupTable(t),!1))}clear(){this.head=null,this.tail=null,this.lookupTable.clear()}find(e){let t=this.head;for(;t;){if(t.isExpired){let e=t.next;this.removeNodeFromListAndLookupTable(t),t=e;continue}let r=this.mapNodeToEntry(t);if(e(r))return this.setNodeAsHead(t),r;t=t.next}return null}forEach(e){let t=this.head,r=0;for(;t;){if(t.isExpired){let e=t.next;this.removeNodeFromListAndLookupTable(t),t=e;continue}e(t.value,t.key,r),t=t.next,r++}}*values(){let e=this.head;for(;e;){if(e.isExpired){let t=e.next;this.removeNodeFromListAndLookupTable(e),e=t;continue}yield e.value,e=e.next}}*keys(){let e=this.head;for(;e;){if(e.isExpired){let t=e.next;this.removeNodeFromListAndLookupTable(e),e=t;continue}yield e.key,e=e.next}}*entries(){let e=this.head;for(;e;){if(e.isExpired){let t=e.next;this.removeNodeFromListAndLookupTable(e),e=t;continue}yield this.mapNodeToEntry(e),e=e.next}}*[Symbol.iterator](){let e=this.head;for(;e;){if(e.isExpired){let t=e.next;this.removeNodeFromListAndLookupTable(e),e=t;continue}yield this.mapNodeToEntry(e),e=e.next}}enforceSizeLimit(){let e=this.tail;for(;null!==e&&this.size>this.maxSizeInternal;){let t=e.prev;this.removeNodeFromListAndLookupTable(e),e=t}}mapNodeToEntry({key:e,value:t}){return{key:e,value:t}}setNodeAsHead(e){this.removeNodeFromList(e),this.head?(e.next=this.head,this.head.prev=e,this.head=e):(this.head=e,this.tail=e),e.invokeOnEntryMarkedAsMostRecentlyUsed()}removeNodeFromList(e){null!==e.prev&&(e.prev.next=e.next),null!==e.next&&(e.next.prev=e.prev),this.head===e&&(this.head=e.next),this.tail===e&&(this.tail=e.prev),e.next=null,e.prev=null}removeNodeFromListAndLookupTable(e){return e.invokeOnEvicted(),this.removeNodeFromList(e),this.lookupTable.delete(e.key)}cleanCache(){if(!this.entryExpirationTimeInMS)return;let e=[];for(let t of this.lookupTable.values())t.isExpired&&e.push(t);e.forEach(e=>this.removeNodeFromListAndLookupTable(e))}}t.LRUCache=i},9148:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.RouterContext},9154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_HMR_REFRESH:function(){return a},ACTION_NAVIGATE:function(){return n},ACTION_PREFETCH:function(){return s},ACTION_REFRESH:function(){return r},ACTION_RESTORE:function(){return i},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return o},PrefetchCacheEntryStatus:function(){return c},PrefetchKind:function(){return u}});let r="refresh",n="navigate",i="restore",o="server-patch",s="prefetch",a="hmr-refresh",l="server-action";var u=function(e){return e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary",e}({}),c=function(e){return e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9207:e=>{"use strict";e.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return -1!==n&&(-1===i||n<i)}},9221:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createPrerenderSearchParamsForClientPage:function(){return p},createSearchParamsFromClient:function(){return f},createServerSearchParamsForMetadata:function(){return d},createServerSearchParamsForServerPage:function(){return h},makeErroringExoticSearchParamsForUseCache:function(){return E}});let n=r(3717),i=r(4717),o=r(3033),s=r(5539),a=r(8238),l=r(4768),u=r(4627),c=r(8681);function f(e,t){let r=o.workUnitAsyncStorage.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return g(t,r)}return y(e,t)}r(2825);let d=h;function h(e,t){let r=o.workUnitAsyncStorage.getStore();if(r)switch(r.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return g(t,r)}return y(e,t)}function p(e){if(e.forceStatic)return Promise.resolve({});let t=o.workUnitAsyncStorage.getStore();return t&&"prerender"===t.type?(0,a.makeHangingPromise)(t.renderSignal,"`searchParams`"):Promise.resolve({})}function g(e,t){return e.forceStatic?Promise.resolve({}):"prerender"===t.type?v(e.route,t):w(e,t)}function y(e,t){return t.forceStatic?Promise.resolve({}):_(e,t)}let m=new WeakMap,b=new WeakMap;function v(e,t){let r=m.get(t);if(r)return r;let o=(0,a.makeHangingPromise)(t.renderSignal,"`searchParams`"),s=new Proxy(o,{get(r,s,a){if(Object.hasOwn(o,s))return n.ReflectAdapter.get(r,s,a);switch(s){case"then":{let e="`await searchParams`, `searchParams.then`, or similar";return(0,i.annotateDynamicAccess)(e,t),n.ReflectAdapter.get(r,s,a)}case"status":{let e="`use(searchParams)`, `searchParams.status`, or similar";return(0,i.annotateDynamicAccess)(e,t),n.ReflectAdapter.get(r,s,a)}default:if("string"==typeof s&&!u.wellKnownProperties.has(s)){let r=(0,u.describeStringPropertyAccess)("searchParams",s),n=S(e,r);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}return n.ReflectAdapter.get(r,s,a)}},has(r,o){if("string"==typeof o){let r=(0,u.describeHasCheckingStringProperty)("searchParams",o),n=S(e,r);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}return n.ReflectAdapter.has(r,o)},ownKeys(){let r="`{...searchParams}`, `Object.keys(searchParams)`, or similar",n=S(e,r);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(e,r,n,t)}});return m.set(t,s),s}function w(e,t){let r=m.get(e);if(r)return r;let o=Promise.resolve({}),s=new Proxy(o,{get(r,s,a){if(Object.hasOwn(o,s))return n.ReflectAdapter.get(r,s,a);switch(s){case"then":{let r="`await searchParams`, `searchParams.then`, or similar";e.dynamicShouldError?(0,c.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,r):"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,r,t.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(r,e,t);return}case"status":{let r="`use(searchParams)`, `searchParams.status`, or similar";e.dynamicShouldError?(0,c.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,r):"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,r,t.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(r,e,t);return}default:if("string"==typeof s&&!u.wellKnownProperties.has(s)){let r=(0,u.describeStringPropertyAccess)("searchParams",s);e.dynamicShouldError?(0,c.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,r):"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,r,t.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(r,e,t)}return n.ReflectAdapter.get(r,s,a)}},has(r,o){if("string"==typeof o){let r=(0,u.describeHasCheckingStringProperty)("searchParams",o);return e.dynamicShouldError?(0,c.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,r):"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,r,t.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(r,e,t),!1}return n.ReflectAdapter.has(r,o)},ownKeys(){let r="`{...searchParams}`, `Object.keys(searchParams)`, or similar";e.dynamicShouldError?(0,c.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,r):"prerender-ppr"===t.type?(0,i.postponeWithTracking)(e.route,r,t.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(r,e,t)}});return m.set(e,s),s}function E(e){let t=b.get(e);if(t)return t;let r=Promise.resolve({}),i=new Proxy(r,{get:(t,i,o)=>(Object.hasOwn(r,i)||"string"!=typeof i||"then"!==i&&u.wellKnownProperties.has(i)||(0,c.throwForSearchParamsAccessInUseCache)(e.route),n.ReflectAdapter.get(t,i,o)),has:(t,r)=>("string"!=typeof r||"then"!==r&&u.wellKnownProperties.has(r)||(0,c.throwForSearchParamsAccessInUseCache)(e.route),n.ReflectAdapter.has(t,r)),ownKeys(){(0,c.throwForSearchParamsAccessInUseCache)(e.route)}});return b.set(e,i),i}function _(e,t){let r=m.get(e);if(r)return r;let n=Promise.resolve(e);return m.set(e,n),Object.keys(e).forEach(r=>{u.wellKnownProperties.has(r)||Object.defineProperty(n,r,{get(){let n=o.workUnitAsyncStorage.getStore();return(0,i.trackDynamicDataInDynamicRender)(t,n),e[r]},set(e){Object.defineProperty(n,r,{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0})}),n}let x=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(S),R=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(O);function S(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`searchParams\` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E249",enumerable:!1,configurable:!0})}function O(e,t,r){let n=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${n}used ${t}. \`searchParams\` should be awaited before using its properties. The following properties were not available through enumeration because they conflict with builtin or well-known property names: ${P(r)}. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E2",enumerable:!1,configurable:!0})}function P(e){switch(e.length){case 0:throw Object.defineProperty(new s.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:!1,configurable:!0});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let r=0;r<e.length-1;r++)t+=`\`${e[r]}\`, `;return t+`, and \`${e[e.length-1]}\``}}}},9228:(e,t,r)=>{"use strict";let n;let i=r(1820),o=r(3997),s=r(9207),{env:a}=process;function l(){if("FORCE_COLOR"in a)return"true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(Number.parseInt(a.FORCE_COLOR,10),3)}function u(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let o=l();void 0!==o&&(n=o);let u=r?n:o;if(0===u)return 0;if(r){if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2}if(e&&!t&&void 0===u)return 0;let f=u||0;if("dumb"===a.TERM)return f;if("win32"===process.platform){let e=i.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(e=>e in a)||"codeship"===a.CI_NAME?1:f;if("TEAMCITY_VERSION"in a)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION);if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){let e=Number.parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:f}function f(e,t={}){return u(c(e,{streamIsTTY:e&&e.isTTY,...t}))}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?n=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(n=1),e.exports={supportsColor:f,stdout:f({isTTY:o.isatty(1)}),stderr:f({isTTY:o.isatty(2)})}},9289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DecodeError:function(){return p},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return m},NormalizeError:function(){return g},PageNotFoundError:function(){return y},SP:function(){return d},ST:function(){return h},WEB_VITALS:function(){return r},execOnce:function(){return n},getDisplayName:function(){return l},getLocationOrigin:function(){return s},getURL:function(){return a},isAbsoluteUrl:function(){return o},isResSent:function(){return u},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return c},stringifyError:function(){return v}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return r||(r=!0,t=e(...i)),t}}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>i.test(e);function s(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function a(){let{href:e}=window.location,t=s();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function u(e){return e.finished||e.headersSent}function c(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&u(r))return n;if(!n)throw Object.defineProperty(Error('"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let d="undefined"!=typeof performance,h=d&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class g extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class m extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function v(e){return JSON.stringify({message:e.message,stack:e.stack})}},9330:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unresolvedThenable",{enumerable:!0,get:function(){return r}});let r={then:()=>{}};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9345:(e,t,r)=>{let{createProxy:n}=r(9844);e.exports=n("/home/lfg/Git/Madtrips/node_modules/next/dist/client/components/layout-router.js")},9357:(e,t,r)=>{"use strict";e.exports=r(4041).vendored["react-ssr"].ReactServerDOMWebpackClientEdge},9359:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3206),t),i(r(137),t)},9385:(e,t)=>{"use strict";function r(e){return Object.prototype.toString.call(e)}function n(e){if("[object Object]"!==r(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t.hasOwnProperty("isPrototypeOf")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getObjectClassLabel:function(){return r},isPlainObject:function(){return n}})},9435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"handleMutable",{enumerable:!0,get:function(){return o}});let n=r(642);function i(e){return void 0!==e}function o(e,t){var r,o;let s=null==(r=t.shouldScroll)||r,a=e.nextUrl;if(i(t.patchedTree)){let r=(0,n.computeChangedPath)(e.tree,t.patchedTree);r?a=r:a||(a=e.canonicalUrl)}return{canonicalUrl:i(t.canonicalUrl)?t.canonicalUrl===e.canonicalUrl?e.canonicalUrl:t.canonicalUrl:e.canonicalUrl,pushRef:{pendingPush:i(t.pendingPush)?t.pendingPush:e.pushRef.pendingPush,mpaNavigation:i(t.mpaNavigation)?t.mpaNavigation:e.pushRef.mpaNavigation,preserveCustomHistoryState:i(t.preserveCustomHistoryState)?t.preserveCustomHistoryState:e.pushRef.preserveCustomHistoryState},focusAndScrollRef:{apply:!!s&&(!!i(null==t?void 0:t.scrollableSegments)||e.focusAndScrollRef.apply),onlyHashChange:t.onlyHashChange||!1,hashFragment:s?t.hashFragment&&""!==t.hashFragment?decodeURIComponent(t.hashFragment.slice(1)):e.focusAndScrollRef.hashFragment:null,segmentPaths:s?null!=(o=null==t?void 0:t.scrollableSegments)?o:e.focusAndScrollRef.segmentPaths:[]},cache:t.cache?t.cache:e.cache,prefetchCache:t.prefetchCache?t.prefetchCache:e.prefetchCache,tree:i(t.patchedTree)?t.patchedTree:e.tree,nextUrl:a}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return o},normalizeRscURL:function(){return s}});let n=r(6453),i=r(3913);function o(e){return(0,n.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,i.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t,""))}function s(e){return e.replace(/\.rsc($|\?)/,"$1")}},9477:(e,t,r)=>{let{createProxy:n}=r(9844);e.exports=n("/home/lfg/Git/Madtrips/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js")},9513:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.HeadManagerContext},9521:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createMetadataComponents",{enumerable:!0,get:function(){return m}});let n=r(7413),i=y(r(1120)),o=r(4838),s=r(6070),a=r(1804),l=r(4114),u=r(2706),c=r(407),f=r(8704),d=r(7625),h=r(2089),p=r(2637);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function m({tree:e,searchParams:t,metadataContext:r,getDynamicParamFromSegment:o,appUsingSizeAdjustment:s,errorType:a,createServerParamsForMetadata:l,workStore:u,MetadataBoundary:c,ViewportBoundary:g,serveStreamingMetadata:y}){function m(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{children:(0,n.jsx)(x,{})}),s?(0,n.jsx)("meta",{name:"next-size-adjust",content:""}):null]})}function v(){return(0,n.jsx)(c,{children:(0,n.jsx)(P,{})})}function E(){return _(e,t,o,l,u,a)}async function x(){try{return await E()}catch(r){if(!a&&(0,f.isHTTPAccessFallbackError)(r))try{return await R(e,t,o,l,u)}catch{}return null}}function S(){return b(e,t,o,r,l,u,a)}async function O(){let n;let i=null;try{return{metadata:n=await S(),error:null,digest:void 0}}catch(s){if(i=s,!a&&(0,f.isHTTPAccessFallbackError)(s))try{return{metadata:n=await w(e,t,o,r,l,u),error:i,digest:null==i?void 0:i.digest}}catch(e){if(i=e,y&&(0,p.isPostpone)(e))throw e}if(y&&(0,p.isPostpone)(s))throw s;return{metadata:n,error:i,digest:null==i?void 0:i.digest}}}async function P(){let e=O();return y?(0,n.jsx)(i.Suspense,{fallback:null,children:(0,n.jsx)(h.AsyncMetadata,{promise:e})}):(await e).metadata}return x.displayName=d.VIEWPORT_BOUNDARY_NAME,P.displayName=d.METADATA_BOUNDARY_NAME,{ViewportTree:m,MetadataTree:v,getViewportReady:async function(){await E()},getMetadataReady:async function(){y||await S()},StreamingMetadataOutlet:function(){return y?(0,n.jsx)(h.AsyncMetadataOutlet,{promise:O()}):null}}}let b=(0,i.cache)(v);async function v(e,t,r,n,i,o,s){return O(e,t,r,n,i,o,"redirect"===s?void 0:s)}let w=(0,i.cache)(E);async function E(e,t,r,n,i,o){return O(e,t,r,n,i,o,"not-found")}let _=(0,i.cache)(x);async function x(e,t,r,n,i,o){return P(e,t,r,n,i,"redirect"===o?void 0:o)}let R=(0,i.cache)(S);async function S(e,t,r,n,i){return P(e,t,r,n,i,"not-found")}async function O(e,t,r,o,s,a,l){let c=A(await (0,u.resolveMetadata)(e,t,l,r,s,a,o));return(0,n.jsx)(n.Fragment,{children:c.map((e,t)=>(0,i.cloneElement)(e,{key:t}))})}async function P(e,t,r,o,s,a){let l=k(await (0,u.resolveViewport)(e,t,a,r,o,s));return(0,n.jsx)(n.Fragment,{children:l.map((e,t)=>(0,i.cloneElement)(e,{key:t}))})}function A(e){return(0,c.MetaFilter)([(0,o.BasicMeta)({metadata:e}),(0,s.AlternatesMetadata)({alternates:e.alternates}),(0,o.ItunesMeta)({itunes:e.itunes}),(0,o.FacebookMeta)({facebook:e.facebook}),(0,o.FormatDetectionMeta)({formatDetection:e.formatDetection}),(0,o.VerificationMeta)({verification:e.verification}),(0,o.AppleWebAppMeta)({appleWebApp:e.appleWebApp}),(0,a.OpenGraphMetadata)({openGraph:e.openGraph}),(0,a.TwitterMetadata)({twitter:e.twitter}),(0,a.AppLinksMeta)({appLinks:e.appLinks}),(0,l.IconsMetadata)({icons:e.icons})])}function k(e){return(0,c.MetaFilter)([(0,o.ViewportMeta)({viewport:e})])}},9608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"bailoutToClientRendering",{enumerable:!0,get:function(){return o}});let n=r(1208),i=r(9294);function o(e){let t=i.workAsyncStorage.getStore();if((null==t||!t.forceStatic)&&(null==t?void 0:t.isStaticGeneration))throw Object.defineProperty(new n.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serverPatchReducer",{enumerable:!0,get:function(){return c}});let n=r(7391),i=r(6770),o=r(2030),s=r(5232),a=r(6928),l=r(9435),u=r(9752);function c(e,t){let{serverResponse:{flightData:r,canonicalUrl:c}}=t,f={};if(f.preserveCustomHistoryState=!1,"string"==typeof r)return(0,s.handleExternalUrl)(e,f,r,e.pushRef.pendingPush);let d=e.tree,h=e.cache;for(let t of r){let{segmentPath:r,tree:l}=t,p=(0,i.applyRouterStatePatchToTree)(["",...r],d,l,e.canonicalUrl);if(null===p)return e;if((0,o.isNavigatingToNewRootLayout)(d,p))return(0,s.handleExternalUrl)(e,f,e.canonicalUrl,e.pushRef.pendingPush);let g=c?(0,n.createHrefFromUrl)(c):void 0;g&&(f.canonicalUrl=g);let y=(0,u.createEmptyCacheNode)();(0,a.applyFlightData)(h,y,t),f.patchedTree=p,f.cache=y,h=y,d=p}return(0,l.handleMutable)(e,f)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9656:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_:()=>i});var n=0;function i(e){return"__private_"+n+++"_"+e}},9695:(e,t,r)=>{"use strict";e.exports=r(4041).vendored.contexts.ServerInsertedHtml},9707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{addSearchParamsToPageSegments:function(){return h},handleAliasedPrefetchEntry:function(){return c}});let n=r(3913),i=r(9752),o=r(6770),s=r(7391),a=r(3123),l=r(3898),u=r(9435);function c(e,t,r,n){let a,c=e.tree,p=e.cache,g=(0,s.createHrefFromUrl)(r);if("string"==typeof t)return!1;for(let e of t){if(!f(e.seedData))continue;let t=e.tree;t=h(t,Object.fromEntries(r.searchParams));let{seedData:n,isRootRender:s,pathToSegment:u}=e,y=["",...u];t=h(t,Object.fromEntries(r.searchParams));let m=(0,o.applyRouterStatePatchToTree)(y,c,t,g),b=(0,i.createEmptyCacheNode)();if(s&&n){let e=n[1];b.loading=n[3],b.rsc=e,d(b,p,t,n)}else b.rsc=p.rsc,b.prefetchRsc=p.prefetchRsc,b.loading=p.loading,b.parallelRoutes=new Map(p.parallelRoutes),(0,l.fillCacheWithNewSubTreeDataButOnlyLoading)(b,p,e);m&&(c=m,p=b,a=!0)}return!!a&&(n.patchedTree=c,n.cache=p,n.canonicalUrl=g,n.hashFragment=r.hash,(0,u.handleMutable)(e,n))}function f(e){if(!e)return!1;let t=e[2];if(e[3])return!0;for(let e in t)if(f(t[e]))return!0;return!1}function d(e,t,r,i){if(0!==Object.keys(r[1]).length)for(let o in r[1]){let s;let l=r[1][o],u=l[0],c=(0,a.createRouterCacheKey)(u),f=null!==i&&void 0!==i[2][o]?i[2][o]:null;if(null!==f){let e=f[1],t=f[3];s={lazyData:null,rsc:u.includes(n.PAGE_SEGMENT_KEY)?null:e,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:t}}else s={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null};let h=e.parallelRoutes.get(o);h?h.set(c,s):e.parallelRoutes.set(o,new Map([[c,s]])),d(s,t,l,f)}}function h(e,t){let[r,i,...o]=e;if(r.includes(n.PAGE_SEGMENT_KEY))return[(0,n.addSearchParamsIfPageSegment)(r,t),i,...o];let s={};for(let[e,r]of Object.entries(i))s[e]=h(r,t);return[r,s,...o]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9735:(e,t)=>{"use strict";function r(e){return null!=e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"nonNullable",{enumerable:!0,get:function(){return r}})},9752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createEmptyCacheNode:function(){return T},createPrefetchURL:function(){return A},default:function(){return U}});let n=r(740),i=r(687),o=n._(r(3210)),s=r(2142),a=r(9154),l=r(7391),u=r(449),c=r(4545),f=n._(r(5656)),d=r(5416),h=r(6127),p=r(7022),g=r(7086),y=r(4397),m=r(9330),b=r(5942),v=r(6736),w=r(642),E=r(2776),_=r(1264);r(593);let x=r(6875),R=r(7860),S=r(5076);r(3406);let O={};function P(e){return e.origin!==window.location.origin}function A(e){let t;if((0,d.isBot)(window.navigator.userAgent))return null;try{t=new URL((0,h.addBasePath)(e),window.location.href)}catch(t){throw Object.defineProperty(Error("Cannot prefetch '"+e+"' because it cannot be converted to a URL."),"__NEXT_ERROR_CODE",{value:"E234",enumerable:!1,configurable:!0})}return P(t)?null:t}function k(e){let{appRouterState:t}=e;return(0,o.useInsertionEffect)(()=>{let{tree:e,pushRef:r,canonicalUrl:n}=t,i={...r.preserveCustomHistoryState?window.history.state:{},__NA:!0,__PRIVATE_NEXTJS_INTERNALS_TREE:e};r.pendingPush&&(0,l.createHrefFromUrl)(new URL(window.location.href))!==n?(r.pendingPush=!1,window.history.pushState(i,"",n)):window.history.replaceState(i,"",n)},[t]),(0,o.useEffect)(()=>{},[t.nextUrl,t.tree]),null}function T(){return{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null}}function M(e){return(0,o.useCallback)(t=>{let{previousTree:r,serverResponse:n}=t;(0,o.startTransition)(()=>{e({type:a.ACTION_SERVER_PATCH,previousTree:r,serverResponse:n})})},[e])}function j(e){return(0,o.useCallback)((t,r,n)=>{let i=new URL((0,h.addBasePath)(t),location.href);return e({type:a.ACTION_NAVIGATE,url:i,isExternalUrl:P(i),locationSearch:location.search,shouldScroll:null==n||n,navigateType:r,allowAliasing:!0})},[e])}function C(e){null==e&&(e={});let t=window.history.state,r=null==t?void 0:t.__NA;r&&(e.__NA=r);let n=null==t?void 0:t.__PRIVATE_NEXTJS_INTERNALS_TREE;return n&&(e.__PRIVATE_NEXTJS_INTERNALS_TREE=n),e}function N(e){let{headCacheNode:t}=e,r=null!==t?t.head:null,n=null!==t?t.prefetchHead:null,i=null!==n?n:r;return(0,o.useDeferredValue)(r,i)}function I(e){let t,{actionQueue:r,assetPrefix:n,globalError:l}=e,[d,h]=(0,c.useReducer)(r),{canonicalUrl:E}=(0,c.useUnwrapState)(d),{searchParams:P,pathname:T}=(0,o.useMemo)(()=>{let e=new URL(E,"http://n");return{searchParams:e.searchParams,pathname:(0,v.hasBasePath)(e.pathname)?(0,b.removeBasePath)(e.pathname):e.pathname}},[E]),I=M(h),U=j(h);(0,_.useServerActionDispatcher)(h);let D=(0,o.useMemo)(()=>({back:()=>window.history.back(),forward:()=>window.history.forward(),prefetch:(e,t)=>{let n=A(e);if(null!==n){var i;(0,S.prefetchReducer)(r.state,{type:a.ACTION_PREFETCH,url:n,kind:null!=(i=null==t?void 0:t.kind)?i:a.PrefetchKind.FULL})}},replace:(e,t)=>{void 0===t&&(t={}),(0,o.startTransition)(()=>{var r;U(e,"replace",null==(r=t.scroll)||r)})},push:(e,t)=>{void 0===t&&(t={}),(0,o.startTransition)(()=>{var r;U(e,"push",null==(r=t.scroll)||r)})},refresh:()=>{(0,o.startTransition)(()=>{h({type:a.ACTION_REFRESH,origin:window.location.origin})})},hmrRefresh:()=>{throw Object.defineProperty(Error("hmrRefresh can only be used in development mode. Please use refresh instead."),"__NEXT_ERROR_CODE",{value:"E485",enumerable:!1,configurable:!0})}}),[r,h,U]);(0,o.useEffect)(()=>{window.next&&(window.next.router=D)},[D]),(0,o.useEffect)(()=>{function e(e){var t;e.persisted&&(null==(t=window.history.state)?void 0:t.__PRIVATE_NEXTJS_INTERNALS_TREE)&&(O.pendingMpaPath=void 0,h({type:a.ACTION_RESTORE,url:new URL(window.location.href),tree:window.history.state.__PRIVATE_NEXTJS_INTERNALS_TREE}))}return window.addEventListener("pageshow",e),()=>{window.removeEventListener("pageshow",e)}},[h]),(0,o.useEffect)(()=>{function e(e){let t="reason"in e?e.reason:e.error;if((0,R.isRedirectError)(t)){e.preventDefault();let r=(0,x.getURLFromRedirectError)(t);(0,x.getRedirectTypeFromError)(t)===R.RedirectType.push?D.push(r,{}):D.replace(r,{})}}return window.addEventListener("error",e),window.addEventListener("unhandledrejection",e),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",e)}},[D]);let{pushRef:L}=(0,c.useUnwrapState)(d);if(L.mpaNavigation){if(O.pendingMpaPath!==E){let e=window.location;L.pendingPush?e.assign(E):e.replace(E),O.pendingMpaPath=E}(0,o.use)(m.unresolvedThenable)}(0,o.useEffect)(()=>{let e=window.history.pushState.bind(window.history),t=window.history.replaceState.bind(window.history),r=e=>{var t;let r=window.location.href,n=null==(t=window.history.state)?void 0:t.__PRIVATE_NEXTJS_INTERNALS_TREE;(0,o.startTransition)(()=>{h({type:a.ACTION_RESTORE,url:new URL(null!=e?e:r,r),tree:n})})};window.history.pushState=function(t,n,i){return(null==t?void 0:t.__NA)||(null==t?void 0:t._N)||(t=C(t),i&&r(i)),e(t,n,i)},window.history.replaceState=function(e,n,i){return(null==e?void 0:e.__NA)||(null==e?void 0:e._N)||(e=C(e),i&&r(i)),t(e,n,i)};let n=e=>{if(e.state){if(!e.state.__NA){window.location.reload();return}(0,o.startTransition)(()=>{h({type:a.ACTION_RESTORE,url:new URL(window.location.href),tree:e.state.__PRIVATE_NEXTJS_INTERNALS_TREE})})}};return window.addEventListener("popstate",n),()=>{window.history.pushState=e,window.history.replaceState=t,window.removeEventListener("popstate",n)}},[h]);let{cache:F,tree:$,nextUrl:H,focusAndScrollRef:z}=(0,c.useUnwrapState)(d),q=(0,o.useMemo)(()=>(0,y.findHeadInCache)(F,$[1]),[F,$]),W=(0,o.useMemo)(()=>(0,w.getSelectedParams)($),[$]),V=(0,o.useMemo)(()=>({parentTree:$,parentCacheNode:F,parentSegmentPath:null,url:E}),[$,F,E]),K=(0,o.useMemo)(()=>({changeByServerResponse:I,tree:$,focusAndScrollRef:z,nextUrl:H}),[I,$,z,H]);if(null!==q){let[e,r]=q;t=(0,i.jsx)(N,{headCacheNode:e},r)}else t=null;let G=(0,i.jsxs)(g.RedirectBoundary,{children:[t,F.rsc,(0,i.jsx)(p.AppRouterAnnouncer,{tree:$})]});return G=(0,i.jsx)(f.ErrorBoundary,{errorComponent:l[0],errorStyles:l[1],children:G}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k,{appRouterState:(0,c.useUnwrapState)(d)}),(0,i.jsx)(B,{}),(0,i.jsx)(u.PathParamsContext.Provider,{value:W,children:(0,i.jsx)(u.PathnameContext.Provider,{value:T,children:(0,i.jsx)(u.SearchParamsContext.Provider,{value:P,children:(0,i.jsx)(s.GlobalLayoutRouterContext.Provider,{value:K,children:(0,i.jsx)(s.AppRouterContext.Provider,{value:D,children:(0,i.jsx)(s.LayoutRouterContext.Provider,{value:V,children:G})})})})})})]})}function U(e){let{actionQueue:t,globalErrorComponentAndStyles:[r,n],assetPrefix:o}=e;return(0,E.useNavFailureHandler)(),(0,i.jsx)(f.ErrorBoundary,{errorComponent:f.default,children:(0,i.jsx)(I,{actionQueue:t,assetPrefix:o,globalError:[r,n]})})}let D=new Set,L=new Set;function B(){let[,e]=o.default.useState(0),t=D.size;(0,o.useEffect)(()=>{let r=()=>e(e=>e+1);return L.add(r),t!==D.size&&r(),()=>{L.delete(r)}},[t,e]);let r="";return[...D].map((e,t)=>(0,i.jsx)("link",{rel:"stylesheet",href:""+e+r,precedence:"next"},t))}globalThis._N_E_STYLE_LOAD=function(e){let t=D.size;return D.add(e),D.size!==t&&L.forEach(e=>e()),Promise.resolve()},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createProxy",{enumerable:!0,get:function(){return n}});let n=r(2907).createClientModuleProxy},9880:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getAppBuildId:function(){return i},setAppBuildId:function(){return n}});let r="";function n(e){r=e}function i(){return r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9977:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_HEADER:function(){return n},FLIGHT_HEADERS:function(){return c},NEXT_DID_POSTPONE_HEADER:function(){return h},NEXT_HMR_REFRESH_HEADER:function(){return a},NEXT_IS_PRERENDER_HEADER:function(){return y},NEXT_REWRITTEN_PATH_HEADER:function(){return p},NEXT_REWRITTEN_QUERY_HEADER:function(){return g},NEXT_ROUTER_PREFETCH_HEADER:function(){return o},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return s},NEXT_ROUTER_STALE_TIME_HEADER:function(){return d},NEXT_ROUTER_STATE_TREE_HEADER:function(){return i},NEXT_RSC_UNION_QUERY:function(){return f},NEXT_URL:function(){return l},RSC_CONTENT_TYPE_HEADER:function(){return u},RSC_HEADER:function(){return r}});let r="RSC",n="Next-Action",i="Next-Router-State-Tree",o="Next-Router-Prefetch",s="Next-Router-Segment-Prefetch",a="Next-HMR-Refresh",l="Next-Url",u="text/x-component",c=[r,i,o,a,s],f="_rsc",d="x-nextjs-stale-time",h="x-nextjs-postponed",p="x-nextjs-rewritten-path",g="x-nextjs-rewritten-query",y="x-nextjs-prerender";("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(7413),i=r(1765);function o(){return(0,n.jsx)(i.HTTPAccessErrorFallback,{status:403,message:"This page could not be accessed."})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};