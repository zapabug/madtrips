"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/community/page",{

/***/ "(app-pages-browser)/./src/components/community/SocialGraph.tsx":
/*!**************************************************!*\
  !*** ./src/components/community/SocialGraph.tsx ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SocialGraph: () => (/* binding */ SocialGraph),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"(app-pages-browser)/./node_modules/next/dist/api/app-dynamic.js\");\n/* harmony import */ var _lib_contexts_NostrContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/contexts/NostrContext */ \"(app-pages-browser)/./src/lib/contexts/NostrContext.tsx\");\n/* __next_internal_client_entry_do_not_use__ SocialGraph,default auto */ \nvar _s = $RefreshSig$();\n\n\n\n// Dynamically import the ForceGraph2D component with no SSR\nconst ForceGraph2D = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_react-force-graph-2d_dist_react-force-graph-2d_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! react-force-graph-2d */ \"(app-pages-browser)/./node_modules/react-force-graph-2d/dist/react-force-graph-2d.mjs\")).then((mod)=>mod.default), {\n    loadableGenerated: {\n        modules: [\n            \"components/community/SocialGraph.tsx -> \" + \"react-force-graph-2d\"\n        ]\n    },\n    ssr: false\n});\n_c = ForceGraph2D;\n// Define the core NPUBs that we want to focus on\nconst CORE_NPUBS = [\n    \"npub1etgqcj9gc6yaxttuwu9eqgs3ynt2dzaudvwnrssrn2zdt2useaasfj8n6e\",\n    \"npub1s0veng2gvfwr62acrxhnqexq76sj6ldg3a5t935jy8e6w3shr5vsnwrmq5\",\n    \"npub1dxd02kcjhgpkyrx60qnkd6j42kmc72u5lum0rp2ud8x5zfhnk4zscjj6hh\",\n    \"npub1funchalx8v747rsee6ahsuyrcd2s3rnxlyrtumfex9lecpmgwars6hq8kc\"\n];\n// Fallback profile image for nodes without a picture\nconst DEFAULT_PROFILE_IMAGE = \"https://nostr.build/i/nostr.build_d421c1d7fd21c5d73c3428f0fc5ed7359cedb81bcad8074de350bec2d02e9a67.jpeg\";\n// Branding colors\nconst BRAND_COLORS = {\n    bitcoinOrange: '#F7931A',\n    deepBlue: '#1E3A8A',\n    forestGreen: '#0F4C35',\n    lightSand: '#F5E3C3',\n    white: '#FFFFFF'\n};\nconst SocialGraph = (param)=>{\n    let { centerNpub = CORE_NPUBS[0], npubs = CORE_NPUBS, maxConnections = 25, height = 600, width = '100%', className = '', data } = param;\n    _s();\n    const [graphData, setGraphData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedNode, setSelectedNode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [nodeImages, setNodeImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Map());\n    const [loadingImages, setLoadingImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [useMockData, setUseMockData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { ndk, user, getSocialGraph } = (0,_lib_contexts_NostrContext__WEBPACK_IMPORTED_MODULE_3__.useNostr)();\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dimensions, setDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 800,\n        height: 600\n    });\n    // Function to convert node's NPUB to shortened form for display\n    const shortenNpub = (npub)=>{\n        if (!npub) return '';\n        return \"\".concat(npub.substring(0, 6), \"...\").concat(npub.substring(npub.length - 4));\n    };\n    // Handle click on a node - open the Nostr profile in a Nostr viewer\n    const handleNodeClick = (node)=>{\n        if (!node || !node.npub) return;\n        setSelectedNode(node);\n        console.log('Node clicked:', node);\n        // Open the Nostr profile in njump.me\n        const url = \"https://njump.me/\".concat(node.npub);\n        window.open(url, '_blank');\n    };\n    // Preload images for all nodes\n    const preloadImages = (nodes)=>{\n        if (loadingImages) return;\n        setLoadingImages(true);\n        const newImages = new Map();\n        let loadedCount = 0;\n        const totalImages = nodes.length;\n        nodes.forEach((node)=>{\n            // Skip if we already have this image\n            if (nodeImages.has(node.npub)) return;\n            // Get profile image URL\n            let imageUrl = DEFAULT_PROFILE_IMAGE;\n            // Use picture from node if available\n            if (node.picture) {\n                imageUrl = node.picture;\n            }\n            const img = new Image();\n            img.crossOrigin = 'anonymous';\n            img.onload = ()=>{\n                newImages.set(node.npub, img);\n                loadedCount++;\n                // When all images are loaded, update the state\n                if (loadedCount === totalImages) {\n                    setNodeImages((prev)=>new Map([\n                            ...prev,\n                            ...newImages\n                        ]));\n                    setLoadingImages(false);\n                }\n            };\n            img.onerror = ()=>{\n                // On error, try with the default image\n                const defaultImg = new Image();\n                defaultImg.crossOrigin = 'anonymous';\n                defaultImg.src = DEFAULT_PROFILE_IMAGE;\n                defaultImg.onload = ()=>{\n                    newImages.set(node.npub, defaultImg);\n                    loadedCount++;\n                    if (loadedCount === totalImages) {\n                        setNodeImages((prev)=>new Map([\n                                ...prev,\n                                ...newImages\n                            ]));\n                        setLoadingImages(false);\n                    }\n                };\n                defaultImg.onerror = ()=>{\n                    // If even the default fails, increment counter\n                    loadedCount++;\n                    if (loadedCount === totalImages) {\n                        setNodeImages((prev)=>new Map([\n                                ...prev,\n                                ...newImages\n                            ]));\n                        setLoadingImages(false);\n                    }\n                };\n            };\n            img.src = imageUrl;\n        });\n    };\n    // Convert our graph data to the format expected by the visualization libraries\n    const convertGraphData = (data)=>{\n        return {\n            nodes: data.nodes.map((node)=>({\n                    ...node,\n                    // Add any additional properties needed for visualization\n                    val: node.val || (node.isCoreNode ? 15 : 5),\n                    color: node.color || (node.isCoreNode ? BRAND_COLORS.bitcoinOrange : BRAND_COLORS.lightSand)\n                })),\n            links: data.links.map((link)=>{\n                var _link_source, _link_target;\n                return {\n                    source: typeof link.source === 'string' ? link.source : ((_link_source = link.source) === null || _link_source === void 0 ? void 0 : _link_source.id) || '',\n                    target: typeof link.target === 'string' ? link.target : ((_link_target = link.target) === null || _link_target === void 0 ? void 0 : _link_target.id) || '',\n                    value: link.value || 1,\n                    color: link.color || (link.type === 'mutual' ? BRAND_COLORS.forestGreen : '#adb5bd')\n                };\n            })\n        };\n    };\n    // Fetch real data from Nostr\n    const fetchNostrData = async ()=>{\n        // Default to mock data if not explicitly using real data\n        if (!ndk || !user) {\n            setError(\"Nostr client not initialized or user not logged in. Please log in with a Nostr extension first.\");\n            console.log(\"NDK not initialized or user not logged in - using mock data for visualization\");\n            setGraphData(generateMockData());\n            return;\n        }\n        setIsLoading(true);\n        setError(null);\n        try {\n            // Validate NPUBs before making the API call\n            const validNpubs = npubs.filter((npub)=>typeof npub === 'string' && npub.startsWith('npub1') && npub.length === 63);\n            if (validNpubs.length === 0) {\n                console.warn(\"No valid NPUBs to fetch data for - using mock data\");\n                setGraphData(generateMockData());\n                return;\n            }\n            console.log(\"Fetching Nostr social graph data for NPUBs:\", validNpubs);\n            const realData = await getSocialGraph(validNpubs, maxConnections);\n            // Check if we got valid data\n            if (realData && realData.nodes && realData.nodes.length > 0) {\n                console.log(\"Successfully fetched social graph with \".concat(realData.nodes.length, \" nodes and \").concat(realData.links.length, \" links\"));\n                setGraphData(realData);\n                // If we successfully loaded data, we don't need mock data anymore\n                if (useMockData) setUseMockData(false);\n            } else {\n                console.warn(\"Received empty graph data from Nostr - using mock data\");\n                setGraphData(generateMockData());\n            }\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : String(error);\n            console.error(\"Error fetching Nostr social graph:\", error);\n            setError(\"Failed to load Nostr data: \".concat(errorMessage));\n            // Always fall back to mock data on error\n            console.log(\"Error occurred - falling back to mock data\");\n            setGraphData(generateMockData());\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Toggle between real and mock data\n    const toggleMockData = ()=>{\n        const newState = !useMockData;\n        setUseMockData(newState);\n        if (newState) {\n            // Use mock data\n            setGraphData(generateMockData());\n            setError(\"Using mock data for demonstration\");\n        } else {\n            // Try to use real data\n            setGraphData(null); // Clear existing data\n            fetchNostrData();\n        }\n    };\n    // Mock data generation for fallback/demonstration\n    const generateMockData = ()=>{\n        const nodes = [];\n        const links = [];\n        // Add core NPUBs as nodes\n        npubs.forEach((npub, index)=>{\n            nodes.push({\n                id: npub,\n                npub,\n                name: getNameForNpub(npub),\n                displayName: getNameForNpub(npub),\n                picture: DEFAULT_PROFILE_IMAGES[npub] || undefined,\n                isCoreNode: true,\n                isCenter: npub === centerNpub,\n                nodeType: 'profile',\n                group: 1\n            });\n        });\n        // Generate random connections between nodes\n        for(let i = 0; i < npubs.length; i++){\n            // For each core NPUB, create some random followers\n            const followerCount = Math.floor(Math.random() * 10) + 5;\n            for(let j = 0; j < followerCount; j++){\n                const followerNpub = \"npub\".concat(Math.random().toString(36).substring(2, 15));\n                // Add follower node\n                nodes.push({\n                    id: followerNpub,\n                    npub: followerNpub,\n                    name: \"Follower \".concat(j, \" of \").concat(i),\n                    displayName: \"User \".concat(npubs.length + j),\n                    // Random profile picture for followers\n                    picture: getRandomProfilePicture(),\n                    isCoreNode: false,\n                    nodeType: 'follower',\n                    group: 2\n                });\n                // Add connection from follower to core NPUB\n                links.push({\n                    source: followerNpub,\n                    target: npubs[i],\n                    type: 'follows',\n                    value: Math.random() * 2 + 1\n                });\n                // Sometimes add mutual follows\n                if (Math.random() > 0.7) {\n                    links.push({\n                        source: npubs[i],\n                        target: followerNpub,\n                        type: 'follows',\n                        value: Math.random() * 2 + 1\n                    });\n                }\n            }\n        }\n        // Add some connections between core NPUBs\n        for(let i = 0; i < npubs.length; i++){\n            for(let j = i + 1; j < npubs.length; j++){\n                if (Math.random() > 0.3) {\n                    links.push({\n                        source: npubs[i],\n                        target: npubs[j],\n                        type: 'mutual',\n                        value: 3\n                    });\n                }\n            }\n        }\n        console.log(\"Using mock data for social graph visualization\");\n        return {\n            nodes,\n            links\n        };\n    };\n    // Get a name for an NPUB (for mocking)\n    const getNameForNpub = (npub)=>{\n        // Return specific names for known NPUBs\n        switch(npub){\n            case \"npub1etgqcj9gc6yaxttuwu9eqgs3ynt2dzaudvwnrssrn2zdt2useaasfj8n6e\":\n                return \"Free Madeira\";\n            case \"npub1s0veng2gvfwr62acrxhnqexq76sj6ldg3a5t935jy8e6w3shr5vsnwrmq5\":\n                return \"Bitcoin Madeira\";\n            case \"npub1dxd02kcjhgpkyrx60qnkd6j42kmc72u5lum0rp2ud8x5zfhnk4zscjj6hh\":\n                return \"Madtrips\";\n            case \"npub1funchalx8v747rsee6ahsuyrcd2s3rnxlyrtumfex9lecpmgwars6hq8kc\":\n                return \"Funchal\";\n            default:\n                return \"Nostr \".concat(shortenNpub(npub));\n        }\n    };\n    // Default profile images for the core NPUBs (fallback)\n    const DEFAULT_PROFILE_IMAGES = {\n        \"npub1etgqcj9gc6yaxttuwu9eqgs3ynt2dzaudvwnrssrn2zdt2useaasfj8n6e\": \"https://pbs.twimg.com/profile_images/1651198611996639235/CKc6YTq3_400x400.jpg\",\n        \"npub1s0veng2gvfwr62acrxhnqexq76sj6ldg3a5t935jy8e6w3shr5vsnwrmq5\": \"https://pbs.twimg.com/profile_images/1475551024915496967/FPajZGkw_400x400.jpg\",\n        \"npub1dxd02kcjhgpkyrx60qnkd6j42kmc72u5lum0rp2ud8x5zfhnk4zscjj6hh\": \"https://pbs.twimg.com/profile_images/1475551024915496967/FPajZGkw_400x400.jpg\",\n        \"npub1funchalx8v747rsee6ahsuyrcd2s3rnxlyrtumfex9lecpmgwars6hq8kc\": \"https://cdn.nostr.build/p/X3qn.jpeg\"\n    };\n    // Get a random profile picture for mock followers\n    const getRandomProfilePicture = ()=>{\n        // List of sample profile pictures (using placeholder service)\n        const placeholders = [\n            \"https://i.pravatar.cc/150?img=1\",\n            \"https://i.pravatar.cc/150?img=2\",\n            \"https://i.pravatar.cc/150?img=3\",\n            \"https://i.pravatar.cc/150?img=4\",\n            \"https://i.pravatar.cc/150?img=5\",\n            \"https://i.pravatar.cc/150?img=6\",\n            \"https://i.pravatar.cc/150?img=7\",\n            \"https://i.pravatar.cc/150?img=8\"\n        ];\n        return placeholders[Math.floor(Math.random() * placeholders.length)];\n    };\n    // Update dimensions when container size changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SocialGraph.useEffect\": ()=>{\n            if (!containerRef.current) return;\n            const updateDimensions = {\n                \"SocialGraph.useEffect.updateDimensions\": ()=>{\n                    if (containerRef.current) {\n                        const { offsetWidth, offsetHeight } = containerRef.current;\n                        setDimensions({\n                            width: offsetWidth,\n                            height: typeof height === 'number' ? height : offsetHeight\n                        });\n                    }\n                }\n            }[\"SocialGraph.useEffect.updateDimensions\"];\n            // Initial update\n            updateDimensions();\n            // Add resize listener\n            window.addEventListener('resize', updateDimensions);\n            // Cleanup\n            return ({\n                \"SocialGraph.useEffect\": ()=>window.removeEventListener('resize', updateDimensions)\n            })[\"SocialGraph.useEffect\"];\n        }\n    }[\"SocialGraph.useEffect\"], [\n        height,\n        width\n    ]);\n    // Initialize graph data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SocialGraph.useEffect\": ()=>{\n            // Define the initialization function\n            const initializeData = {\n                \"SocialGraph.useEffect.initializeData\": async ()=>{\n                    // Always use user-provided data first if available\n                    if (data) {\n                        setGraphData(data);\n                        return;\n                    }\n                    // Use mock data if explicitly requested\n                    if (useMockData) {\n                        setGraphData(generateMockData());\n                        return;\n                    }\n                    // Otherwise try to fetch real data, with built-in fallback\n                    try {\n                        // If not logged in, just use mock data without showing error\n                        if (!user || !ndk) {\n                            console.log(\"User not logged in - using mock data without error\");\n                            setGraphData(generateMockData());\n                            return;\n                        }\n                        await fetchNostrData();\n                    } catch (err) {\n                        console.error(\"Error initializing graph data:\", err);\n                        // Always fall back to mock data if there's an error\n                        setGraphData(generateMockData());\n                        // Only set error if it's not because user is not logged in\n                        if (user && ndk) {\n                            setError(\"Error initializing graph: \".concat(err instanceof Error ? err.message : String(err)));\n                        }\n                    }\n                }\n            }[\"SocialGraph.useEffect.initializeData\"];\n            // Run the initialization\n            initializeData();\n        }\n    }[\"SocialGraph.useEffect\"], [\n        data,\n        npubs,\n        centerNpub,\n        maxConnections,\n        useMockData,\n        ndk,\n        user\n    ]);\n    // Preload images when graph data changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SocialGraph.useEffect\": ()=>{\n            if (graphData === null || graphData === void 0 ? void 0 : graphData.nodes) {\n                preloadImages(graphData.nodes);\n            }\n        }\n    }[\"SocialGraph.useEffect\"], [\n        graphData\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        className: \"social-graph-container \".concat(className, \" bg-gradient-to-br from-\").concat(BRAND_COLORS.deepBlue.substring(1), \" to-\").concat(BRAND_COLORS.forestGreen.substring(1), \" rounded-lg shadow-lg overflow-hidden\"),\n        style: {\n            height: typeof height === 'number' ? \"\".concat(height, \"px\") : height,\n            width: typeof width === 'number' ? \"\".concat(width, \"px\") : width\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full h-full relative\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-0 left-0 z-10 p-2 flex items-center space-x-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"font-medium px-3 py-1 bg-white/30 border border-gray-200 rounded shadow-sm text-sm\",\n                            style: {\n                                color: BRAND_COLORS.lightSand\n                            },\n                            children: \"Bitcoin Madeira Social Graph\"\n                        }, void 0, false, {\n                            fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                            lineNumber: 482,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: fetchNostrData,\n                            disabled: isLoading,\n                            className: \"px-3 py-1 bg-white/20 hover:bg-white/30 rounded shadow-sm text-sm font-medium border border-gray-200 flex items-center \".concat(isLoading ? 'opacity-50' : ''),\n                            \"aria-label\": \"Reload graph\",\n                            style: {\n                                color: BRAND_COLORS.lightSand\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                    className: \"h-4 w-4 mr-1 \".concat(isLoading ? 'animate-spin' : ''),\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                        lineNumber: 493,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                    lineNumber: 492,\n                                    columnNumber: 13\n                                }, undefined),\n                                isLoading ? 'Loading...' : 'Reload'\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                            lineNumber: 485,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: toggleMockData,\n                            className: \"px-3 py-1 bg-white/20 hover:bg-white/30 rounded shadow-sm text-sm font-medium border border-gray-200 flex items-center\",\n                            \"aria-label\": useMockData ? \"Use real data\" : \"Use mock data\",\n                            style: {\n                                color: useMockData ? BRAND_COLORS.lightSand : BRAND_COLORS.bitcoinOrange\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                    className: \"h-4 w-4 mr-1\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                        lineNumber: 505,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                    lineNumber: 504,\n                                    columnNumber: 13\n                                }, undefined),\n                                useMockData ? 'Using Mock Data' : 'Using Real Data'\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                            lineNumber: 498,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                    lineNumber: 481,\n                    columnNumber: 9\n                }, undefined),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-12 left-0 z-10 p-2 w-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded max-w-md mx-auto\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm\",\n                                children: error\n                            }, void 0, false, {\n                                fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                lineNumber: 514,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-end mt-1\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setError(null),\n                                    className: \"text-xs text-red-600 hover:text-red-800\",\n                                    children: \"Dismiss\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                    lineNumber: 516,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                lineNumber: 515,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                        lineNumber: 513,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                    lineNumber: 512,\n                    columnNumber: 11\n                }, undefined),\n                selectedNode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute bottom-0 left-0 z-10 p-2 w-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"shadow-sm p-3 max-w-xs mx-auto border border-gray-200 rounded-lg\",\n                        style: {\n                            backgroundColor: BRAND_COLORS.deepBlue\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-10 h-10 rounded-full overflow-hidden mr-3 border-2\",\n                                        style: {\n                                            borderColor: BRAND_COLORS.bitcoinOrange\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: selectedNode.picture || DEFAULT_PROFILE_IMAGE,\n                                            alt: selectedNode.name || shortenNpub(selectedNode.npub),\n                                            className: \"w-full h-full object-cover\",\n                                            onError: (e)=>{\n                                                e.target.src = DEFAULT_PROFILE_IMAGE;\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                            lineNumber: 532,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                        lineNumber: 531,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"font-medium\",\n                                                style: {\n                                                    color: BRAND_COLORS.lightSand\n                                                },\n                                                children: selectedNode.name || shortenNpub(selectedNode.npub)\n                                            }, void 0, false, {\n                                                fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                                lineNumber: 542,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs\",\n                                                style: {\n                                                    color: BRAND_COLORS.lightSand + '99'\n                                                },\n                                                children: shortenNpub(selectedNode.npub)\n                                            }, void 0, false, {\n                                                fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                                lineNumber: 543,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                        lineNumber: 541,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                lineNumber: 530,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 flex justify-end\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                    href: \"https://njump.me/\".concat(selectedNode.npub),\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\",\n                                    className: \"text-xs hover:underline\",\n                                    style: {\n                                        color: BRAND_COLORS.bitcoinOrange\n                                    },\n                                    children: \"View on Nostr →\"\n                                }, void 0, false, {\n                                    fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                    lineNumber: 547,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                lineNumber: 546,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                        lineNumber: 529,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                    lineNumber: 528,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full h-full\",\n                    children: [\n                        isLoading && !graphData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 flex items-center justify-center bg-white/10 z-10\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-12 h-12 border-4 border-t-transparent rounded-full animate-spin mb-3\",\n                                        style: {\n                                            borderColor: BRAND_COLORS.bitcoinOrange,\n                                            borderTopColor: 'transparent'\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                        lineNumber: 565,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        style: {\n                                            color: BRAND_COLORS.lightSand\n                                        },\n                                        children: \"Loading Nostr connections...\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                        lineNumber: 566,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                lineNumber: 564,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                            lineNumber: 563,\n                            columnNumber: 13\n                        }, undefined),\n                        !isLoading && !graphData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 flex items-center justify-center bg-white/10 z-10\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        style: {\n                                            color: BRAND_COLORS.lightSand\n                                        },\n                                        className: \"mb-3\",\n                                        children: \"No graph data available\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                        lineNumber: 574,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>useMockData ? setGraphData(generateMockData()) : fetchNostrData(),\n                                        className: \"px-4 py-2 rounded hover:opacity-90\",\n                                        style: {\n                                            backgroundColor: BRAND_COLORS.bitcoinOrange\n                                        },\n                                        children: useMockData ? 'Generate Mock Data' : 'Load Data'\n                                    }, void 0, false, {\n                                        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                        lineNumber: 575,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                                lineNumber: 573,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                            lineNumber: 572,\n                            columnNumber: 13\n                        }, undefined),\n                        graphData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ForceGraph2D, {\n                            graphData: convertGraphData(graphData),\n                            nodeColor: (node)=>node.color || BRAND_COLORS.lightSand,\n                            nodeVal: (node)=>node.val || 1,\n                            linkColor: (link)=>link.color || '#adb5bd',\n                            linkWidth: (link)=>Math.sqrt(link.value || 1),\n                            onNodeClick: handleNodeClick,\n                            width: dimensions.width,\n                            height: dimensions.height,\n                            nodeCanvasObject: (node, ctx, globalScale)=>{\n                                const nodeSize = node.val || 5;\n                                // Get the node image from cache or get default image\n                                const imageSource = nodeImages.get(node.npub);\n                                // Draw the node with profile image if available\n                                if (imageSource) {\n                                    try {\n                                        // Create circular clipping path\n                                        ctx.save();\n                                        ctx.beginPath();\n                                        ctx.arc(node.x, node.y, nodeSize, 0, 2 * Math.PI);\n                                        ctx.clip();\n                                        // Draw the profile image\n                                        const imgSize = nodeSize * 2;\n                                        ctx.drawImage(imageSource, node.x - nodeSize, node.y - nodeSize, imgSize, imgSize);\n                                        ctx.restore();\n                                    } catch (err) {\n                                        // Fallback to circle if image drawing fails\n                                        ctx.beginPath();\n                                        ctx.fillStyle = node.color || BRAND_COLORS.lightSand;\n                                        ctx.arc(node.x, node.y, nodeSize, 0, 2 * Math.PI);\n                                        ctx.fill();\n                                    }\n                                } else {\n                                    // Fallback to plain circle if no image\n                                    ctx.beginPath();\n                                    ctx.fillStyle = node.color || BRAND_COLORS.lightSand;\n                                    ctx.arc(node.x, node.y, nodeSize, 0, 2 * Math.PI);\n                                    ctx.fill();\n                                }\n                                // Add highlight border for core nodes\n                                if (node.isCoreNode) {\n                                    ctx.beginPath();\n                                    ctx.strokeStyle = BRAND_COLORS.bitcoinOrange; // Bitcoin orange for core nodes\n                                    ctx.lineWidth = 2;\n                                    ctx.arc(node.x, node.y, nodeSize + 2, 0, 2 * Math.PI);\n                                    ctx.stroke();\n                                }\n                            // No labels as per user's request\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                            lineNumber: 587,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n                    lineNumber: 561,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n            lineNumber: 480,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/lfg/Git/Madtrips/src/components/community/SocialGraph.tsx\",\n        lineNumber: 472,\n        columnNumber: 5\n    }, undefined);\n};\n_s(SocialGraph, \"1X1gG7UMKiEELXpzGTp9lpZQTzw=\", false, function() {\n    return [\n        _lib_contexts_NostrContext__WEBPACK_IMPORTED_MODULE_3__.useNostr\n    ];\n});\n_c1 = SocialGraph;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SocialGraph);\nvar _c, _c1;\n$RefreshReg$(_c, \"ForceGraph2D\");\n$RefreshReg$(_c1, \"SocialGraph\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2NvbW11bml0eS9Tb2NpYWxHcmFwaC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRTJEO0FBQ3hCO0FBRW9CO0FBRXZELDREQUE0RDtBQUM1RCxNQUFNTSxlQUFlRix3REFBT0EsQ0FBQyxJQUFNLG9TQUE4QixDQUFDRyxJQUFJLENBQUNDLENBQUFBLE1BQU9BLElBQUlDLE9BQU87Ozs7OztJQUFLQyxLQUFLOztLQUE3Rko7QUFFTixpREFBaUQ7QUFDakQsTUFBTUssYUFBYTtJQUNqQjtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBRUQscURBQXFEO0FBQ3JELE1BQU1DLHdCQUF3QjtBQUU5QixrQkFBa0I7QUFDbEIsTUFBTUMsZUFBZTtJQUNuQkMsZUFBZTtJQUNmQyxVQUFVO0lBQ1ZDLGFBQWE7SUFDYkMsV0FBVztJQUNYQyxPQUFPO0FBQ1Q7QUEwRE8sTUFBTUMsY0FBMEM7UUFBQyxFQUN0REMsYUFBYVQsVUFBVSxDQUFDLEVBQUUsRUFDMUJVLFFBQVFWLFVBQVUsRUFDbEJXLGlCQUFpQixFQUFFLEVBQ25CQyxTQUFTLEdBQUcsRUFDWkMsUUFBUSxNQUFNLEVBQ2RDLFlBQVksRUFBRSxFQUNkQyxJQUFJLEVBQ0w7O0lBQ0MsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUd6QiwrQ0FBUUEsQ0FBbUI7SUFDN0QsTUFBTSxDQUFDMEIsY0FBY0MsZ0JBQWdCLEdBQUczQiwrQ0FBUUEsQ0FBbUI7SUFDbkUsTUFBTSxDQUFDNEIsWUFBWUMsY0FBYyxHQUFHN0IsK0NBQVFBLENBQWdDLElBQUk4QjtJQUNoRixNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHaEMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDaUMsV0FBV0MsYUFBYSxHQUFHbEMsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDbUMsT0FBT0MsU0FBUyxHQUFHcEMsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQ3FDLGFBQWFD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QUlpQixTQUFTLEdBQUc7b0NBQ2hCakIsSUFBSU8sR0FBRyxDQUFDdEgsS0FBS3VILENBQUMsRUFBWXZILEtBQUt3SCxDQUFDLEVBQVlQLFdBQVcsR0FBRyxHQUFHLElBQUlwRCxLQUFLNEQsRUFBRTtvQ0FDeEVWLElBQUl2QixNQUFNO2dDQUNaOzRCQUVBLGtDQUFrQzs0QkFDcEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT2QsRUFBRTtHQXZqQlcxSDs7UUFnQjJCZCxnRUFBUUE7OztNQWhCbkNjO0FBeWpCYixpRUFBZUEsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsiL2hvbWUvbGZnL0dpdC9NYWR0cmlwcy9zcmMvY29tcG9uZW50cy9jb21tdW5pdHkvU29jaWFsR3JhcGgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IHVzZU5vc3RyIH0gZnJvbSAnQC9saWIvY29udGV4dHMvTm9zdHJDb250ZXh0JztcblxuLy8gRHluYW1pY2FsbHkgaW1wb3J0IHRoZSBGb3JjZUdyYXBoMkQgY29tcG9uZW50IHdpdGggbm8gU1NSXG5jb25zdCBGb3JjZUdyYXBoMkQgPSBkeW5hbWljKCgpID0+IGltcG9ydCgncmVhY3QtZm9yY2UtZ3JhcGgtMmQnKS50aGVuKG1vZCA9PiBtb2QuZGVmYXVsdCksIHsgc3NyOiBmYWxzZSB9KTtcblxuLy8gRGVmaW5lIHRoZSBjb3JlIE5QVUJzIHRoYXQgd2Ugd2FudCB0byBmb2N1cyBvblxuY29uc3QgQ09SRV9OUFVCUyA9IFtcbiAgXCJucHViMWV0Z3FjajlnYzZ5YXh0dHV3dTllcWdzM3ludDJkemF1ZHZ3bnJzc3JuMnpkdDJ1c2VhYXNmajhuNmVcIiwgLy8gRnJlZSBNYWRlaXJhXG4gIFwibnB1YjFzMHZlbmcyZ3Zmd3I2MmFjcnhobnFleHE3NnNqNmxkZzNhNXQ5MzVqeThlNnczc2hyNXZzbndybXE1XCIsIC8vIEJpdGNvaW4gTWFkZWlyYVxuICBcIm5wdWIxZHhkMDJrY2poZ3BreXJ4NjBxbmtkNmo0MmttYzcydTVsdW0wcnAydWQ4eDV6ZmhuazR6c2NqajZoaFwiLCAvLyBNYWR0cmlwc1xuICBcIm5wdWIxZnVuY2hhbHg4djc0N3JzZWU2YWhzdXlyY2QyczNybnhseXJ0dW1mZXg5bGVjcG1nd2FyczZocThrY1wiLCAvLyBGdW5jaGFsXG5dO1xuXG4vLyBGYWxsYmFjayBwcm9maWxlIGltYWdlIGZvciBub2RlcyB3aXRob3V0IGEgcGljdHVyZVxuY29uc3QgREVGQVVMVF9QUk9GSUxFX0lNQUdFID0gXCJodHRwczovL25vc3RyLmJ1aWxkL2kvbm9zdHIuYnVpbGRfZDQyMWMxZDdmZDIxYzVkNzNjMzQyOGYwZmM1ZWQ3MzU5Y2VkYjgxYmNhZDgwNzRkZTM1MGJlYzJkMDJlOWE2Ny5qcGVnXCI7XG5cbi8vIEJyYW5kaW5nIGNvbG9yc1xuY29uc3QgQlJBTkRfQ09MT1JTID0ge1xuICBiaXRjb2luT3JhbmdlOiAnI0Y3OTMxQScsIC8vIEJpdGNvaW4gJiBpbm5vdmF0aW9uIC0gdXNlciBsaWtlcyB0aGlzXG4gIGRlZXBCbHVlOiAnIzFFM0E4QScsICAgICAvLyBBdGxhbnRpYyBPY2VhblxuICBmb3Jlc3RHcmVlbjogJyMwRjRDMzUnLCAgLy8gTHVzaCBsYW5kc2NhcGVzXG4gIGxpZ2h0U2FuZDogJyNGNUUzQzMnLCAgICAvLyBCZWFjaC1pbnNwaXJlZFxuICB3aGl0ZTogJyNGRkZGRkYnLCAgICAgICAgLy8gQ2xlYW4sIG1pbmltYWwgZGVzaWduXG59O1xuXG4vLyBOb2RlIGFuZCBsaW5rIHR5cGVzIGZvciB0aGUgZ3JhcGhcbmludGVyZmFjZSBHcmFwaE5vZGUge1xuICBpZDogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgbnB1Yjogc3RyaW5nO1xuICBwaWN0dXJlPzogc3RyaW5nO1xuICBncm91cD86IG51bWJlcjtcbiAgY29sb3I/OiBzdHJpbmc7XG4gIHZhbD86IG51bWJlcjtcbiAgaXNDb3JlTm9kZT86IGJvb2xlYW47XG4gIGlzQ2VudGVyPzogYm9vbGVhbjtcbiAgbm9kZVR5cGU/OiAncHJvZmlsZScgfCAnZm9sbG93ZXInIHwgJ2ZvbGxvd2luZycgfCAnY29ubmVjdGlvbic7XG4gIC8vIEFkZCBjb29yZGluYXRlcyBmb3IgRDMgKG9wdGlvbmFsIGF0IHJ1bnRpbWUpXG4gIHg/OiBudW1iZXI7XG4gIHk/OiBudW1iZXI7XG4gIC8vIEZvciBpbWFnZSBjYWNoaW5nXG4gIGltZz86IEhUTUxJbWFnZUVsZW1lbnQ7XG59XG5cbi8vIERlZmluZSB0aGUgc2hhcGUgb2YgbGluayBvYmplY3RzXG5pbnRlcmZhY2UgTGlua1NvdXJjZSB7XG4gIGlkPzogc3RyaW5nO1xuICBucHViPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgR3JhcGhMaW5rIHtcbiAgc291cmNlOiBzdHJpbmcgfCBMaW5rU291cmNlO1xuICB0YXJnZXQ6IHN0cmluZyB8IExpbmtTb3VyY2U7XG4gIHZhbHVlPzogbnVtYmVyO1xuICBjb2xvcj86IHN0cmluZztcbiAgdHlwZT86ICdmb2xsb3dzJyB8ICdmb2xsb3dlZF9ieScgfCAnbXV0dWFsJztcbn1cblxuaW50ZXJmYWNlIEdyYXBoRGF0YSB7XG4gIG5vZGVzOiBHcmFwaE5vZGVbXTtcbiAgbGlua3M6IEdyYXBoTGlua1tdO1xufVxuXG5pbnRlcmZhY2UgU29jaWFsR3JhcGhQcm9wcyB7XG4gIC8vIFByaW1hcnkgTlBVQiB0byBjZW50ZXIgdGhlIGdyYXBoIG9uIChvcHRpb25hbCwgZGVmYXVsdHMgdG8gZmlyc3QgY29yZSBOUFVCKVxuICBjZW50ZXJOcHViPzogc3RyaW5nO1xuICAvLyBBZGRpdGlvbmFsIE5QVUJzIHRvIGluY2x1ZGUgKG9wdGlvbmFsLCBkZWZhdWx0cyB0byBDT1JFX05QVUJTKVxuICBucHVicz86IHN0cmluZ1tdO1xuICAvLyBNYXhpbXVtIGNvbm5lY3Rpb25zIHRvIGRpc3BsYXkgcGVyIG5vZGVcbiAgbWF4Q29ubmVjdGlvbnM/OiBudW1iZXI7XG4gIC8vIEhlaWdodCBvZiB0aGUgZ3JhcGggY29udGFpbmVyXG4gIGhlaWdodD86IG51bWJlciB8IHN0cmluZztcbiAgLy8gV2lkdGggb2YgdGhlIGdyYXBoIGNvbnRhaW5lclxuICB3aWR0aD86IG51bWJlciB8IHN0cmluZztcbiAgLy8gQ3VzdG9tIGNsYXNzIG5hbWVzXG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgLy8gSW5jbHVkZSBzb2NpYWwgZGF0YSBkaXJlY3RseSAob3B0aW9uYWwsIHdpbGwgbW9jayBpZiBub3QgcHJvdmlkZWQpXG4gIGRhdGE/OiBHcmFwaERhdGE7XG59XG5cbmV4cG9ydCBjb25zdCBTb2NpYWxHcmFwaDogUmVhY3QuRkM8U29jaWFsR3JhcGhQcm9wcz4gPSAoe1xuICBjZW50ZXJOcHViID0gQ09SRV9OUFVCU1swXSxcbiAgbnB1YnMgPSBDT1JFX05QVUJTLFxuICBtYXhDb25uZWN0aW9ucyA9IDI1LFxuICBoZWlnaHQgPSA2MDAsXG4gIHdpZHRoID0gJzEwMCUnLFxuICBjbGFzc05hbWUgPSAnJyxcbiAgZGF0YSxcbn0pID0+IHtcbiAgY29uc3QgW2dyYXBoRGF0YSwgc2V0R3JhcGhEYXRhXSA9IHVzZVN0YXRlPEdyYXBoRGF0YSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWROb2RlLCBzZXRTZWxlY3RlZE5vZGVdID0gdXNlU3RhdGU8R3JhcGhOb2RlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtub2RlSW1hZ2VzLCBzZXROb2RlSW1hZ2VzXSA9IHVzZVN0YXRlPE1hcDxzdHJpbmcsIEhUTUxJbWFnZUVsZW1lbnQ+PihuZXcgTWFwKCkpO1xuICBjb25zdCBbbG9hZGluZ0ltYWdlcywgc2V0TG9hZGluZ0ltYWdlc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt1c2VNb2NrRGF0YSwgc2V0VXNlTW9ja0RhdGFdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IG5kaywgdXNlciwgZ2V0U29jaWFsR3JhcGggfSA9IHVzZU5vc3RyKCk7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFtkaW1lbnNpb25zLCBzZXREaW1lbnNpb25zXSA9IHVzZVN0YXRlKHsgd2lkdGg6IDgwMCwgaGVpZ2h0OiA2MDAgfSk7XG5cbiAgLy8gRnVuY3Rpb24gdG8gY29udmVydCBub2RlJ3MgTlBVQiB0byBzaG9ydGVuZWQgZm9ybSBmb3IgZGlzcGxheVxuICBjb25zdCBzaG9ydGVuTnB1YiA9IChucHViOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGlmICghbnB1YikgcmV0dXJuICcnO1xuICAgIHJldHVybiBgJHtucHViLnN1YnN0cmluZygwLCA2KX0uLi4ke25wdWIuc3Vic3RyaW5nKG5wdWIubGVuZ3RoIC0gNCl9YDtcbiAgfTtcblxuICAvLyBIYW5kbGUgY2xpY2sgb24gYSBub2RlIC0gb3BlbiB0aGUgTm9zdHIgcHJvZmlsZSBpbiBhIE5vc3RyIHZpZXdlclxuICBjb25zdCBoYW5kbGVOb2RlQ2xpY2sgPSAobm9kZTogYW55KSA9PiB7XG4gICAgaWYgKCFub2RlIHx8ICFub2RlLm5wdWIpIHJldHVybjtcbiAgICBcbiAgICBzZXRTZWxlY3RlZE5vZGUobm9kZSk7XG4gICAgY29uc29sZS5sb2coJ05vZGUgY2xpY2tlZDonLCBub2RlKTtcbiAgICBcbiAgICAvLyBPcGVuIHRoZSBOb3N0ciBwcm9maWxlIGluIG5qdW1wLm1lXG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vbmp1bXAubWUvJHtub2RlLm5wdWJ9YDtcbiAgICB3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKTtcbiAgfTtcblxuICAvLyBQcmVsb2FkIGltYWdlcyBmb3IgYWxsIG5vZGVzXG4gIGNvbnN0IHByZWxvYWRJbWFnZXMgPSAobm9kZXM6IEdyYXBoTm9kZVtdKSA9PiB7XG4gICAgaWYgKGxvYWRpbmdJbWFnZXMpIHJldHVybjtcbiAgICBzZXRMb2FkaW5nSW1hZ2VzKHRydWUpO1xuXG4gICAgY29uc3QgbmV3SW1hZ2VzID0gbmV3IE1hcDxzdHJpbmcsIEhUTUxJbWFnZUVsZW1lbnQ+KCk7XG4gICAgbGV0IGxvYWRlZENvdW50ID0gMDtcbiAgICBjb25zdCB0b3RhbEltYWdlcyA9IG5vZGVzLmxlbmd0aDtcblxuICAgIG5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAvLyBTa2lwIGlmIHdlIGFscmVhZHkgaGF2ZSB0aGlzIGltYWdlXG4gICAgICBpZiAobm9kZUltYWdlcy5oYXMobm9kZS5ucHViKSkgcmV0dXJuO1xuXG4gICAgICAvLyBHZXQgcHJvZmlsZSBpbWFnZSBVUkxcbiAgICAgIGxldCBpbWFnZVVybCA9IERFRkFVTFRfUFJPRklMRV9JTUFHRTtcbiAgICAgIFxuICAgICAgLy8gVXNlIHBpY3R1cmUgZnJvbSBub2RlIGlmIGF2YWlsYWJsZVxuICAgICAgaWYgKG5vZGUucGljdHVyZSkge1xuICAgICAgICBpbWFnZVVybCA9IG5vZGUucGljdHVyZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgIFxuICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgbmV3SW1hZ2VzLnNldChub2RlLm5wdWIsIGltZyk7XG4gICAgICAgIGxvYWRlZENvdW50Kys7XG4gICAgICAgIFxuICAgICAgICAvLyBXaGVuIGFsbCBpbWFnZXMgYXJlIGxvYWRlZCwgdXBkYXRlIHRoZSBzdGF0ZVxuICAgICAgICBpZiAobG9hZGVkQ291bnQgPT09IHRvdGFsSW1hZ2VzKSB7XG4gICAgICAgICAgc2V0Tm9kZUltYWdlcyhwcmV2ID0+IG5ldyBNYXAoWy4uLnByZXYsIC4uLm5ld0ltYWdlc10pKTtcbiAgICAgICAgICBzZXRMb2FkaW5nSW1hZ2VzKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIC8vIE9uIGVycm9yLCB0cnkgd2l0aCB0aGUgZGVmYXVsdCBpbWFnZVxuICAgICAgICBjb25zdCBkZWZhdWx0SW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGRlZmF1bHRJbWcuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgICAgZGVmYXVsdEltZy5zcmMgPSBERUZBVUxUX1BST0ZJTEVfSU1BR0U7XG4gICAgICAgIFxuICAgICAgICBkZWZhdWx0SW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBuZXdJbWFnZXMuc2V0KG5vZGUubnB1YiwgZGVmYXVsdEltZyk7XG4gICAgICAgICAgbG9hZGVkQ291bnQrKztcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobG9hZGVkQ291bnQgPT09IHRvdGFsSW1hZ2VzKSB7XG4gICAgICAgICAgICBzZXROb2RlSW1hZ2VzKHByZXYgPT4gbmV3IE1hcChbLi4ucHJldiwgLi4ubmV3SW1hZ2VzXSkpO1xuICAgICAgICAgICAgc2V0TG9hZGluZ0ltYWdlcyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZGVmYXVsdEltZy5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgIC8vIElmIGV2ZW4gdGhlIGRlZmF1bHQgZmFpbHMsIGluY3JlbWVudCBjb3VudGVyXG4gICAgICAgICAgbG9hZGVkQ291bnQrKztcbiAgICAgICAgICBpZiAobG9hZGVkQ291bnQgPT09IHRvdGFsSW1hZ2VzKSB7XG4gICAgICAgICAgICBzZXROb2RlSW1hZ2VzKHByZXYgPT4gbmV3IE1hcChbLi4ucHJldiwgLi4ubmV3SW1hZ2VzXSkpO1xuICAgICAgICAgICAgc2V0TG9hZGluZ0ltYWdlcyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgaW1nLnNyYyA9IGltYWdlVXJsO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIENvbnZlcnQgb3VyIGdyYXBoIGRhdGEgdG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSB0aGUgdmlzdWFsaXphdGlvbiBsaWJyYXJpZXNcbiAgY29uc3QgY29udmVydEdyYXBoRGF0YSA9IChkYXRhOiBHcmFwaERhdGEpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZXM6IGRhdGEubm9kZXMubWFwKG5vZGUgPT4gKHtcbiAgICAgICAgLi4ubm9kZSxcbiAgICAgICAgLy8gQWRkIGFueSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgbmVlZGVkIGZvciB2aXN1YWxpemF0aW9uXG4gICAgICAgIHZhbDogbm9kZS52YWwgfHwgKG5vZGUuaXNDb3JlTm9kZSA/IDE1IDogNSksIC8vIE1ha2UgY29yZSBub2RlcyBtb3JlIHByb21pbmVudFxuICAgICAgICBjb2xvcjogbm9kZS5jb2xvciB8fCAobm9kZS5pc0NvcmVOb2RlID8gQlJBTkRfQ09MT1JTLmJpdGNvaW5PcmFuZ2UgOiBCUkFORF9DT0xPUlMubGlnaHRTYW5kKSwgLy8gQ2hhbmdlZCBkZWVwQmx1ZSB0byBsaWdodFNhbmRcbiAgICAgIH0pKSxcbiAgICAgIGxpbmtzOiBkYXRhLmxpbmtzLm1hcChsaW5rID0+ICh7XG4gICAgICAgIHNvdXJjZTogdHlwZW9mIGxpbmsuc291cmNlID09PSAnc3RyaW5nJyA/IGxpbmsuc291cmNlIDogbGluay5zb3VyY2U/LmlkIHx8ICcnLFxuICAgICAgICB0YXJnZXQ6IHR5cGVvZiBsaW5rLnRhcmdldCA9PT0gJ3N0cmluZycgPyBsaW5rLnRhcmdldCA6IGxpbmsudGFyZ2V0Py5pZCB8fCAnJyxcbiAgICAgICAgdmFsdWU6IGxpbmsudmFsdWUgfHwgMSxcbiAgICAgICAgY29sb3I6IGxpbmsuY29sb3IgfHwgKGxpbmsudHlwZSA9PT0gJ211dHVhbCcgPyBCUkFORF9DT0xPUlMuZm9yZXN0R3JlZW4gOiAnI2FkYjViZCcpLFxuICAgICAgfSkpLFxuICAgIH07XG4gIH07XG5cbiAgLy8gRmV0Y2ggcmVhbCBkYXRhIGZyb20gTm9zdHJcbiAgY29uc3QgZmV0Y2hOb3N0ckRhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gRGVmYXVsdCB0byBtb2NrIGRhdGEgaWYgbm90IGV4cGxpY2l0bHkgdXNpbmcgcmVhbCBkYXRhXG4gICAgaWYgKCFuZGsgfHwgIXVzZXIpIHtcbiAgICAgIHNldEVycm9yKFwiTm9zdHIgY2xpZW50IG5vdCBpbml0aWFsaXplZCBvciB1c2VyIG5vdCBsb2dnZWQgaW4uIFBsZWFzZSBsb2cgaW4gd2l0aCBhIE5vc3RyIGV4dGVuc2lvbiBmaXJzdC5cIik7XG4gICAgICBjb25zb2xlLmxvZyhcIk5ESyBub3QgaW5pdGlhbGl6ZWQgb3IgdXNlciBub3QgbG9nZ2VkIGluIC0gdXNpbmcgbW9jayBkYXRhIGZvciB2aXN1YWxpemF0aW9uXCIpO1xuICAgICAgc2V0R3JhcGhEYXRhKGdlbmVyYXRlTW9ja0RhdGEoKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gVmFsaWRhdGUgTlBVQnMgYmVmb3JlIG1ha2luZyB0aGUgQVBJIGNhbGxcbiAgICAgIGNvbnN0IHZhbGlkTnB1YnMgPSBucHVicy5maWx0ZXIobnB1YiA9PiBcbiAgICAgICAgdHlwZW9mIG5wdWIgPT09ICdzdHJpbmcnICYmIFxuICAgICAgICBucHViLnN0YXJ0c1dpdGgoJ25wdWIxJykgJiYgXG4gICAgICAgIG5wdWIubGVuZ3RoID09PSA2M1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKHZhbGlkTnB1YnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIk5vIHZhbGlkIE5QVUJzIHRvIGZldGNoIGRhdGEgZm9yIC0gdXNpbmcgbW9jayBkYXRhXCIpO1xuICAgICAgICBzZXRHcmFwaERhdGEoZ2VuZXJhdGVNb2NrRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIkZldGNoaW5nIE5vc3RyIHNvY2lhbCBncmFwaCBkYXRhIGZvciBOUFVCczpcIiwgdmFsaWROcHVicyk7XG4gICAgICBjb25zdCByZWFsRGF0YSA9IGF3YWl0IGdldFNvY2lhbEdyYXBoKHZhbGlkTnB1YnMsIG1heENvbm5lY3Rpb25zKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgd2UgZ290IHZhbGlkIGRhdGFcbiAgICAgIGlmIChyZWFsRGF0YSAmJiByZWFsRGF0YS5ub2RlcyAmJiByZWFsRGF0YS5ub2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBTdWNjZXNzZnVsbHkgZmV0Y2hlZCBzb2NpYWwgZ3JhcGggd2l0aCAke3JlYWxEYXRhLm5vZGVzLmxlbmd0aH0gbm9kZXMgYW5kICR7cmVhbERhdGEubGlua3MubGVuZ3RofSBsaW5rc2ApO1xuICAgICAgICBzZXRHcmFwaERhdGEocmVhbERhdGEpO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgd2Ugc3VjY2Vzc2Z1bGx5IGxvYWRlZCBkYXRhLCB3ZSBkb24ndCBuZWVkIG1vY2sgZGF0YSBhbnltb3JlXG4gICAgICAgIGlmICh1c2VNb2NrRGF0YSkgc2V0VXNlTW9ja0RhdGEoZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiUmVjZWl2ZWQgZW1wdHkgZ3JhcGggZGF0YSBmcm9tIE5vc3RyIC0gdXNpbmcgbW9jayBkYXRhXCIpO1xuICAgICAgICBzZXRHcmFwaERhdGEoZ2VuZXJhdGVNb2NrRGF0YSgpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIE5vc3RyIHNvY2lhbCBncmFwaDpcIiwgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoYEZhaWxlZCB0byBsb2FkIE5vc3RyIGRhdGE6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgXG4gICAgICAvLyBBbHdheXMgZmFsbCBiYWNrIHRvIG1vY2sgZGF0YSBvbiBlcnJvclxuICAgICAgY29uc29sZS5sb2coXCJFcnJvciBvY2N1cnJlZCAtIGZhbGxpbmcgYmFjayB0byBtb2NrIGRhdGFcIik7XG4gICAgICBzZXRHcmFwaERhdGEoZ2VuZXJhdGVNb2NrRGF0YSgpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVG9nZ2xlIGJldHdlZW4gcmVhbCBhbmQgbW9jayBkYXRhXG4gIGNvbnN0IHRvZ2dsZU1vY2tEYXRhID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld1N0YXRlID0gIXVzZU1vY2tEYXRhO1xuICAgIHNldFVzZU1vY2tEYXRhKG5ld1N0YXRlKTtcbiAgICBcbiAgICBpZiAobmV3U3RhdGUpIHtcbiAgICAgIC8vIFVzZSBtb2NrIGRhdGFcbiAgICAgIHNldEdyYXBoRGF0YShnZW5lcmF0ZU1vY2tEYXRhKCkpO1xuICAgICAgc2V0RXJyb3IoXCJVc2luZyBtb2NrIGRhdGEgZm9yIGRlbW9uc3RyYXRpb25cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyeSB0byB1c2UgcmVhbCBkYXRhXG4gICAgICBzZXRHcmFwaERhdGEobnVsbCk7IC8vIENsZWFyIGV4aXN0aW5nIGRhdGFcbiAgICAgIGZldGNoTm9zdHJEYXRhKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIE1vY2sgZGF0YSBnZW5lcmF0aW9uIGZvciBmYWxsYmFjay9kZW1vbnN0cmF0aW9uXG4gIGNvbnN0IGdlbmVyYXRlTW9ja0RhdGEgPSAoKTogR3JhcGhEYXRhID0+IHtcbiAgICBjb25zdCBub2RlczogR3JhcGhOb2RlW10gPSBbXTtcbiAgICBjb25zdCBsaW5rczogR3JhcGhMaW5rW10gPSBbXTtcblxuICAgIC8vIEFkZCBjb3JlIE5QVUJzIGFzIG5vZGVzXG4gICAgbnB1YnMuZm9yRWFjaCgobnB1YiwgaW5kZXgpID0+IHtcbiAgICAgIG5vZGVzLnB1c2goe1xuICAgICAgICBpZDogbnB1YixcbiAgICAgICAgbnB1YixcbiAgICAgICAgbmFtZTogZ2V0TmFtZUZvck5wdWIobnB1YiksXG4gICAgICAgIGRpc3BsYXlOYW1lOiBnZXROYW1lRm9yTnB1YihucHViKSxcbiAgICAgICAgcGljdHVyZTogREVGQVVMVF9QUk9GSUxFX0lNQUdFU1tucHViXSB8fCB1bmRlZmluZWQsXG4gICAgICAgIGlzQ29yZU5vZGU6IHRydWUsXG4gICAgICAgIGlzQ2VudGVyOiBucHViID09PSBjZW50ZXJOcHViLFxuICAgICAgICBub2RlVHlwZTogJ3Byb2ZpbGUnLFxuICAgICAgICBncm91cDogMSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gR2VuZXJhdGUgcmFuZG9tIGNvbm5lY3Rpb25zIGJldHdlZW4gbm9kZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5wdWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBGb3IgZWFjaCBjb3JlIE5QVUIsIGNyZWF0ZSBzb21lIHJhbmRvbSBmb2xsb3dlcnNcbiAgICAgIGNvbnN0IGZvbGxvd2VyQ291bnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgKyA1O1xuICAgICAgXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZvbGxvd2VyQ291bnQ7IGorKykge1xuICAgICAgICBjb25zdCBmb2xsb3dlck5wdWIgPSBgbnB1YiR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KX1gO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGZvbGxvd2VyIG5vZGVcbiAgICAgICAgbm9kZXMucHVzaCh7XG4gICAgICAgICAgaWQ6IGZvbGxvd2VyTnB1YixcbiAgICAgICAgICBucHViOiBmb2xsb3dlck5wdWIsXG4gICAgICAgICAgbmFtZTogYEZvbGxvd2VyICR7an0gb2YgJHtpfWAsXG4gICAgICAgICAgZGlzcGxheU5hbWU6IGBVc2VyICR7bnB1YnMubGVuZ3RoICsgan1gLFxuICAgICAgICAgIC8vIFJhbmRvbSBwcm9maWxlIHBpY3R1cmUgZm9yIGZvbGxvd2Vyc1xuICAgICAgICAgIHBpY3R1cmU6IGdldFJhbmRvbVByb2ZpbGVQaWN0dXJlKCksXG4gICAgICAgICAgaXNDb3JlTm9kZTogZmFsc2UsXG4gICAgICAgICAgbm9kZVR5cGU6ICdmb2xsb3dlcicsXG4gICAgICAgICAgZ3JvdXA6IDIsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGNvbm5lY3Rpb24gZnJvbSBmb2xsb3dlciB0byBjb3JlIE5QVUJcbiAgICAgICAgbGlua3MucHVzaCh7XG4gICAgICAgICAgc291cmNlOiBmb2xsb3dlck5wdWIsXG4gICAgICAgICAgdGFyZ2V0OiBucHVic1tpXSxcbiAgICAgICAgICB0eXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgdmFsdWU6IE1hdGgucmFuZG9tKCkgKiAyICsgMSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTb21ldGltZXMgYWRkIG11dHVhbCBmb2xsb3dzXG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC43KSB7XG4gICAgICAgICAgbGlua3MucHVzaCh7XG4gICAgICAgICAgICBzb3VyY2U6IG5wdWJzW2ldLFxuICAgICAgICAgICAgdGFyZ2V0OiBmb2xsb3dlck5wdWIsXG4gICAgICAgICAgICB0eXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgICB2YWx1ZTogTWF0aC5yYW5kb20oKSAqIDIgKyAxLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIHNvbWUgY29ubmVjdGlvbnMgYmV0d2VlbiBjb3JlIE5QVUJzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBucHVicy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgbnB1YnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjMpIHtcbiAgICAgICAgICBsaW5rcy5wdXNoKHtcbiAgICAgICAgICAgIHNvdXJjZTogbnB1YnNbaV0sXG4gICAgICAgICAgICB0YXJnZXQ6IG5wdWJzW2pdLFxuICAgICAgICAgICAgdHlwZTogJ211dHVhbCcsXG4gICAgICAgICAgICB2YWx1ZTogMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgbW9jayBkYXRhIGZvciBzb2NpYWwgZ3JhcGggdmlzdWFsaXphdGlvblwiKTtcbiAgICByZXR1cm4geyBub2RlcywgbGlua3MgfTtcbiAgfTtcblxuICAvLyBHZXQgYSBuYW1lIGZvciBhbiBOUFVCIChmb3IgbW9ja2luZylcbiAgY29uc3QgZ2V0TmFtZUZvck5wdWIgPSAobnB1Yjogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAvLyBSZXR1cm4gc3BlY2lmaWMgbmFtZXMgZm9yIGtub3duIE5QVUJzXG4gICAgc3dpdGNoIChucHViKSB7XG4gICAgICBjYXNlIFwibnB1YjFldGdxY2o5Z2M2eWF4dHR1d3U5ZXFnczN5bnQyZHphdWR2d25yc3NybjJ6ZHQydXNlYWFzZmo4bjZlXCI6XG4gICAgICAgIHJldHVybiBcIkZyZWUgTWFkZWlyYVwiO1xuICAgICAgY2FzZSBcIm5wdWIxczB2ZW5nMmd2ZndyNjJhY3J4aG5xZXhxNzZzajZsZGczYTV0OTM1ank4ZTZ3M3NocjV2c253cm1xNVwiOlxuICAgICAgICByZXR1cm4gXCJCaXRjb2luIE1hZGVpcmFcIjtcbiAgICAgIGNhc2UgXCJucHViMWR4ZDAya2NqaGdwa3lyeDYwcW5rZDZqNDJrbWM3MnU1bHVtMHJwMnVkOHg1emZobms0enNjamo2aGhcIjpcbiAgICAgICAgcmV0dXJuIFwiTWFkdHJpcHNcIjtcbiAgICAgIGNhc2UgXCJucHViMWZ1bmNoYWx4OHY3NDdyc2VlNmFoc3V5cmNkMnMzcm54bHlydHVtZmV4OWxlY3BtZ3dhcnM2aHE4a2NcIjpcbiAgICAgICAgcmV0dXJuIFwiRnVuY2hhbFwiO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGBOb3N0ciAke3Nob3J0ZW5OcHViKG5wdWIpfWA7XG4gICAgfVxuICB9O1xuXG4gIC8vIERlZmF1bHQgcHJvZmlsZSBpbWFnZXMgZm9yIHRoZSBjb3JlIE5QVUJzIChmYWxsYmFjaylcbiAgY29uc3QgREVGQVVMVF9QUk9GSUxFX0lNQUdFUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICBcIm5wdWIxZXRncWNqOWdjNnlheHR0dXd1OWVxZ3MzeW50MmR6YXVkdnducnNzcm4yemR0MnVzZWFhc2ZqOG42ZVwiOiBcImh0dHBzOi8vcGJzLnR3aW1nLmNvbS9wcm9maWxlX2ltYWdlcy8xNjUxMTk4NjExOTk2NjM5MjM1L0NLYzZZVHEzXzQwMHg0MDAuanBnXCIsIC8vIEZyZWUgTWFkZWlyYVxuICAgIFwibnB1YjFzMHZlbmcyZ3Zmd3I2MmFjcnhobnFleHE3NnNqNmxkZzNhNXQ5MzVqeThlNnczc2hyNXZzbndybXE1XCI6IFwiaHR0cHM6Ly9wYnMudHdpbWcuY29tL3Byb2ZpbGVfaW1hZ2VzLzE0NzU1NTEwMjQ5MTU0OTY5NjcvRlBhalpHa3dfNDAweDQwMC5qcGdcIiwgLy8gQml0Y29pbiBNYWRlaXJhXG4gICAgXCJucHViMWR4ZDAya2NqaGdwa3lyeDYwcW5rZDZqNDJrbWM3MnU1bHVtMHJwMnVkOHg1emZobms0enNjamo2aGhcIjogXCJodHRwczovL3Bicy50d2ltZy5jb20vcHJvZmlsZV9pbWFnZXMvMTQ3NTU1MTAyNDkxNTQ5Njk2Ny9GUGFqWkdrd180MDB4NDAwLmpwZ1wiLCAvLyBNYWR0cmlwc1xuICAgIFwibnB1YjFmdW5jaGFseDh2NzQ3cnNlZTZhaHN1eXJjZDJzM3JueGx5cnR1bWZleDlsZWNwbWd3YXJzNmhxOGtjXCI6IFwiaHR0cHM6Ly9jZG4ubm9zdHIuYnVpbGQvcC9YM3FuLmpwZWdcIiwgLy8gRnVuY2hhbFxuICB9O1xuXG4gIC8vIEdldCBhIHJhbmRvbSBwcm9maWxlIHBpY3R1cmUgZm9yIG1vY2sgZm9sbG93ZXJzXG4gIGNvbnN0IGdldFJhbmRvbVByb2ZpbGVQaWN0dXJlID0gKCk6IHN0cmluZyA9PiB7XG4gICAgLy8gTGlzdCBvZiBzYW1wbGUgcHJvZmlsZSBwaWN0dXJlcyAodXNpbmcgcGxhY2Vob2xkZXIgc2VydmljZSlcbiAgICBjb25zdCBwbGFjZWhvbGRlcnMgPSBbXG4gICAgICBcImh0dHBzOi8vaS5wcmF2YXRhci5jYy8xNTA/aW1nPTFcIixcbiAgICAgIFwiaHR0cHM6Ly9pLnByYXZhdGFyLmNjLzE1MD9pbWc9MlwiLFxuICAgICAgXCJodHRwczovL2kucHJhdmF0YXIuY2MvMTUwP2ltZz0zXCIsXG4gICAgICBcImh0dHBzOi8vaS5wcmF2YXRhci5jYy8xNTA/aW1nPTRcIixcbiAgICAgIFwiaHR0cHM6Ly9pLnByYXZhdGFyLmNjLzE1MD9pbWc9NVwiLFxuICAgICAgXCJodHRwczovL2kucHJhdmF0YXIuY2MvMTUwP2ltZz02XCIsXG4gICAgICBcImh0dHBzOi8vaS5wcmF2YXRhci5jYy8xNTA/aW1nPTdcIixcbiAgICAgIFwiaHR0cHM6Ly9pLnByYXZhdGFyLmNjLzE1MD9pbWc9OFwiXG4gICAgXTtcbiAgICBcbiAgICByZXR1cm4gcGxhY2Vob2xkZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBsYWNlaG9sZGVycy5sZW5ndGgpXTtcbiAgfTtcblxuICAvLyBVcGRhdGUgZGltZW5zaW9ucyB3aGVuIGNvbnRhaW5lciBzaXplIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNvbnRhaW5lclJlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICBjb25zdCB1cGRhdGVEaW1lbnNpb25zID0gKCkgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHsgb2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodCB9ID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIHNldERpbWVuc2lvbnMoe1xuICAgICAgICAgIHdpZHRoOiBvZmZzZXRXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHR5cGVvZiBoZWlnaHQgPT09ICdudW1iZXInID8gaGVpZ2h0IDogb2Zmc2V0SGVpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gSW5pdGlhbCB1cGRhdGVcbiAgICB1cGRhdGVEaW1lbnNpb25zKCk7XG5cbiAgICAvLyBBZGQgcmVzaXplIGxpc3RlbmVyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpbWVuc2lvbnMpO1xuXG4gICAgLy8gQ2xlYW51cFxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlRGltZW5zaW9ucyk7XG4gIH0sIFtoZWlnaHQsIHdpZHRoXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBncmFwaCBkYXRhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gRGVmaW5lIHRoZSBpbml0aWFsaXphdGlvbiBmdW5jdGlvblxuICAgIGNvbnN0IGluaXRpYWxpemVEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQWx3YXlzIHVzZSB1c2VyLXByb3ZpZGVkIGRhdGEgZmlyc3QgaWYgYXZhaWxhYmxlXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBzZXRHcmFwaERhdGEoZGF0YSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXNlIG1vY2sgZGF0YSBpZiBleHBsaWNpdGx5IHJlcXVlc3RlZFxuICAgICAgaWYgKHVzZU1vY2tEYXRhKSB7XG4gICAgICAgIHNldEdyYXBoRGF0YShnZW5lcmF0ZU1vY2tEYXRhKCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE90aGVyd2lzZSB0cnkgdG8gZmV0Y2ggcmVhbCBkYXRhLCB3aXRoIGJ1aWx0LWluIGZhbGxiYWNrXG4gICAgICB0cnkge1xuICAgICAgICAvLyBJZiBub3QgbG9nZ2VkIGluLCBqdXN0IHVzZSBtb2NrIGRhdGEgd2l0aG91dCBzaG93aW5nIGVycm9yXG4gICAgICAgIGlmICghdXNlciB8fCAhbmRrKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIG5vdCBsb2dnZWQgaW4gLSB1c2luZyBtb2NrIGRhdGEgd2l0aG91dCBlcnJvclwiKTtcbiAgICAgICAgICBzZXRHcmFwaERhdGEoZ2VuZXJhdGVNb2NrRGF0YSgpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGF3YWl0IGZldGNoTm9zdHJEYXRhKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBncmFwaCBkYXRhOlwiLCBlcnIpO1xuICAgICAgICAvLyBBbHdheXMgZmFsbCBiYWNrIHRvIG1vY2sgZGF0YSBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICAgIHNldEdyYXBoRGF0YShnZW5lcmF0ZU1vY2tEYXRhKCkpO1xuICAgICAgICAvLyBPbmx5IHNldCBlcnJvciBpZiBpdCdzIG5vdCBiZWNhdXNlIHVzZXIgaXMgbm90IGxvZ2dlZCBpblxuICAgICAgICBpZiAodXNlciAmJiBuZGspIHtcbiAgICAgICAgICBzZXRFcnJvcihgRXJyb3IgaW5pdGlhbGl6aW5nIGdyYXBoOiAke2VyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBTdHJpbmcoZXJyKX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBSdW4gdGhlIGluaXRpYWxpemF0aW9uXG4gICAgaW5pdGlhbGl6ZURhdGEoKTtcbiAgfSwgW2RhdGEsIG5wdWJzLCBjZW50ZXJOcHViLCBtYXhDb25uZWN0aW9ucywgdXNlTW9ja0RhdGEsIG5kaywgdXNlcl0pO1xuXG4gIC8vIFByZWxvYWQgaW1hZ2VzIHdoZW4gZ3JhcGggZGF0YSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdyYXBoRGF0YT8ubm9kZXMpIHtcbiAgICAgIHByZWxvYWRJbWFnZXMoZ3JhcGhEYXRhLm5vZGVzKTtcbiAgICB9XG4gIH0sIFtncmFwaERhdGFdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgXG4gICAgICByZWY9e2NvbnRhaW5lclJlZn1cbiAgICAgIGNsYXNzTmFtZT17YHNvY2lhbC1ncmFwaC1jb250YWluZXIgJHtjbGFzc05hbWV9IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tJHtCUkFORF9DT0xPUlMuZGVlcEJsdWUuc3Vic3RyaW5nKDEpfSB0by0ke0JSQU5EX0NPTE9SUy5mb3Jlc3RHcmVlbi5zdWJzdHJpbmcoMSl9IHJvdW5kZWQtbGcgc2hhZG93LWxnIG92ZXJmbG93LWhpZGRlbmB9XG4gICAgICBzdHlsZT17eyBcbiAgICAgICAgaGVpZ2h0OiB0eXBlb2YgaGVpZ2h0ID09PSAnbnVtYmVyJyA/IGAke2hlaWdodH1weGAgOiBoZWlnaHQsXG4gICAgICAgIHdpZHRoOiB0eXBlb2Ygd2lkdGggPT09ICdudW1iZXInID8gYCR7d2lkdGh9cHhgIDogd2lkdGgsXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCByZWxhdGl2ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wIGxlZnQtMCB6LTEwIHAtMiBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHB4LTMgcHktMSBiZy13aGl0ZS8zMCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQgc2hhZG93LXNtIHRleHQtc21cIiBzdHlsZT17eyBjb2xvcjogQlJBTkRfQ09MT1JTLmxpZ2h0U2FuZCB9fT5cbiAgICAgICAgICAgIEJpdGNvaW4gTWFkZWlyYSBTb2NpYWwgR3JhcGhcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgb25DbGljaz17ZmV0Y2hOb3N0ckRhdGF9XG4gICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0xIGJnLXdoaXRlLzIwIGhvdmVyOmJnLXdoaXRlLzMwIHJvdW5kZWQgc2hhZG93LXNtIHRleHQtc20gZm9udC1tZWRpdW0gYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBmbGV4IGl0ZW1zLWNlbnRlciAke2lzTG9hZGluZyA/ICdvcGFjaXR5LTUwJyA6ICcnfWB9XG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVsb2FkIGdyYXBoXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBCUkFORF9DT0xPUlMubGlnaHRTYW5kIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPXtgaC00IHctNCBtci0xICR7aXNMb2FkaW5nID8gJ2FuaW1hdGUtc3BpbicgOiAnJ31gfSBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTQgNHY1aC41ODJtMTUuMzU2IDJBOC4wMDEgOC4wMDEgMCAwMDQuNTgyIDltMCAwSDltMTEgMTF2LTVoLS41ODFtMCAwYTguMDAzIDguMDAzIDAgMDEtMTUuMzU3LTJtMTUuMzU3IDJIMTVcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICB7aXNMb2FkaW5nID8gJ0xvYWRpbmcuLi4nIDogJ1JlbG9hZCd9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZU1vY2tEYXRhfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0xIGJnLXdoaXRlLzIwIGhvdmVyOmJnLXdoaXRlLzMwIHJvdW5kZWQgc2hhZG93LXNtIHRleHQtc20gZm9udC1tZWRpdW0gYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBmbGV4IGl0ZW1zLWNlbnRlcmB9XG4gICAgICAgICAgICBhcmlhLWxhYmVsPXt1c2VNb2NrRGF0YSA/IFwiVXNlIHJlYWwgZGF0YVwiIDogXCJVc2UgbW9jayBkYXRhXCJ9XG4gICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogdXNlTW9ja0RhdGEgPyBCUkFORF9DT0xPUlMubGlnaHRTYW5kIDogQlJBTkRfQ09MT1JTLmJpdGNvaW5PcmFuZ2UgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTQgdy00IG1yLTFcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTkuNzUgMTdMOSAyMGwtMSAxaDhsLTEtMS0uNzUtM00zIDEzaDE4TTUgMTdoMTRhMiAyIDAgMDAyLTJWNWEyIDIgMCAwMC0yLTJINWEyIDIgMCAwMC0yIDJ2MTBhMiAyIDAgMDAyIDJ6XCIgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAge3VzZU1vY2tEYXRhID8gJ1VzaW5nIE1vY2sgRGF0YScgOiAnVXNpbmcgUmVhbCBEYXRhJ31cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0xMiBsZWZ0LTAgei0xMCBwLTIgdy1mdWxsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC0xMDAgYm9yZGVyIGJvcmRlci1yZWQtNDAwIHRleHQtcmVkLTcwMCBweC00IHB5LTIgcm91bmRlZCBtYXgtdy1tZCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21cIj57ZXJyb3J9PC9wPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1lbmQgbXQtMVwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFcnJvcihudWxsKX0gXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC04MDBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIERpc21pc3NcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7c2VsZWN0ZWROb2RlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wIGxlZnQtMCB6LTEwIHAtMiB3LWZ1bGxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hhZG93LXNtIHAtMyBtYXgtdy14cyBteC1hdXRvIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZ1wiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogQlJBTkRfQ09MT1JTLmRlZXBCbHVlIH19PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIG92ZXJmbG93LWhpZGRlbiBtci0zIGJvcmRlci0yXCIgc3R5bGU9e3sgYm9yZGVyQ29sb3I6IEJSQU5EX0NPTE9SUy5iaXRjb2luT3JhbmdlIH19PlxuICAgICAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtzZWxlY3RlZE5vZGUucGljdHVyZSB8fCBERUZBVUxUX1BST0ZJTEVfSU1BR0V9IFxuICAgICAgICAgICAgICAgICAgICBhbHQ9e3NlbGVjdGVkTm9kZS5uYW1lIHx8IHNob3J0ZW5OcHViKHNlbGVjdGVkTm9kZS5ucHViKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIChlLnRhcmdldCBhcyBIVE1MSW1hZ2VFbGVtZW50KS5zcmMgPSBERUZBVUxUX1BST0ZJTEVfSU1BR0U7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCIgc3R5bGU9e3sgY29sb3I6IEJSQU5EX0NPTE9SUy5saWdodFNhbmQgfX0+e3NlbGVjdGVkTm9kZS5uYW1lIHx8IHNob3J0ZW5OcHViKHNlbGVjdGVkTm9kZS5ucHViKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14c1wiIHN0eWxlPXt7IGNvbG9yOiBCUkFORF9DT0xPUlMubGlnaHRTYW5kICsgJzk5JyB9fT57c2hvcnRlbk5wdWIoc2VsZWN0ZWROb2RlLm5wdWIpfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXgganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICA8YSBcbiAgICAgICAgICAgICAgICAgIGhyZWY9e2BodHRwczovL25qdW1wLm1lLyR7c2VsZWN0ZWROb2RlLm5wdWJ9YH1cbiAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgaG92ZXI6dW5kZXJsaW5lXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBCUkFORF9DT0xPUlMuYml0Y29pbk9yYW5nZSB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFZpZXcgb24gTm9zdHIg4oaSXG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbFwiPlxuICAgICAgICAgIHtpc0xvYWRpbmcgJiYgIWdyYXBoRGF0YSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctd2hpdGUvMTAgei0xMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgYm9yZGVyLTQgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpbiBtYi0zXCIgc3R5bGU9e3sgYm9yZGVyQ29sb3I6IEJSQU5EX0NPTE9SUy5iaXRjb2luT3JhbmdlLCBib3JkZXJUb3BDb2xvcjogJ3RyYW5zcGFyZW50JyB9fT48L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBjb2xvcjogQlJBTkRfQ09MT1JTLmxpZ2h0U2FuZCB9fT5Mb2FkaW5nIE5vc3RyIGNvbm5lY3Rpb25zLi4uPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAgeyFpc0xvYWRpbmcgJiYgIWdyYXBoRGF0YSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctd2hpdGUvMTAgei0xMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6IEJSQU5EX0NPTE9SUy5saWdodFNhbmQgfX0gY2xhc3NOYW1lPVwibWItM1wiPk5vIGdyYXBoIGRhdGEgYXZhaWxhYmxlPC9wPlxuICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB1c2VNb2NrRGF0YSA/IHNldEdyYXBoRGF0YShnZW5lcmF0ZU1vY2tEYXRhKCkpIDogZmV0Y2hOb3N0ckRhdGEoKX0gXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgcm91bmRlZCBob3ZlcjpvcGFjaXR5LTkwXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogQlJBTkRfQ09MT1JTLmJpdGNvaW5PcmFuZ2UgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7dXNlTW9ja0RhdGEgPyAnR2VuZXJhdGUgTW9jayBEYXRhJyA6ICdMb2FkIERhdGEnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAge2dyYXBoRGF0YSAmJiAoXG4gICAgICAgICAgICA8Rm9yY2VHcmFwaDJEXG4gICAgICAgICAgICAgIGdyYXBoRGF0YT17Y29udmVydEdyYXBoRGF0YShncmFwaERhdGEpfVxuICAgICAgICAgICAgICBub2RlQ29sb3I9eyhub2RlOiBhbnkpID0+IG5vZGUuY29sb3IgfHwgQlJBTkRfQ09MT1JTLmxpZ2h0U2FuZH1cbiAgICAgICAgICAgICAgbm9kZVZhbD17KG5vZGU6IGFueSkgPT4gbm9kZS52YWwgfHwgMX1cbiAgICAgICAgICAgICAgbGlua0NvbG9yPXsobGluazogYW55KSA9PiBsaW5rLmNvbG9yIHx8ICcjYWRiNWJkJ31cbiAgICAgICAgICAgICAgbGlua1dpZHRoPXsobGluazogYW55KSA9PiBNYXRoLnNxcnQobGluay52YWx1ZSB8fCAxKX1cbiAgICAgICAgICAgICAgb25Ob2RlQ2xpY2s9e2hhbmRsZU5vZGVDbGlja31cbiAgICAgICAgICAgICAgd2lkdGg9e2RpbWVuc2lvbnMud2lkdGh9XG4gICAgICAgICAgICAgIGhlaWdodD17ZGltZW5zaW9ucy5oZWlnaHR9XG4gICAgICAgICAgICAgIG5vZGVDYW52YXNPYmplY3Q9eyhub2RlOiBhbnksIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBnbG9iYWxTY2FsZTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZVNpemUgPSBub2RlLnZhbCB8fCA1O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgbm9kZSBpbWFnZSBmcm9tIGNhY2hlIG9yIGdldCBkZWZhdWx0IGltYWdlXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VTb3VyY2UgPSBub2RlSW1hZ2VzLmdldChub2RlLm5wdWIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIERyYXcgdGhlIG5vZGUgd2l0aCBwcm9maWxlIGltYWdlIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIGlmIChpbWFnZVNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGNpcmN1bGFyIGNsaXBwaW5nIHBhdGhcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBjdHguYXJjKG5vZGUueCBhcyBudW1iZXIsIG5vZGUueSBhcyBudW1iZXIsIG5vZGVTaXplLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5jbGlwKCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IHRoZSBwcm9maWxlIGltYWdlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ1NpemUgPSBub2RlU2l6ZSAqIDI7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgaW1hZ2VTb3VyY2UsIFxuICAgICAgICAgICAgICAgICAgICAgIChub2RlLnggYXMgbnVtYmVyKSAtIG5vZGVTaXplLCBcbiAgICAgICAgICAgICAgICAgICAgICAobm9kZS55IGFzIG51bWJlcikgLSBub2RlU2l6ZSwgXG4gICAgICAgICAgICAgICAgICAgICAgaW1nU2l6ZSwgXG4gICAgICAgICAgICAgICAgICAgICAgaW1nU2l6ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBjaXJjbGUgaWYgaW1hZ2UgZHJhd2luZyBmYWlsc1xuICAgICAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBub2RlLmNvbG9yIGFzIHN0cmluZyB8fCBCUkFORF9DT0xPUlMubGlnaHRTYW5kO1xuICAgICAgICAgICAgICAgICAgICBjdHguYXJjKG5vZGUueCBhcyBudW1iZXIsIG5vZGUueSBhcyBudW1iZXIsIG5vZGVTaXplLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHBsYWluIGNpcmNsZSBpZiBubyBpbWFnZVxuICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG5vZGUuY29sb3IgYXMgc3RyaW5nIHx8IEJSQU5EX0NPTE9SUy5saWdodFNhbmQ7XG4gICAgICAgICAgICAgICAgICBjdHguYXJjKG5vZGUueCBhcyBudW1iZXIsIG5vZGUueSBhcyBudW1iZXIsIG5vZGVTaXplLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBBZGQgaGlnaGxpZ2h0IGJvcmRlciBmb3IgY29yZSBub2Rlc1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmlzQ29yZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IEJSQU5EX0NPTE9SUy5iaXRjb2luT3JhbmdlOyAvLyBCaXRjb2luIG9yYW5nZSBmb3IgY29yZSBub2Rlc1xuICAgICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgICAgICAgICAgICAgICBjdHguYXJjKG5vZGUueCBhcyBudW1iZXIsIG5vZGUueSBhcyBudW1iZXIsIG5vZGVTaXplICsgMiwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBObyBsYWJlbHMgYXMgcGVyIHVzZXIncyByZXF1ZXN0XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTb2NpYWxHcmFwaDsgIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJkeW5hbWljIiwidXNlTm9zdHIiLCJGb3JjZUdyYXBoMkQiLCJ0aGVuIiwibW9kIiwiZGVmYXVsdCIsInNzciIsIkNPUkVfTlBVQlMiLCJERUZBVUxUX1BST0ZJTEVfSU1BR0UiLCJCUkFORF9DT0xPUlMiLCJiaXRjb2luT3JhbmdlIiwiZGVlcEJsdWUiLCJmb3Jlc3RHcmVlbiIsImxpZ2h0U2FuZCIsIndoaXRlIiwiU29jaWFsR3JhcGgiLCJjZW50ZXJOcHViIiwibnB1YnMiLCJtYXhDb25uZWN0aW9ucyIsImhlaWdodCIsIndpZHRoIiwiY2xhc3NOYW1lIiwiZGF0YSIsImdyYXBoRGF0YSIsInNldEdyYXBoRGF0YSIsInNlbGVjdGVkTm9kZSIsInNldFNlbGVjdGVkTm9kZSIsIm5vZGVJbWFnZXMiLCJzZXROb2RlSW1hZ2VzIiwiTWFwIiwibG9hZGluZ0ltYWdlcyIsInNldExvYWRpbmdJbWFnZXMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwidXNlTW9ja0RhdGEiLCJzZXRVc2VNb2NrRGF0YSIsIm5kayIsInVzZXIiLCJnZXRTb2NpYWxHcmFwaCIsImNvbnRhaW5lclJlZiIsImRpbWVuc2lvbnMiLCJzZXREaW1lbnNpb25zIiwic2hvcnRlbk5wdWIiLCJucHViIiwic3Vic3RyaW5nIiwibGVuZ3RoIiwiaGFuZGxlTm9kZUNsaWNrIiwibm9kZSIsImNvbnNvbGUiLCJsb2ciLCJ1cmwiLCJ3aW5kb3ciLCJvcGVuIiwicHJlbG9hZEltYWdlcyIsIm5vZGVzIiwibmV3SW1hZ2VzIiwibG9hZGVkQ291bnQiLCJ0b3RhbEltYWdlcyIsImZvckVhY2giLCJoYXMiLCJpbWFnZVVybCIsInBpY3R1cmUiLCJpbWciLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwib25sb2FkIiwic2V0IiwicHJldiIsIm9uZXJyb3IiLCJkZWZhdWx0SW1nIiwic3JjIiwiY29udmVydEdyYXBoRGF0YSIsIm1hcCIsInZhbCIsImlzQ29yZU5vZGUiLCJjb2xvciIsImxpbmtzIiwibGluayIsInNvdXJjZSIsImlkIiwidGFyZ2V0IiwidmFsdWUiLCJ0eXBlIiwiZmV0Y2hOb3N0ckRhdGEiLCJnZW5lcmF0ZU1vY2tEYXRhIiwidmFsaWROcHVicyIsImZpbHRlciIsInN0YXJ0c1dpdGgiLCJ3YXJuIiwicmVhbERhdGEiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJTdHJpbmciLCJ0b2dnbGVNb2NrRGF0YSIsIm5ld1N0YXRlIiwiaW5kZXgiLCJwdXNoIiwibmFtZSIsImdldE5hbWVGb3JOcHViIiwiZGlzcGxheU5hbWUiLCJERUZBVUxUX1BST0ZJTEVfSU1BR0VTIiwidW5kZWZpbmVkIiwiaXNDZW50ZXIiLCJub2RlVHlwZSIsImdyb3VwIiwiaSIsImZvbGxvd2VyQ291bnQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJqIiwiZm9sbG93ZXJOcHViIiwidG9TdHJpbmciLCJnZXRSYW5kb21Qcm9maWxlUGljdHVyZSIsInBsYWNlaG9sZGVycyIsImN1cnJlbnQiLCJ1cGRhdGVEaW1lbnNpb25zIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImluaXRpYWxpemVEYXRhIiwiZXJyIiwiZGl2IiwicmVmIiwic3R5bGUiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJhcmlhLWxhYmVsIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsInN0cm9rZSIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJwIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJhbHQiLCJvbkVycm9yIiwiZSIsImEiLCJocmVmIiwicmVsIiwiYm9yZGVyVG9wQ29sb3IiLCJub2RlQ29sb3IiLCJub2RlVmFsIiwibGlua0NvbG9yIiwibGlua1dpZHRoIiwic3FydCIsIm9uTm9kZUNsaWNrIiwibm9kZUNhbnZhc09iamVjdCIsImN0eCIsImdsb2JhbFNjYWxlIiwibm9kZVNpemUiLCJpbWFnZVNvdXJjZSIsImdldCIsInNhdmUiLCJiZWdpblBhdGgiLCJhcmMiLCJ4IiwieSIsIlBJIiwiY2xpcCIsImltZ1NpemUiLCJkcmF3SW1hZ2UiLCJyZXN0b3JlIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/community/SocialGraph.tsx\n"));

/***/ })

});