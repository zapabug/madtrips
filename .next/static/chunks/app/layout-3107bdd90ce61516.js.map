{"version":3,"file":"static/chunks/app/layout-3107bdd90ce61516.js","mappings":"yFCAA,sCAA8E,sLCO9E,IAAMA,EAAe,IAAIC,IAelB,SAASC,EAAmB,CAAoE,KAApE,MAAEC,CAAI,WAAEC,EAAY,EAAE,WAAEC,GAAY,CAAK,CAA2B,CAApE,EAC3B,CAACC,EAAMC,EAAQ,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAS,YACnC,CAACC,EAASC,EAAW,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAU,GAC1C,CAACG,EAAOC,EAAS,CAAGJ,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAU,GACtC,CAACK,EAASC,EAAW,CAAGN,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAgB,MAChD,CAACO,EAAcC,EAAgB,CAAGR,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAU,GAGpDS,EAAeC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAAC,KAC/B,GAAI,CAACf,GAAQ,CAACA,EAAKgB,UAAU,CAAC,SAAU,CACtCT,GAAW,GACXE,GAAS,GACT,MACF,CAGA,IAAMQ,EAAgBpB,EAAaqB,GAAG,CAAClB,GACvC,GAAIiB,GAAiB,KAAME,GAAG,GAAKF,EAAcG,SAAS,CAzBzC,EAyB6CC,EAAc,CAzBtD,EA0BZJ,EAAcd,CA1BG,GA0BC,EAC1BQ,EAAWM,EAAcP,OAAO,EAChCH,GAAW,GACX,MACF,CAEAA,GAAW,GACXE,EAAS,IAGT,IAAMa,EAAO,IAAIC,EAAAA,EAAUA,CAGrBC,EAAS,CACb,uBACA,yBACA,gBACA,mBACD,CAED,GAAI,CAEF,IAAMC,EAASC,EAAAA,EAAKA,CAACC,MAAM,CAAC3B,GAAM4B,IAAI,CAGhCC,EAAYC,WAAW,KAC3BvB,GAAW,GACXE,GAAS,GACTa,EAAKS,KAAK,CAACP,EACb,EAAG,KAGGQ,EAAMV,EAAKW,aAAa,CAC5BT,EACA,CAAC,CAAEU,MAAO,CAAC,EAAE,CAAEC,QAAS,CAACV,EAAO,CAAEW,MAAO,CAAE,EAAE,CAC7C,CACEC,QAAQC,CAAK,EACX,GAAI,CAEF,IAAMC,EAAUC,KAAKC,KAAK,CAACH,EAAMI,OAAO,EAGlCC,EAAcJ,EAAQK,YAAY,EAAIL,EAAQpC,IAAI,EAAI,WAC5DC,EAAQuC,GAGR,IAAME,EAAiBN,EAAQ7B,OAAO,EAAI,KAC1CC,EAAWkC,GACXhC,EAAgB,CAAC,CAACgC,GAGlBhD,EAAaiD,GAAG,CAAC9C,EAAM,CACrBG,KAAMwC,EACNjC,QAASmC,EACTzB,UAAW2B,KAAK5B,GAAG,EACrB,GAEAZ,GAAW,GACXyC,aAAanB,EACf,CAAE,MAAOoB,EAAG,CACVC,QAAQ1C,KAAK,CAAC,yBAA0ByC,EAC1C,CACF,EACAE,SAEErB,WAAW,KACTvB,EAAW,IACXe,EAAKS,KAAK,CAACP,EACb,EAAG,IACL,CACF,GAIF,OAAO,SAAS4B,EACdJ,aAAanB,GACTG,GAAKA,EAAID,KAAK,GAClBT,EAAKS,KAAK,CAACP,EACb,CACF,CAAE,MAAOyB,EAAG,CACVC,QAAQ1C,KAAK,CAAC,0BAA2ByC,GACzC1C,GAAW,GACXE,GAAS,GACTa,EAAKS,KAAK,CAACP,GACX,MACF,CADS6B,EAER,CAACrD,EAAK,EAcT,MAZAsD,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KAER,IAAMF,EAAUtC,IAGhB,MAAO,KACDsC,GACFA,GAEJ,CACF,EAAG,CAACtC,EAAa,EAGf,WAACyC,MAAAA,CAAItD,UAAW,iDAA2D,OAAVA,aAC9DC,GACC,UAACqD,MAAAA,CAAItD,UAAU,6CAA6CuD,MAAO,CAAEC,MAAO,UAAWC,OAAQ,SAAU,WACtGhD,EACC,iCACGE,GACC,UAAC2C,MAAAA,CAAItD,UAAU,0FACb,WAAC0D,MAAAA,CAAI1D,UAAU,oCAAoC2D,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,sBACxG,UAACC,SAAAA,CAAO9D,UAAU,aAAa+D,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKC,OAAO,eAAeC,YAAY,MACxF,UAACC,OAAAA,CAAKpE,UAAU,aAAa4D,KAAK,eAAeS,EAAE,yHAIzD,UAACC,EAAAA,OAAKA,CAAAA,CACJC,IAAK9D,EACL+D,IAAKtE,EACL0D,IAAI,IACJa,MAAM,OACNC,QAAS,GACT1E,UAAU,eACV2E,QAAS,IAAMjE,EAAW,MAC1BkE,OAAQ,IAAMhE,GAAgB,GAC9BiE,QAAQ,IACRC,aAAa,OAIjB,UAACxB,MAAAA,CAAItD,UAAU,yFACb,UAAC+E,OAAAA,CAAK/E,UAAU,0DACbE,EAAK8E,SAAS,CAAC,EAAG,GAAGC,WAAW,SAM3C,UAACF,OAAAA,CAAK/E,UAAU,iEAAyDK,EAAU,aAAeE,EAAQ,WAAaL,MAG7H,CCzKA,IAAMgF,EAAa,CACjB,CAAEhF,KAAM,OAAQiF,KADFD,IACaE,UAAW,MAAO,EAC7C,CACElF,KAAM,WACNiF,KAAM,YACNC,UAAW,WACXC,QAAS,CACP,CAAEnF,KAAM,uBAAwBiF,KAAM,kBAAmB,EAC1D,EAEH,CAAEjF,KAAM,MAAOiF,KAAM,QAASC,UAAW,KAAM,EAC/C,CAAElF,KAAM,YAAaiF,KAAM,aAAcC,UAAW,WAAY,EACjE,CAGKE,EAAS,CACbC,kBAAmB,4CACnBC,oBAAqB,uHACrBC,iBAAkB,gDAClBC,mBAAoB,4FACpBC,gBAAiB,sFACjBC,eAAgB,uCAClB,EAEO,SAASC,IACd,IAAMC,EAAWC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,GACtBC,EAASC,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,GAClB,CAACC,EAASC,EAAW,CAAG/F,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAC,IACjC,CAACgG,EAAgBC,EAAkB,CAAGjG,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAC,GAC/C,CAACkG,EAAaC,EAAe,CAAGnG,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAgB,MACxD,CAACoG,EAAeC,EAAiB,CAAGrG,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAgB,MAG5DsG,EAAaC,CAAAA,EAAAA,EAAAA,OAAAA,CAAOA,CAAC,IAAMzB,EAAW0B,GAAG,CAACC,GAAQA,EAAKzB,SAAS,CAA3BF,CAA8B,EAAE,EAE3E7B,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACR8C,EAAW,GACb,EAAG,EAAE,EAGL9C,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACR,GAAI,CAAC6C,EAAS,OAgBd,IAAMY,EAAW,IAAIC,qBARI,IACvBC,EAAQC,OAAO,CAACC,IACVA,EAAMC,cAAc,EAAE,EACPD,EAAME,MAAM,CAACC,EAAE,CAEpC,EACF,EAZwB,CACtBC,KAAM,KACNC,WAAY,qBACZC,UAAW,EACb,GAmBA,OAPAd,EAAWO,OAAO,CAACI,IACjB,IAAMI,EAAUC,SAASC,cAAc,CAACN,GACpCI,GACFX,EAASc,IADE,GACK,CAACH,EAErB,GAEO,IAAMX,EAASe,UAAU,EAClC,EAAG,CAAC3B,EAASQ,EAAW,EAGxBrD,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KAES,KAAK,CAAlByC,EACFW,EAAiB,QACRX,EAASgC,QAAQ,CAAC,aAC3BrB,CADyC,CACxB,YACRX,EAASgC,QAAQ,CAAC,eAAe,EACzB,aAInBzB,EAAkB,IAClBE,EAAe,KACjB,EAAG,CAACT,EAAS,EAGb,IAAMiC,EAAgBjH,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAAC,IAChCyF,EAAeyB,GAAQA,IAAS9H,EAAO,KAAOA,EAChD,EAAG,EAAE,EAEC+H,EAA0BnH,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAAC,CAACkC,EAAqBoC,KAGhE,GAFApC,EAAEkF,cAAc,GAEZpC,QAAkB,CACpB,IAAMqC,EAAUT,SAASC,cAAc,CAACvC,GACpC+C,GACFA,EAAQC,IADG,UACW,CAAC,CAAEC,SAAU,QAAS,EAEhD,MACErC,CADK,CACEsC,IAAI,CAAC,KAAe,OAAVlD,GAErB,EAAG,CAACU,EAAUE,EAAO,EAGfuC,EAAWzH,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAAC,MACvB+F,EAAKzB,SAAS,GAAKoB,GACL,YADoB,CAClCK,EAAK3G,IADoC,EACb4F,EAASgC,QAAQ,CAAC,cAAc,OAAO,OACnEjB,EAAK3G,IAAI,EAAoB4F,EAASgC,QAAQ,CAAC,eAAe,CAEhEtB,EAAeV,EAAS,EAF+C,MAKzE,WAAC0C,MAAAA,CAAIxI,UAAU,0HACb,UAACsD,MAAAA,CAAItD,UAAU,kCACb,UAACsD,MAAAA,CAAItD,UAAU,4BACb,WAACsD,MAAAA,CAAItD,UAAU,qDAEb,UAACsD,MAAAA,CAAItD,UAAU,oEACb,UAACyI,IAAIA,CAACtD,KAAK,IAAInF,CAAVyI,SAAoB,uHACvB,UAAC3I,EAAkBA,CACjBC,KA1HI,CA0HE2I,SADW5I,wDAEjBG,WAAW,EACXD,UAAU,sEAMhB,UAACsD,MAAAA,CAAItD,UAAU,+DACZkF,EAAW0B,GAAG,CAAC,GACd,UAACtD,EADQ4B,IACR5B,CAAoBtD,UAAU,0BAC5B6G,EAAKxB,OAAO,CACX,iCACE,WAACsD,SAAAA,CACC3I,UAAW,GAA6BuI,MAAAA,CAA1BjD,EAAOK,eAAe,CAAC,KAA0E,OAAvE4C,EAAS1B,GAAQvB,EAAOC,iBAAiB,CAAGD,EAAOE,mBAAmB,EAC9GoD,QAAS,IACW,YAAY,CAA1B/B,EAAK3G,IAAI,CACX8F,EAAOsC,IAAI,CAAC,aACU,KAAK,CAAlBxC,EACTmC,EAAwBjF,EAAG6D,EAAKzB,SAAS,EAEzCY,EAAOsC,IAAI,CAACzB,EAAK1B,IAAI,CAEzB,YAEC0B,EAAK3G,IAAI,CACV,UAACwD,MAAAA,CAAI1D,UAAU,eAAe4D,KAAK,OAAOC,QAAQ,YAAYK,OAAO,wBACnE,UAACE,OAAAA,CAAKyE,cAAc,QAAQC,eAAe,QAAQ3E,YAAa,EAAGE,EAAE,wBAIzE,UAACf,MAAAA,CAAItD,UAAU,oEACb,UAACsD,MAAAA,CAAItD,UAAU,0GACb,UAACsD,MAAAA,CAAItD,UAAU,gBACZ6G,EAAKxB,OAAO,CAACuB,GAAG,CAAC,GAChB,UAAC6B,IAAIA,CAEHtD,KAAM4D,EAAQ5D,GAFXsD,CAEe,CAClBzI,UAAW,2BAIV,OAHCkG,GAAWJ,IAAaiD,EAAQ5D,IAAI,CAChCG,EAAOG,gBAAgB,CACvBH,EAAOI,kBAAkB,WAG9BqD,EAAQ7I,IAAI,EARR6I,EAAQ7I,IAAI,YAeb,QAAd2G,EAAK3G,IAAI,CACX,UAAC8I,IAAAA,CACC7D,KAAM0B,EAAK1B,IAAI,CACfyD,QAAS,GAAOX,EAAwBjF,EAAG6D,EAAKzB,SAAS,EACzDpF,UAAW,GAA6BuI,MAAAA,CAA1BjD,EAAOK,eAAe,CAAC,KAA0E,OAAvE4C,EAAS1B,GAAQvB,EAAOC,iBAAiB,CAAGD,EAAOE,mBAAmB,WAE7GqB,EAAK3G,IAAI,GAGZ,UAACuI,IAAIA,CACHtD,KAAM0B,EAAK1B,GADRsD,CACY,CACfzI,UAAW,GAA6BuI,MAAAA,CAA1BjD,EAAOK,eAAe,CAAC,KAA0E,OAAvE4C,EAAS1B,GAAQvB,EAAOC,iBAAiB,CAAGD,EAAOE,mBAAmB,WAE7GqB,EAAK3G,IAAI,IAtDN2G,EAAK3G,IAAI,KA8DvB,UAACoD,MAAAA,CAAItD,UAAU,4CACb,WAAC2I,SAAAA,CACCM,KAAK,SACLjJ,UAAU,gDACVkJ,gBAAc,cACdC,gBAAe/C,EACfwC,QAAS,IAAMvC,EAAkB,CAACD,aAElC,UAACrB,OAAAA,CAAK/E,UAAU,mBAAU,mBAC1B,UAAC0D,MAAAA,CACC1D,UAAW,GAAuC,OAApCoG,EAAiB,SAAW,QAAQ,YAClDzC,MAAM,6BACNC,KAAK,OACLC,QAAQ,YACRK,OAAO,eACPkF,cAAY,gBAEZ,UAAChF,OAAAA,CAAKyE,cAAc,QAAQC,eAAe,QAAQ3E,YAAa,EAAGE,EAAE,8BAEvE,UAACX,MAAAA,CACC1D,UAAW,GAAuC,OAApCoG,EAAiB,QAAU,SAAS,YAClDzC,MAAM,6BACNC,KAAK,OACLC,QAAQ,YACRK,OAAO,eACPkF,cAAY,gBAEZ,UAAChF,OAAAA,CAAKyE,cAAc,QAAQC,eAAe,QAAQ3E,YAAa,EAAGE,EAAE,uCAShF+B,GACC,UAAC9C,MAAAA,CAAItD,UAAU,yDAAyDqH,GAAG,uBACzE,UAAC/D,MAAAA,CAAItD,UAAU,oDACZkF,EAAW0B,GAAG,CAAC,GACd,UAACtD,EADQ4B,IACR5B,UACEuD,EAAKxB,OAAO,EAAkB,eAATnF,IAAI,CACxB,iCACE,WAACyI,SAAAA,CACC3I,UAAW,4EAEV,OADCuI,EAAS1B,GAAQvB,EAAOG,gBAAgB,CAAGH,EAAOI,kBAAkB,EAEtEkD,QAAS,KACPb,EAAclB,EAAK3G,IAAI,CACzB,YAEC2G,EAAK3G,IAAI,CACV,UAACwD,MAAAA,CACC1D,UAAW,qBAAmE,OAA9CsG,IAAgBO,EAAK3G,IAAI,CAAG,aAAe,IAC3E0D,KAAK,OACLC,QAAQ,YACRK,OAAO,wBAEP,UAACE,OAAAA,CAAKyE,cAAc,QAAQC,eAAe,QAAQ3E,YAAa,EAAGE,EAAE,wBAIxEiC,IAAgBO,EAAK3G,IAAI,EACxB,UAACoD,MAAAA,CAAItD,UAAU,yCACZ6G,EAAKxB,OAAO,CAACuB,GAAG,CAAC,GAChB,UAAC6B,IAAIA,CAEHtD,KAAM4D,EAAQ5D,GAFXsD,CAEe,CAClBzI,UAAW,yCAIV,OAHC8F,IAAaiD,EAAQ5D,IAAI,CACrBG,EAAOG,gBAAgB,CACvBH,EAAOI,kBAAkB,EAE/BkD,QAAS,IAAMvC,EAAkB,aAEhC0C,EAAQ7I,IAAI,EATR6I,EAAQ7I,IAAI,QAgB3B,iCACE,UAACuI,IAAIA,CACHtD,KAAoB,KADjBsD,QACG5B,EAAK3G,IAAI,CAAkB,YAAc2G,EAAK1B,IAAI,CACxDnF,UAAW,GAA4BuI,MAAAA,CAAzBjD,EAAOM,cAAc,CAAC,KAAwE,OAArE2C,EAAS1B,GAAQvB,EAAOG,gBAAgB,CAAGH,EAAOI,kBAAkB,EAC3GkD,QAAS,KACW,OAAO,CAArB/B,EAAK3G,IAAI,EACX+H,EAAwB,CAAEC,eAAgB,KAAO,CAAE,EAAuBrB,EAAKzB,SAAS,EAE1FiB,GAAkB,EACpB,WAECQ,EAAK3G,IAAI,GAIG,aAAd2G,EAAK3G,IAAI,EAAmB2G,EAAKxB,OAAO,EACvC,UAACoD,IAAIA,CACHtD,KAAK,KADFsD,cAEHzI,UAAW,yCAIV,OAHC8F,uBACIR,EAAOG,gBAAgB,CACvBH,EAAOI,kBAAkB,EAE/BkD,QAAS,IAAMvC,GAAkB,YAClC,6BAlECQ,EAAK3G,IAAI,SA+EjC,eCxTO,IAAMmJ,EAA6B,SAmQ3BC,EAGQA,EAA6BA,EAWhCA,EAMLA,EAA6BA,EAG/BA,EAA6BA,EAzRxC,GAAM,MAAEA,CAAI,SAAEjJ,CAAO,OAAEkJ,CAAK,QAAEC,CAAM,aAAEC,CAAW,aAAEC,CAAW,iBAAEC,CAAe,mBAAEC,CAAiB,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,CAAQA,GACzG,CAACC,EAAaC,EAAe,CAAG3J,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAC,IACzC,CAAC4J,EAAkBC,EAAoB,CAAG7J,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAC,GACnD,CAAC8J,EAAcC,EAAgB,CAAG/J,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAS,8BACnD,CAACgK,EAAYC,EAAc,CAAGjK,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,EAAC,GAG7CiD,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,SAGIiG,EAFZrG,QAAQqH,GAAG,CAAC,sBAAuBhB,EAAO,YAAc,cAEpDA,GAAAA,CAAAA,QAAQA,EAAAA,EAAKhH,OAAAA,GAALgH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAciB,KAAAA,GAAS,CAACH,GAElCD,EAAgBb,EAAKhH,KAFyB,EAElB,CAACiI,KAAK,EAClCtH,QAAQqH,GAAG,CAAC,4BAA6BhB,EAAKhH,OAAO,CAACiI,KAAK,GAClDZ,OAAAA,EAAAA,KAAAA,EAAAA,EAAiBlJ,OAAAA,GAAW,CAAC2J,GAEtCD,EAAgBR,CAFPA,CAEuBlJ,KAFkB,EAEX,EACvCwC,QAAQqH,GAAG,CAAC,8CAA+CX,EAAgBlJ,OAAO,IAGlF0J,EAAgB,8BAChBlH,QAAQqH,GAAG,CAAC,wCAEhB,EAAG,CAAChB,EAAMK,EAAiBS,EAAW,EAGtC/G,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACRgH,GAAc,EAChB,EAAG,CAACf,EAAMK,EAAgB,EAG1BtG,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACHiG,GAASjJ,GAAWqJ,EAAZ,QAAoCC,MAA0B,IAEzEM,GAAoB,EAExB,EAAG,CAACX,EAAMjJ,EAASqJ,EAAaC,EAAgB,EAEhD,IAAMa,EAAmB,UACvB,GAAI,CACF,MAAMjB,EAAM,SACZU,GAAoB,EACtB,CAAE,MAAO1J,EAAO,CACd0C,QAAQ1C,KAAK,CAAC,+BAAgCA,GAC9CkK,MAAM,gHACR,CACF,EAEMC,EAAmB,UACvB,GAAI,CAEF,IAAMtD,EAASuD,OAAO,4DAA6D,IACnF,GAAI,CAACvD,EAAQ,MAEb,EAFqB,KAEfmC,EAAM,QAAS,EAFiB,MAEfnC,CAAO,GAC9B6C,GAAoB,EACtB,CAAE,MAAO1J,EAAO,CACd0C,QAAQ1C,KAAK,CAAC,+BAAgCA,GAC9CkK,MAAM,yBAA2BlK,CAAAA,YAAiBqK,MAAQrK,EAAMsK,OAAO,CAAG,gBAAc,CAC1F,CACF,EAEMC,EAAsB,MAAOxI,IACjC,GAAI,CACF,MAAMiH,EAAM,WAAY,SAAEjH,CAAQ,GAClC2H,GAAoB,EACtB,CAAE,MAAO1J,EAAO,CACd0C,QAAQ1C,KAAK,CAAC,uCAAwCA,GACtDkK,MAAM,4BAA8BlK,CAAAA,YAAiBqK,MAAQrK,EAAMsK,OAAO,CAAG,gBAAc,CAC7F,CACF,EAmBME,EAAe,KACnB9H,QAAQqH,GAAG,CAAC,oBAGZP,GAAe,GAGfI,EAAgB,8BAGhBE,GAAc,GAIdxI,WAAW,KACT2H,IACAvG,QAAQqH,GAAG,CAAC,oBAGZH,EAAgB,6BAClB,EAAG,GACL,EAYMa,EAAmB,KACvB/H,QAAQqH,GAAG,CAAC,qDACZD,GAAc,GACdF,EAAgB,6BAClB,EAmBA,MAhBA9G,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACR,IAAM4H,EAAqB,IAEzB,IAAMC,EAAmBxD,SAASyD,aAAa,CAAC,0BAC5CD,GAAoB,CAACA,EAAiBE,QAAQ,CAAC/I,EAAM+E,MAAM,GAAW,CACxE6C,GAAoB,GACpBF,EAAe,IAEnB,EAGA,OADArC,SAAS2D,gBAAgB,CAAC,QAASJ,GAC5B,KACLvD,SAAS4D,mBAAmB,CAAC,QAASL,EACxC,CACF,EAAG,EAAE,EAGH,WAAC3H,MAAAA,CAAI+D,GAAG,wBAAwBrH,UAAU,wCAExC,UAAC2I,SAAAA,CACCC,QArCoB,CAqCX2C,IAnCRjC,EAIHS,EAAe/B,EAJN,CAIc,CAACA,GAHxBiC,EAAoBjC,GAAQ,CAACA,EAKjC,EA8BMhI,UAAU,gFACVwL,aAAYlC,EAAO,qBAAuB,mBAC1CmC,SAAUpL,WAETA,EACC,UAACiD,MAAAA,CAAItD,UAAU,sEACb,UAACsD,MAAAA,CAAItD,UAAU,mFAGjB,UAACsE,EAAAA,OAAKA,CAAAA,CACJC,IAAK2F,EACL1F,IAAK8E,EAAO,eAAiB,mBAC7B9F,MAAO,GACPC,OAAQ,GACRzD,UAAU,6BACV2E,QAASqG,EAETnG,QAAQ,IACRC,WAAW,KAFN,iBAAyCoF,MAAAA,CAAxBZ,OAAAA,EAAAA,KAAAA,EAAAA,EAAMvJ,IAAAA,EAANuJ,CAAc,OAAO,KAAgB,OAAbY,MAQnD,CAACZ,GAAQU,GACR,WAAC1G,MAAAA,CAAItD,UAAU,wKACb,UAAC0L,KAAAA,CAAG1L,UAAU,gEAAuD,kBAErE,WAACsD,MAAAA,CAAItD,UAAU,sBAEb,WAAC2I,SAAAA,CACCC,QAAS4B,EACTxK,UAAU,0IAEV,UAAC+E,OAAAA,CAAK/E,UAAU,gBACd,UAAC0D,MAAAA,CAAI1D,UAAU,UAAU4D,KAAK,eAAeC,QAAQ,qBACnD,UAACO,OAAAA,CAAKC,EAAE,0YAEL,gCAKT,WAACsE,SAAAA,CACCC,QAAS8B,EACT1K,UAAU,sIAEV,UAAC+E,OAAAA,CAAK/E,UAAU,gBACd,UAAC0D,MAAAA,CAAI1D,UAAU,UAAU4D,KAAK,eAAeC,QAAQ,qBACnD,UAACO,OAAAA,CAAKuH,SAAS,UAAUtH,EAAE,iJAAiJuH,SAAS,gBAElL,4BAKT,WAACjD,SAAAA,CACCC,QAhIS,CAgIAiD,IA9HnBC,OAAOC,IAAI,CAAC,mBAAoB,UAGhClK,WAAW,KACT4I,MAAM,uKACR,EAAG,IACL,EAyHYzK,UAAU,wIAEV,UAAC+E,OAAAA,CAAK/E,UAAU,gBACd,UAAC0D,MAAAA,CAAI1D,UAAU,UAAU4D,KAAK,eAAeC,QAAQ,qBACnD,UAACO,OAAAA,CAAKuH,SAAS,UAAUtH,EAAE,wFAAwFuH,SAAS,gBAEzH,0BAKT,WAACtI,MAAAA,CAAItD,UAAU,+DACb,UAACgM,IAAAA,CAAEhM,UAAU,yDAAgD,kBAC7D,UAACsD,MAAAA,CAAItD,UAAU,qBACZ4J,EAAkBhD,GAAG,CAAC,GACrB,WAAC+B,SAAAA,CAECC,QAAS,IAAMkC,EAAoBxI,GACnCtC,UAAU,iMAEV,UAACsD,MAAAA,CAAItD,UAAU,mEACZsC,EAAQ7B,OAAO,CACd,UAAC6D,EAAAA,OAAKA,CAAAA,CACJC,IAAKjC,EAAQ7B,OAAO,CACpB+D,IAAKlC,EAAQI,WAAW,EAAIJ,EAAQpC,IAAI,EAAI,UAC5CsD,MAAO,GACPC,OAAQ,GACRzD,UAAU,6BACV8E,WAAW,MAGb,UAACxB,MAAAA,CAAItD,UAAU,mGACZ,GAASE,IAAI,EAAIuJ,EAAYnH,EAAQvC,KAAI,CAAE,CAAC,EAAE,CAACkF,WAAW,OAIjE,UAACF,OAAAA,CAAK/E,UAAU,oBAAYsC,EAAQI,WAAW,EAAIJ,EAAQpC,IAAI,EAAIuJ,EAAYnH,EAAQvC,IAAI,MApBtFuC,EAAQvC,IAAI,cA8B9BuJ,GAAQQ,GACP,UAACxG,MAAAA,CAAItD,UAAU,0IACb,WAACsD,MAAAA,CAAItD,UAAU,uCACb,UAACsD,MAAAA,CAAItD,UAAU,qDACZsJ,CAAAA,QAAAA,EAAAA,EAAKhH,OAAAA,GAALgH,KAAAA,MAAAA,KAAAA,EAAAA,EAAciB,KAAAA,GAAS,CAACH,EACvB,UAAC9F,EAAAA,OAAKA,CAAAA,CACJC,IAAK+E,EAAKhH,OAAO,CAACiI,KAAK,CACvB/F,IAAK8E,CAAAA,QAAAA,EAAAA,EAAKhH,OAAAA,GAALgH,KAAAA,MAAAA,KAAAA,EAAAA,EAAc5G,WAAAA,GAAW,SAAI4G,EAAAA,EAAKhH,OAAAA,GAALgH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAcpJ,IAAAA,GAAQ,OACxDsD,MAAO,GACPC,OAAQ,GACRzD,UAAU,6BACV2E,QAASqG,EAETnG,QAAQ,IACRC,WAAW,KAFN,gBAA6BwE,MAAAA,CAAbA,EAAKvJ,IAAI,CAAC,KAAsB,OAAnBuJ,EAAKhH,OAAO,CAACiI,KAAK,GAKtD,UAACjH,MAAAA,CAAItD,UAAU,kIACZ,CAACsJ,CAAAA,QAAAA,EAAAA,EAAKhH,OAAAA,GAALgH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAcpJ,IAAI,GAAIuJ,EAAYH,EAAKvJ,IAAI,GAAK,IAAE,CAAG,EAAE,CAACkF,WAAW,OAK3E,UAAC+G,IAAAA,CAAEhM,UAAU,mDACVsJ,CAAAA,QAAAA,EAAAA,EAAKhH,OAAAA,GAALgH,KAAAA,MAAAA,KAAAA,EAAAA,EAAc5G,WAAAA,GAAW,SAAI4G,EAAAA,EAAKhH,OAAAA,GAALgH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAcpJ,IAAAA,GAAQuJ,EAAYH,EAAKvJ,IAAI,IAG1EuJ,CAAAA,QAAAA,EAAAA,EAAKhH,OAAAA,GAALgH,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAc5G,WAAAA,GAAW,SAAI4G,EAAAA,EAAKhH,OAAAA,GAALgH,KAAAA,MAAAA,KAAAA,EAAAA,EAAcpJ,IAAI,GAC9C,WAAC8L,IAAAA,CAAEhM,UAAU,sEAA4D,IAAEsJ,EAAKhH,OAAO,CAACpC,IAAI,IAG9F,UAAC8L,IAAAA,CAAEhM,UAAU,qEACVyJ,EAAYH,EAAKvJ,IAAI,IAGP,aAAhB2J,EACC,WAACpG,MAAAA,CAAItD,UAAU,2CACb,UAACgM,IAAAA,CAAEhM,UAAU,uEAA8D,uCAG3E,UAAC2I,SAAAA,CACCC,QA9NiB,CA8NRqD,IA7NvBhC,GAAoB,GACpBF,GAAe,EACjB,EA4NgB/J,UAAU,oGACX,mBAGD,UAAC2I,SAAAA,CACCC,QAASmC,EACT/K,UAAU,kGACX,2BAKH,UAAC2I,SAAAA,CACCC,QAASmC,EACT/K,UAAU,kGACX,kBASf,EAAE,cChUK,SAASkM,EAAU,CAA4B,KAA5B,UAAEC,CAAQ,CAAkB,CAA5B,EACxB,MACE,UAACC,EAAAA,CAAiBA,CAAAA,CAChBC,UAAU,QACVC,aAAa,OACbC,YAAY,OACZC,cAAc,EACdC,yBAAyB,aAEzB,UAACC,EAAAA,EAAaA,CAAAA,UACXP,KAIT,CClBO,IAAMQ,EAAY,KACvB,IAAM5M,EAAO,kEACP,CAAC6M,EAAWC,EAAa,CAAGzM,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAgB,MAEpD0M,EAAchM,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAAC,IAC9BkC,EAAEkF,cAAc,GAAG,IAGbhH,EAAM4B,KAAK5B,GAAG,GACpB2L,EAAa3L,GAGb4K,OAAOiB,OAPgD,CAOxC,CAAC5H,IAAI,CAAG,SAAc,OAALpF,GAGhC,IAAM6B,EAAYC,WAAW,KAEvB+K,IAAc1L,IAChB4K,CADqB,MACdiB,QAAQ,CAAC5H,IAAI,CAAG,uBAA4B,OAALpF,EAAAA,CAElD,EAAG,KAGH+L,OAAOT,gBAAgB,CAAC,OAAQ,KAC9BtI,aAAanB,EACf,EAAG,CAAEoL,MAAM,CAAK,GAGhBlB,OAAOT,gBAAgB,CAAC,eAAgB,KACtCtI,aAAanB,EACf,EAAG,CAAEoL,KAAM,EAAK,EAClB,EAAG,CAACJ,EAAW7M,EAAK,EAEpB,MACE,UAACiJ,IAAAA,CACC7D,KAAM,SAAc,OAALpF,GACf6I,QAASkE,EACT9M,UAAU,oDACVwL,aAAW,iBAEX,UAAClH,EAAAA,OAAKA,CAAAA,CACJC,IAAI,oDACJC,IAAI,QACJhB,MAAO,IACPC,OAAQ,IACRzD,UAAU,8BAIlB,EAAC,SClCuBiN,EAAW,CAIlC,KAJkC,UACjCd,CAAQ,CAGT,CAJkC,EAKjC,MACE,WAACe,OAAAA,CAAKC,KAAK,KAAKC,wBAAwB,cACtC,UAACC,OAAAA,CAAAA,GAGD,WAACC,OAAAA,mCAAgB,GAAmB,OAAhBC,IAAAA,SAAe,CAAC,yCAClC,WAACrB,EAASA,OAAAA,IACR,UAACrG,EAAUA,CAAAA,GACX,IADWA,CACX,KAAC2H,OAAAA,0CAAe,6BACbrB,IAEH,UAACsB,SAAAA,0CAAiB,4CAChB,WAACnK,MAAAA,0CAAc,yBACb,WAACA,MAAAA,0CAAc,8DAEb,WAACA,MAAAA,0CAAc,0DACb,UAACqJ,EAASA,CAAAA,GACV,UAAClE,IAAIA,CAACtD,KAAK,KAANsD,4BAAuCrB,OAAO,SAASsG,IAAI,sBAAsB1N,UAAU,kDAAkDwL,aAAW,qBAC3J,UAAC9H,MAAAA,CAAwBE,KAAK,eAAeC,QAAQ,YAAYuF,cAAY,gDAA9D,SACb,UAAChF,OAAAA,CAAKuH,SAAS,UAAUtH,EAAE,8jDAA8jDuH,SAAS,iDAGtmD,UAACnD,IAAIA,CAACtD,KAAK,KAANsD,yBAAoCrB,OAAO,SAASsG,IAAI,sBAAsB1N,UAAU,kDAAkDwL,aAAW,uBACxJ,UAAC9H,MAAAA,CAAwBE,KAAK,eAAeC,QAAQ,YAAYuF,cAAY,gDAA9D,SACb,UAAChF,OAAAA,CAAKC,EAAE,wMAMd,UAACf,MAAAA,0CAAc,6BACb,WAACA,MAAAA,0CAAc,oDAAoD,aAEjE,WAACA,MAAAA,0CAAc,mCACb,UAACmF,IAAIA,CAACtD,KAAK,KAANsD,uBAAkCrB,OAAO,SAASsG,IAAI,sBAAsB1N,UAAU,uDAAuDwL,aAAW,mBAC3J,WAAClI,MAAAA,0CAAc,6BACb,WAACI,MAAAA,CAAwBG,QAAQ,YAAYD,KAAK,wDAAnC,UACb,UAACQ,OAAAA,CAAKC,EAAE,4KACR,UAACD,OAAAA,CAAKC,EAAE,oKACR,UAACD,OAAAA,CAAKC,EAAE,uEAEV,UAACU,OAAAA,0CAAe,mBAAoB,iBAGxC,UAAC0D,IAAIA,CAACtD,KAAK,KAANsD,qBAAgCrB,OAAO,SAASsG,IAAI,sBAAsB1N,UAAU,uDAAuDwL,aAAW,iBACzJ,WAAClI,MAAAA,0CAAc,6BACb,WAACI,MAAAA,CAAwBG,QAAQ,YAAYD,KAAK,wDAAnC,UACb,UAACQ,OAAAA,CAAKC,EAAE,0KACR,UAACD,OAAAA,CAAKC,EAAE,8EAEV,UAACU,OAAAA,0CAAe,mBAAoB,eAGxC,UAAC0D,IAAIA,CAACtD,KAAK,KAANsD,gBAA2BrB,OAAO,SAASsG,IAAI,sBAAsB1N,UAAU,4DAA4DwL,aAAW,kBACzJ,WAAClI,MAAAA,0CAAc,6BACb,UAACI,MAAAA,CAAwBG,QAAQ,YAAYD,KAAK,wDAAnC,SACb,UAACQ,OAAAA,CAAKC,EAAE,kPAEV,UAACU,OAAAA,0CAAe,mBAAoB,gBAGxC,UAACzB,MAAAA,0CAAc,kCACb,UAACgB,EAAAA,OAAKA,CAAAA,CACJC,IAAI,sBACJC,IAAI,UACJhB,MAAO,IACPC,OAAQ,IACRzD,UAAU,0CAStB,WAACsD,MAAAA,0CAAc,2CACb,WAAC0I,IAAAA,0CAAY,UAAU,QAAG,IAAIlJ,OAAO6K,WAAW,GAAG,qCACnD,WAACrK,MAAAA,0CAAc,6CACb,UAACmF,IAAIA,CAACtD,KAAK,KAANsD,MAAiBzI,UAAU,0DAAiD,mBACjF,UAACyI,IAAIA,CAACtD,KAAK,KAANsD,IAAezI,UAAU,0DAAiD,qBAC/E,UAACyI,IAAIA,CAACtD,KAAK,KAANsD,MAAiBzI,UAAU,0DAAiD,uBAOzF,UAACqJ,EAAgBA,CAAAA,aAAAA,mZAqB3B","sources":["webpack://_N_E/./src/app/globals.css","webpack://_N_E/?22b2","webpack://_N_E/./src/components/community/NostrProfileHeader.tsx","webpack://_N_E/./src/components/layout/Navigation.tsx","webpack://_N_E/./src/components/NostrLoginButton.tsx","webpack://_N_E/./src/app/providers.tsx","webpack://_N_E/./src/components/NostrLink.tsx","webpack://_N_E/./src/app/layout.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin","import(/* webpackMode: \"eager\" */ \"/home/lfg/Git/Madtrips/src/app/layout.tsx\");\n","'use client'\n\nimport { useState, useEffect, useCallback } from 'react'\nimport { SimplePool, nip19 } from 'nostr-tools'\nimport Image from 'next/image'\n\n// Simple in-memory cache for profile data\nconst profileCache = new Map<string, {\n  name: string;\n  picture: string | null;\n  timestamp: number;\n}>()\n\n// Cache expiration time: 10 minutes\nconst CACHE_EXPIRY = 10 * 60 * 1000\n\ninterface NostrProfileHeaderProps {\n  npub: string\n  className?: string\n  showImage?: boolean\n}\n\nexport function NostrProfileHeader({ npub, className = '', showImage = false }: NostrProfileHeaderProps) {\n  const [name, setName] = useState<string>('MadTrips') \n  const [loading, setLoading] = useState<boolean>(true)\n  const [error, setError] = useState<boolean>(false)\n  const [picture, setPicture] = useState<string | null>(null)\n  const [imageLoading, setImageLoading] = useState<boolean>(true)\n\n  // Function to fetch profile information\n  const fetchProfile = useCallback(() => {\n    if (!npub || !npub.startsWith('npub1')) {\n      setLoading(false)\n      setError(true)\n      return\n    }\n    \n    // Check cache first\n    const cachedProfile = profileCache.get(npub)\n    if (cachedProfile && (Date.now() - cachedProfile.timestamp) < CACHE_EXPIRY) {\n      setName(cachedProfile.name)\n      setPicture(cachedProfile.picture)\n      setLoading(false)\n      return\n    }\n    \n    setLoading(true)\n    setError(false)\n    \n    // Create a connection pool\n    const pool = new SimplePool()\n    \n    // Define relays to use\n    const relays = [\n      'wss://relay.damus.io',\n      'wss://relay.primal.net',\n      'wss://nos.lol',\n      'wss://nostr.wine'\n    ]\n    \n    try {\n      // Decode the npub to get the hex pubkey\n      const pubkey = nip19.decode(npub).data as string\n      \n      // Create a timeout to abort if it takes too long\n      const timeoutId = setTimeout(() => {\n        setLoading(false)\n        setError(true)\n        pool.close(relays)\n      }, 5000)\n      \n      // Subscribe to profile metadata events (kind 0)\n      const sub = pool.subscribeMany(\n        relays,\n        [{ kinds: [0], authors: [pubkey], limit: 1 }],\n        {\n          onevent(event) {\n            try {\n              // Parse the profile content\n              const profile = JSON.parse(event.content)\n              \n              // Update state with profile name\n              const displayName = profile.display_name || profile.name || 'MadTrips'\n              setName(displayName)\n              \n              // Update profile picture if available\n              const profilePicture = profile.picture || null\n              setPicture(profilePicture)\n              setImageLoading(!!profilePicture)\n              \n              // Store in cache\n              profileCache.set(npub, {\n                name: displayName,\n                picture: profilePicture,\n                timestamp: Date.now()\n              })\n              \n              setLoading(false)\n              clearTimeout(timeoutId)\n            } catch (e) {\n              console.error('Error parsing profile:', e)\n            }\n          },\n          oneose() {\n            // End of stored events reached\n            setTimeout(() => {\n              setLoading(false)\n              pool.close(relays)\n            }, 1000)\n          }\n        }\n      )\n      \n      // Return cleanup function\n      return function cleanup() {\n        clearTimeout(timeoutId)\n        if (sub) sub.close()\n        pool.close(relays)\n      }\n    } catch (e) {\n      console.error('Error fetching profile:', e)\n      setLoading(false)\n      setError(true)\n      pool.close(relays)\n      return undefined\n    }\n  }, [npub])\n\n  useEffect(() => {\n    // Execute the fetch function and store the cleanup\n    const cleanup = fetchProfile()\n    \n    // Return cleanup function\n    return () => {\n      if (cleanup) {\n        cleanup()\n      }\n    }\n  }, [fetchProfile])\n\n  return (\n    <div className={`flex items-center font-bold transition-colors ${className}`}>\n      {showImage && (\n        <div className=\"relative rounded-full overflow-hidden mr-3\" style={{ width: '3.75rem', height: '3.75rem' }}>\n          {picture ? (\n            <>\n              {imageLoading && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-700\">\n                  <svg className=\"animate-spin h-5 w-5 text-bitcoin\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                </div>\n              )}\n              <Image \n                src={picture} \n                alt={name} \n                fill\n                sizes=\"60px\"\n                quality={95}\n                className=\"object-cover\"\n                onError={() => setPicture(null)}\n                onLoad={() => setImageLoading(false)}\n                priority\n                unoptimized={false}\n              />\n            </>\n          ) : (\n            <div className=\"w-full h-full bg-ocean/20 dark:bg-bitcoin/20 flex items-center justify-center\">\n              <span className=\"text-xl font-bold text-ocean dark:text-bitcoin\">\n                {name.substring(0, 1).toUpperCase()}\n              </span>\n            </div>\n          )}\n        </div>\n      )}\n      <span className=\"truncate max-w-[150px] sm:max-w-[180px] md:max-w-none\">{loading ? 'Loading...' : error ? 'MadTrips' : name}</span>\n    </div>\n  )\n} ","'use client'\n\nimport Link from 'next/link'\nimport { usePathname, useRouter } from 'next/navigation'\nimport { useEffect, useState, useCallback, useMemo } from 'react'\nimport { NostrProfileHeader } from '@/components/community/NostrProfileHeader'\n\n// Extracted constants and reusable styles\nconst MADTRIPS_NPUB = \"npub1dxd02kcjhgpkyrx60qnkd6j42kmc72u5lum0rp2ud8x5zfhnk4zscjj6hh\"\n\nconst navigation = [\n  { name: 'Home', href: '/', sectionId: 'home' },\n  { \n    name: 'Packages', \n    href: '/packages',\n    sectionId: 'packages',\n    submenu: [\n      { name: 'Build Custom Package', href: '/packages/custom' },\n    ] \n  },\n  { name: 'Map', href: '/#map', sectionId: 'map' },\n  { name: 'Community', href: '/community', sectionId: 'community' },\n]\n\n// Common styles extracted for reuse and consistency\nconst styles = {\n  activeDesktopLink: 'border-bitcoin text-ocean dark:text-white',\n  inactiveDesktopLink: 'border-transparent text-forest dark:text-gray-300 hover:border-bitcoin/50 hover:text-bitcoin dark:hover:text-bitcoin',\n  activeMobileLink: 'bg-bitcoin/10 dark:bg-bitcoin/20 text-bitcoin',\n  inactiveMobileLink: 'text-forest dark:text-gray-300 hover:bg-sand/10 dark:hover:bg-gray-700 hover:text-bitcoin',\n  desktopLinkBase: 'inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors',\n  mobileLinkBase: 'block py-3 px-4 text-base font-medium',\n}\n\nexport function Navigation() {\n  const pathname = usePathname()\n  const router = useRouter()\n  const [mounted, setMounted] = useState(false)\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)\n  const [openSubmenu, setOpenSubmenu] = useState<string | null>(null)\n  const [activeSection, setActiveSection] = useState<string | null>(null)\n\n  // Memoize section IDs to avoid recreating on each render\n  const sectionIds = useMemo(() => navigation.map(item => item.sectionId), [])\n\n  useEffect(() => {\n    setMounted(true)\n  }, [])\n\n  // Implement intersection observer to track active sections\n  useEffect(() => {\n    if (!mounted) return\n    \n    const observerOptions = {\n      root: null,\n      rootMargin: '-80px 0px -20% 0px',\n      threshold: 0.2\n    }\n    \n    const observerCallback = (entries: IntersectionObserverEntry[]) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          setActiveSection(entry.target.id)\n        }\n      })\n    }\n    \n    const observer = new IntersectionObserver(observerCallback, observerOptions)\n    \n    sectionIds.forEach(id => {\n      const element = document.getElementById(id)\n      if (element) {\n        observer.observe(element)\n      }\n    })\n    \n    return () => observer.disconnect()\n  }, [mounted, sectionIds])\n\n  // Set active section based on the pathname when navigation happens\n  useEffect(() => {\n    // Use path-based logic to determine active section\n    if (pathname === '/') {\n      setActiveSection('home')\n    } else if (pathname.includes('/packages')) {\n      setActiveSection('packages')\n    } else if (pathname.includes('/community')) {\n      setActiveSection('community')\n    }\n    \n    // Close menus on navigation\n    setMobileMenuOpen(false)\n    setOpenSubmenu(null)\n  }, [pathname])\n\n  // Memoized handlers to prevent recreating on each render\n  const toggleSubmenu = useCallback((name: string) => {\n    setOpenSubmenu(prev => prev === name ? null : name)\n  }, [])\n\n  const handleSectionNavigation = useCallback((e: React.MouseEvent, sectionId: string) => {\n    e.preventDefault()\n    \n    if (pathname === '/') {\n      const section = document.getElementById(sectionId)\n      if (section) {\n        section.scrollIntoView({ behavior: 'smooth' })\n      }\n    } else {\n      router.push(`/#${sectionId}`)\n    }\n  }, [pathname, router])\n\n  // Memoized check for active state to avoid recalculating\n  const isActive = useCallback((item: typeof navigation[0]) => {\n    if (item.sectionId === activeSection) return true\n    if (item.name === 'Packages' && pathname.includes('/packages')) return true\n    if (item.name === 'Community' && pathname.includes('/community')) return true\n    return false\n  }, [activeSection, pathname])\n\n  return (\n    <nav className=\"bg-white dark:bg-gray-800 shadow-md border-b border-sand dark:border-gray-700 fixed top-0 left-0 right-0 z-30\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex h-auto py-2\">\n          <div className=\"flex items-center justify-between w-full\">\n            {/* Logo/Profile section - Fixed mobile width issue */}\n            <div className=\"w-auto max-w-[calc(100%-50px)] sm:w-auto overflow-hidden\">\n              <Link href=\"/\" className=\"flex items-center text-xl font-bold text-ocean dark:text-bitcoin hover:text-bitcoin transition-colors group\">\n                <NostrProfileHeader \n                  npub={MADTRIPS_NPUB} \n                  showImage={true}\n                  className=\"text-xl text-ocean dark:text-bitcoin group-hover:text-bitcoin\" \n                />\n              </Link>\n            </div>\n\n            {/* Desktop navigation */}\n            <div className=\"hidden sm:ml-6 sm:flex sm:space-x-8 sm:items-center\">\n              {navigation.map((item) => (\n                <div key={item.name} className=\"relative group\">\n                  {item.submenu ? (\n                    <>\n                      <button\n                        className={`${styles.desktopLinkBase} ${isActive(item) ? styles.activeDesktopLink : styles.inactiveDesktopLink}`}\n                        onClick={(e) => {\n                          if (item.name === 'Packages') {\n                            router.push('/packages');\n                          } else if (pathname === '/') {\n                            handleSectionNavigation(e, item.sectionId);\n                          } else {\n                            router.push(item.href);\n                          }\n                        }}\n                      >\n                        {item.name}\n                        <svg className=\"ml-1 h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                        </svg>\n                      </button>\n                      \n                      <div className=\"absolute left-0 pt-3 top-6 group-hover:block hidden z-50\">\n                        <div className=\"w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-sand/20 dark:border-gray-700\">\n                          <div className=\"py-1\">\n                            {item.submenu.map((subitem) => (\n                              <Link\n                                key={subitem.name}\n                                href={subitem.href}\n                                className={`block px-4 py-2 text-sm ${\n                                  mounted && pathname === subitem.href\n                                    ? styles.activeMobileLink\n                                    : styles.inactiveMobileLink\n                                }`}\n                              >\n                                {subitem.name}\n                              </Link>\n                            ))}\n                          </div>\n                        </div>\n                      </div>\n                    </>\n                  ) : item.name === 'Map' ? (\n                    <a\n                      href={item.href}\n                      onClick={(e) => handleSectionNavigation(e, item.sectionId)}\n                      className={`${styles.desktopLinkBase} ${isActive(item) ? styles.activeDesktopLink : styles.inactiveDesktopLink}`}\n                    >\n                      {item.name}\n                    </a>\n                  ) : (\n                    <Link\n                      href={item.href}\n                      className={`${styles.desktopLinkBase} ${isActive(item) ? styles.activeDesktopLink : styles.inactiveDesktopLink}`}\n                    >\n                      {item.name}\n                    </Link>\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {/* Hamburger menu button with fixed width */}\n            <div className=\"sm:hidden w-[40px] flex-shrink-0\">\n              <button\n                type=\"button\"\n                className=\"p-2 rounded-md text-forest dark:text-gray-300\"\n                aria-controls=\"mobile-menu\"\n                aria-expanded={mobileMenuOpen}\n                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n              >\n                <span className=\"sr-only\">Open main menu</span>\n                <svg\n                  className={`${mobileMenuOpen ? 'hidden' : 'block'} h-6 w-6`}\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                  aria-hidden=\"true\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n                </svg>\n                <svg\n                  className={`${mobileMenuOpen ? 'block' : 'hidden'} h-6 w-6`}\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                  aria-hidden=\"true\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile menu */}\n      {mobileMenuOpen && (\n        <div className=\"sm:hidden border-t border-sand/20 dark:border-gray-700\" id=\"mobile-menu\">\n          <div className=\"py-2 space-y-1 bg-white dark:bg-gray-800\">\n            {navigation.map((item) => (\n              <div key={item.name}>\n                {item.submenu && item.name !== 'Packages' ? (\n                  <>\n                    <button\n                      className={`w-full flex justify-between items-center py-3 px-4 text-base font-medium ${\n                        isActive(item) ? styles.activeMobileLink : styles.inactiveMobileLink\n                      }`}\n                      onClick={() => {\n                        toggleSubmenu(item.name);\n                      }}\n                    >\n                      {item.name}\n                      <svg \n                        className={`h-4 w-4 transform ${openSubmenu === item.name ? 'rotate-180' : ''}`}\n                        fill=\"none\" \n                        viewBox=\"0 0 24 24\" \n                        stroke=\"currentColor\"\n                      >\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                      </svg>\n                    </button>\n                    \n                    {openSubmenu === item.name && (\n                      <div className=\"bg-sand/5 dark:bg-gray-700/50\">\n                        {item.submenu.map((subitem) => (\n                          <Link\n                            key={subitem.name}\n                            href={subitem.href}\n                            className={`block py-3 px-8 text-base font-medium ${\n                              pathname === subitem.href\n                                ? styles.activeMobileLink\n                                : styles.inactiveMobileLink\n                            }`}\n                            onClick={() => setMobileMenuOpen(false)}\n                          >\n                            {subitem.name}\n                          </Link>\n                        ))}\n                      </div>\n                    )}\n                  </>\n                ) : (\n                  <>\n                    <Link\n                      href={item.name === 'Packages' ? '/packages' : item.href}\n                      className={`${styles.mobileLinkBase} ${isActive(item) ? styles.activeMobileLink : styles.inactiveMobileLink}`}\n                      onClick={() => {\n                        if (item.name === 'Map') {\n                          handleSectionNavigation({ preventDefault: () => {} } as React.MouseEvent, item.sectionId)\n                        }\n                        setMobileMenuOpen(false)\n                      }}\n                    >\n                      {item.name}\n                    </Link>\n                    \n                    {/* Add Build Custom Package as a separate item for mobile */}\n                    {item.name === 'Packages' && item.submenu && (\n                      <Link\n                        href=\"/packages/custom\"\n                        className={`block py-3 px-8 text-base font-medium ${\n                          pathname === '/packages/custom'\n                            ? styles.activeMobileLink\n                            : styles.inactiveMobileLink\n                        }`}\n                        onClick={() => setMobileMenuOpen(false)}\n                      >\n                        Build Custom Package\n                      </Link>\n                    )}\n                  </>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </nav>\n  )\n} ","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useNostr } from '@/lib/contexts/NostrContext';\nimport Image from 'next/image';\nimport Link from 'next/link';\n\n// No global declarations needed, they're now in types/nostr.d.ts\n\nexport const NostrLoginButton: React.FC = () => {\n  const { user, loading, login, logout, shortenNpub, loginMethod, viewOnlyProfile, availableProfiles } = useNostr();\n  const [showDetails, setShowDetails] = useState(false);\n  const [showLoginOptions, setShowLoginOptions] = useState(false);\n  const [profileImage, setProfileImage] = useState<string>(\"/assets/nostrloginicon.gif\");\n  const [imageError, setImageError] = useState(false);\n  \n  // Force reset when user changes\n  useEffect(() => {\n    console.log(\"User state changed:\", user ? \"Logged in\" : \"Logged out\");\n    \n    if (user && user.profile?.image && !imageError) {\n      // User is logged in and has a profile image\n      setProfileImage(user.profile.image);\n      console.log(\"Setting profile image to:\", user.profile.image);\n    } else if (viewOnlyProfile?.picture && !imageError) {\n      // Using view-only mode with a predefined profile picture\n      setProfileImage(viewOnlyProfile.picture);\n      console.log(\"Setting profile image to view-only picture:\", viewOnlyProfile.picture);\n    } else {\n      // User is logged out or has no profile image\n      setProfileImage(\"/assets/nostrloginicon.gif\");\n      console.log(\"Setting profile image to default GIF\");\n    }\n  }, [user, viewOnlyProfile, imageError]);\n\n  // Reset image error state when user changes\n  useEffect(() => {\n    setImageError(false);\n  }, [user, viewOnlyProfile]);\n  \n  // Also show login options after logging out from view-only mode\n  useEffect(() => {\n    if (!user && !loading && loginMethod === null && viewOnlyProfile === null) {\n      // This likely means we just logged out\n      setShowLoginOptions(true);\n    }\n  }, [user, loading, loginMethod, viewOnlyProfile]);\n  \n  const handleNIP07Login = async () => {\n    try {\n      await login('nip07');\n      setShowLoginOptions(false);\n    } catch (error) {\n      console.error(\"Failed to login with NIP-07:\", error);\n      alert(\"NIP-07 login failed. Please make sure you have a compatible browser extension installed (like Alby or nos2x).\");\n    }\n  };\n  \n  const handleNIP47Login = async () => {\n    try {\n      // This should be replaced with a proper UI to get the target URL\n      const target = prompt(\"Enter your NIP-47 signer URL (e.g., nsecbunker endpoint):\", \"\");\n      if (!target) return; // User cancelled\n      \n      await login('nip47', { target });\n      setShowLoginOptions(false);\n    } catch (error) {\n      console.error(\"Failed to login with NIP-47:\", error);\n      alert(\"NIP-47 login failed: \" + (error instanceof Error ? error.message : \"Unknown error\"));\n    }\n  };\n  \n  const handleViewOnlyLogin = async (profile: any) => {\n    try {\n      await login('viewonly', { profile });\n      setShowLoginOptions(false);\n    } catch (error) {\n      console.error(\"Failed to login with view-only mode:\", error);\n      alert(\"View-only login failed: \" + (error instanceof Error ? error.message : \"Unknown error\"));\n    }\n  };\n  \n  // Handle switching from view-only to another login method\n  const handleSwitchFromViewOnly = () => {\n    setShowLoginOptions(true);\n    setShowDetails(false);\n  };\n\n  // Handle signup with nsec.app\n  const handleSignup = () => {\n    // Open nsec.app in a new tab for easy signup\n    window.open('https://nsec.app', '_blank');\n    \n    // Let user know what to do after creating an account\n    setTimeout(() => {\n      alert('After creating your account on nsec.app, you can log in here using a browser extension (NIP-07) like Alby or nos2x, or connect using your nsec.app profile (NIP-47).');\n    }, 1000);\n  };\n  \n  const handleLogout = () => {\n    console.log(\"Logout initiated\");\n    \n    // Close the details panel first\n    setShowDetails(false);\n    \n    // Force reset to default image immediately\n    setProfileImage(\"/assets/nostrloginicon.gif\");\n    \n    // Reset error state\n    setImageError(false);\n    \n    // Call the logout function from context with a small delay\n    // to ensure UI updates happen first\n    setTimeout(() => {\n      logout();\n      console.log(\"Logout completed\");\n      \n      // Force image update again after logout\n      setProfileImage(\"/assets/nostrloginicon.gif\");\n    }, 10);\n  };\n\n  const handleButtonClick = () => {\n    // If user is not logged in, show login options\n    if (!user) {\n      setShowLoginOptions(prev => !prev);\n    } else {\n      // Otherwise toggle the details panel\n      setShowDetails(prev => !prev);\n    }\n  };\n\n  const handleImageError = () => {\n    console.log(\"Image error occurred, falling back to default GIF\");\n    setImageError(true);\n    setProfileImage(\"/assets/nostrloginicon.gif\");\n  };\n  \n  // Close panels when clicking outside of them\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      // Check if the click is outside the login component\n      const nostrLoginButton = document.querySelector('#nostr-login-container');\n      if (nostrLoginButton && !nostrLoginButton.contains(event.target as Node)) {\n        setShowLoginOptions(false);\n        setShowDetails(false);\n      }\n    };\n\n    document.addEventListener('click', handleClickOutside);\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, []);\n  \n  return (\n    <div id=\"nostr-login-container\" className=\"fixed bottom-4 right-4 z-50\">\n      {/* Main button - rounded square with no border or shadow */}\n      <button \n        onClick={handleButtonClick}\n        className=\"w-12 h-12 rounded-lg overflow-hidden transition-all transform hover:scale-105\"\n        aria-label={user ? \"Your Nostr profile\" : \"Login with Nostr\"}\n        disabled={loading}\n      >\n        {loading ? (\n          <div className=\"w-full h-full flex items-center justify-center bg-gray-800\">\n            <div className=\"animate-spin w-6 h-6 border-2 border-white border-t-transparent rounded-full\"></div>\n          </div>\n        ) : (\n          <Image \n            src={profileImage} \n            alt={user ? \"Your profile\" : \"Login with Nostr\"}\n            width={48}\n            height={48}\n            className=\"w-full h-full object-cover\"\n            onError={handleImageError}\n            key={`profile-image-${user?.npub || 'none'}-${profileImage}`} // Force re-render with reliable key\n            priority\n            unoptimized\n          />\n        )}\n      </button>\n\n      {/* Login options panel - only show when not logged in */}\n      {!user && showLoginOptions && (\n        <div className=\"absolute bottom-16 right-0 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 w-64 border border-gray-200 dark:border-gray-700 max-h-[80vh] overflow-y-auto\">\n          <h3 className=\"text-lg font-medium mb-3 text-center dark:text-white\">Login Options</h3>\n          \n          <div className=\"space-y-3\">\n            {/* NIP-07 Browser Extension Login */}\n            <button \n              onClick={handleNIP07Login}\n              className=\"w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md text-sm font-medium flex items-center justify-center\"\n            >\n              <span className=\"mr-2\">\n                <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path d=\"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z\"></path>\n                </svg>\n              </span>\n              Browser Extension (NIP-07)\n            </button>\n            \n            {/* NIP-47 Remote Signer Login */}\n            <button \n              onClick={handleNIP47Login}\n              className=\"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium flex items-center justify-center\"\n            >\n              <span className=\"mr-2\">\n                <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm14 1H4v8a1 1 0 001 1h10a1 1 0 001-1V6zM4 4a1 1 0 011-1h10a1 1 0 011 1v1H4V4z\" clipRule=\"evenodd\"></path>\n                </svg>\n              </span>\n              Remote Signer (NIP-47)\n            </button>\n            \n            {/* Signup with nsec.app */}\n            <button \n              onClick={handleSignup}\n              className=\"w-full px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium flex items-center justify-center\"\n            >\n              <span className=\"mr-2\">\n                <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\" clipRule=\"evenodd\"></path>\n                </svg>\n              </span>\n              Signup with nsec.app\n            </button>\n            \n            {/* View-only Options */}\n            <div className=\"pt-2 border-t border-gray-200 dark:border-gray-700\">\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">Or browse as:</p>\n              <div className=\"space-y-2\">\n                {availableProfiles.map((profile) => (\n                  <button \n                    key={profile.npub}\n                    onClick={() => handleViewOnlyLogin(profile)}\n                    className=\"w-full px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md text-sm font-medium flex items-center text-left\"\n                  >\n                    <div className=\"w-6 h-6 rounded-full overflow-hidden mr-2 flex-shrink-0\">\n                      {profile.picture ? (\n                        <Image \n                          src={profile.picture} \n                          alt={profile.displayName || profile.name || \"Profile\"}\n                          width={24}\n                          height={24}\n                          className=\"w-full h-full object-cover\"\n                          unoptimized\n                        />\n                      ) : (\n                        <div className=\"w-full h-full bg-gray-400 flex items-center justify-center text-white text-xs font-bold\">\n                          {(profile.name || shortenNpub(profile.npub))[0].toUpperCase()}\n                        </div>\n                      )}\n                    </div>\n                    <span className=\"truncate\">{profile.displayName || profile.name || shortenNpub(profile.npub)}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Popup details panel - only show for logged in users */}\n      {user && showDetails && (\n        <div className=\"absolute bottom-16 right-0 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 w-64 border border-gray-200 dark:border-gray-700\">\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-16 h-16 rounded-lg overflow-hidden mb-3\">\n              {user.profile?.image && !imageError ? (\n                <Image \n                  src={user.profile.image} \n                  alt={user.profile?.displayName || user.profile?.name || \"User\"}\n                  width={64}\n                  height={64}\n                  className=\"w-full h-full object-cover\"\n                  onError={handleImageError}\n                  key={`detail-image-${user.npub}-${user.profile.image}`}\n                  priority\n                  unoptimized\n                />\n              ) : (\n                <div className=\"w-full h-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-300 font-bold\">\n                  {(user.profile?.name || shortenNpub(user.npub) || \"?\")[0].toUpperCase()}\n                </div>\n              )}\n            </div>\n            \n            <p className=\"font-medium text-center dark:text-white\">\n              {user.profile?.displayName || user.profile?.name || shortenNpub(user.npub)}\n            </p>\n            \n            {user.profile?.displayName && user.profile?.name && (\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1 text-center\">@{user.profile.name}</p>\n            )}\n            \n            <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-3 text-center\">\n              {shortenNpub(user.npub)}\n            </p>\n            \n            {loginMethod === 'viewonly' ? (\n              <div className=\"flex flex-col w-full space-y-2\">\n                <p className=\"text-xs text-center text-amber-600 dark:text-amber-400 mb-1\">\n                  You are browsing in view-only mode\n                </p>\n                <button \n                  onClick={handleSwitchFromViewOnly}\n                  className=\"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md text-sm font-medium\"\n                >\n                  Switch Account\n                </button>\n                <button \n                  onClick={handleLogout}\n                  className=\"w-full px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-md text-sm font-medium\"\n                >\n                  Exit View-Only Mode\n                </button>\n              </div>\n            ) : (\n              <button \n                onClick={handleLogout}\n                className=\"w-full px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-md text-sm font-medium\"\n              >\n                Logout\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}; ","'use client';\n\nimport React from 'react';\nimport { ThemeProvider as NextThemeProvider } from \"next-themes\";\nimport { NostrProvider } from '@/lib/contexts/NostrContext';\n\ninterface ProvidersProps {\n  children: React.ReactNode;\n}\n\nexport function Providers({ children }: ProvidersProps) {\n  return (\n    <NextThemeProvider\n      attribute=\"class\"\n      defaultTheme=\"dark\"\n      forcedTheme=\"dark\"\n      enableSystem={false}\n      disableTransitionOnChange\n    >\n      <NostrProvider>\n        {children}\n      </NostrProvider>\n    </NextThemeProvider>\n  );\n} ","'use client'\n\nimport Image from 'next/image'\nimport Link from 'next/link'\nimport { useCallback, useState } from 'react'\n\nexport const NostrLink = () => {\n  const npub = \"npub1dxd02kcjhgpkyrx60qnkd6j42kmc72u5lum0rp2ud8x5zfhnk4zscjj6hh\"\n  const [clickTime, setClickTime] = useState<number | null>(null)\n  \n  const handleClick = useCallback((e: React.MouseEvent) => {\n    e.preventDefault() // Prevent the default link behavior\n    \n    // Record click time\n    const now = Date.now()\n    setClickTime(now)\n    \n    // Try to open the nostr protocol\n    window.location.href = `nostr:${npub}`\n    \n    // Set up fallback with a longer timeout (300ms instead of 100ms)\n    const timeoutId = setTimeout(() => {\n      // Only redirect if this is still the most recent click\n      if (clickTime === now) {\n        window.location.href = `https://nipjump.com/${npub}`\n      }\n    }, 300)\n    \n    // Alternative way to detect if the protocol was handled\n    window.addEventListener('blur', () => {\n      clearTimeout(timeoutId)\n    }, { once: true })\n    \n    // Also clear the timeout if we navigate away (backup)\n    window.addEventListener('beforeunload', () => {\n      clearTimeout(timeoutId)\n    }, { once: true })\n  }, [clickTime, npub])\n  \n  return (\n    <a \n      href={`nostr:${npub}`}\n      onClick={handleClick}\n      className=\"text-sand hover:text-purple-500 transition-colors\" \n      aria-label=\"Nostr\"\n    >\n      <Image \n        src=\"/assets/nostr-icon-purple-transparent-256x256.png\" \n        alt=\"Nostr\" \n        width={256} \n        height={256} \n        className=\"w-20 h-20 object-contain\" \n      />\n    </a>\n  )\n} ","'use client';\n\nimport type { Metadata, Viewport } from \"next\";\nimport { Inter } from \"next/font/google\";\nimport \"./globals.css\";\nimport { Navigation } from \"@/components/layout/Navigation\";\nimport { NostrLoginButton } from \"@/components/NostrLoginButton\";\nimport { Providers } from \"./providers\";\nimport { NostrLink } from \"@/components/NostrLink\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport Script from \"next/script\";\n\nconst inter = Inter({\n  subsets: [\"latin\"],\n  display: \"swap\", // Use 'swap' instead of preloading\n});\n\n// Metadata is now imported from metadata.ts\n// import { metadata, viewport } from './metadata';\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <html lang=\"en\" suppressHydrationWarning>\n      <head>\n        {/* Remove any manual preload tags for fonts */}\n      </head>\n      <body className={`${inter.className} min-h-screen flex flex-col`}>\n        <Providers>\n          <Navigation />\n          <main className=\"flex-grow bg-gray-900 pt-16\">\n            {children}\n          </main>\n          <footer className=\"bg-forest dark:bg-forest/80 text-sand py-8\">\n            <div className=\"container mx-auto px-4\">\n              <div className=\"flex flex-col md:flex-row justify-between items-center mb-6\">\n                {/* Social Links - Nostr, Instagram, X */}\n                <div className=\"flex items-center justify-center space-x-6 mb-4 md:mb-0\">\n                  <NostrLink />\n                  <Link href=\"https://instagram.com/MadTrips\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sand hover:text-pink-500 transition-colors\" aria-label=\"Instagram\">\n                    <svg className=\"w-8 h-8\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                      <path fillRule=\"evenodd\" d=\"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z\" clipRule=\"evenodd\" />\n                    </svg>\n                  </Link>\n                  <Link href=\"https://x.com/travelmadeira\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sand hover:text-gray-900 transition-colors\" aria-label=\"Twitter / X\">\n                    <svg className=\"w-8 h-8\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                      <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\" />\n                    </svg>\n                  </Link>\n                </div>\n                \n                {/* Nostr apps info */}\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"text-sand font-medium flex items-center flex-wrap\">\n                    Powered by\n                    <div className=\"flex items-center space-x-4 ml-2\">\n                      <Link href=\"https://blossom.nostr.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-bitcoin hover:text-bitcoin/80 transition-colors\" aria-label=\"Blossom\">\n                        <div className=\"flex flex-col items-center\">\n                          <svg className=\"w-8 h-8\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                            <path d=\"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z\"/>\n                            <path d=\"M12 6c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6zm0 10c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z\"/>\n                            <path d=\"M12 8a4 4 0 100 8 4 4 0 000-8z\"/>\n                          </svg>\n                          <span className=\"text-xs font-bold\">Blossom</span>\n                        </div>\n                      </Link>\n                      <Link href=\"https://nsite.nostr.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-bitcoin hover:text-bitcoin/80 transition-colors\" aria-label=\"Nsite\">\n                        <div className=\"flex flex-col items-center\">\n                          <svg className=\"w-8 h-8\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                            <path d=\"M19 2H5a3 3 0 00-3 3v14a3 3 0 003 3h14a3 3 0 003-3V5a3 3 0 00-3-3zm1 17a1 1 0 01-1 1H5a1 1 0 01-1-1V5a1 1 0 011-1h14a1 1 0 011 1v14z\"/>\n                            <path d=\"M7 15h10v2H7zm0-4h10v2H7zm0-4h10v2H7z\"/>\n                          </svg>\n                          <span className=\"text-xs font-bold\">Nsite</span>\n                        </div>\n                      </Link>\n                      <Link href=\"https://lnbits.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-bitcoin hover:text-bitcoin/80 transition-colors mr-0\" aria-label=\"LNBits\">\n                        <div className=\"flex flex-col items-center\">\n                          <svg className=\"w-8 h-8\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                            <path d=\"M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z\"/>\n                          </svg>\n                          <span className=\"text-xs font-bold\">LNBits</span>\n                        </div>\n                      </Link>\n                      <div className=\"flex flex-col items-center -ml-3\">\n                        <Image \n                          src=\"/assets/bitcoin.png\" \n                          alt=\"Bitcoin\" \n                          width={224} \n                          height={224} \n                          className=\"w-14 h-14 object-contain\" \n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Copyright and links */}\n              <div className=\"text-center border-t border-sand/20 pt-4\">\n                <p className=\"text-sm\"> {new Date().getFullYear()} MadTrips. All rights reserved.</p>\n                <div className=\"flex justify-center mt-2 space-x-4 text-xs\">\n                  <Link href=\"/privacy\" className=\"text-sand hover:text-bitcoin transition-colors\">Privacy Policy</Link>\n                  <Link href=\"/terms\" className=\"text-sand hover:text-bitcoin transition-colors\">Terms of Service</Link>\n                  <Link href=\"/contact\" className=\"text-sand hover:text-bitcoin transition-colors\">Contact</Link>\n                </div>\n              </div>\n            </div>\n          </footer>\n          \n          {/* Floating Nostr Login Button - This will be our custom UI for Nostr Login */}\n          <NostrLoginButton />\n        </Providers>\n        \n        {/* Add custom CSS to style our login button */}\n        <style jsx global>{`\n          /* Custom styles for our new login approach */\n          .nostr-login-btn {\n            transition: all 0.2s ease-in-out;\n          }\n          .nostr-login-btn:hover {\n            transform: scale(1.05);\n          }\n          \n          /* Dark mode support */\n          .dark .nostr-login-btn {\n            background-color: #2d3748;\n          }\n        `}</style>\n      </body>\n    </html>\n  );\n}\n"],"names":["profileCache","Map","NostrProfileHeader","npub","className","showImage","name","setName","useState","loading","setLoading","error","setError","picture","setPicture","imageLoading","setImageLoading","fetchProfile","useCallback","startsWith","cachedProfile","get","now","timestamp","CACHE_EXPIRY","pool","SimplePool","relays","pubkey","nip19","decode","data","timeoutId","setTimeout","close","sub","subscribeMany","kinds","authors","limit","onevent","event","profile","JSON","parse","content","displayName","display_name","profilePicture","set","Date","clearTimeout","e","console","oneose","cleanup","undefined","useEffect","div","style","width","height","svg","xmlns","fill","viewBox","circle","cx","cy","r","stroke","strokeWidth","path","d","Image","src","alt","sizes","quality","onError","onLoad","priority","unoptimized","span","substring","toUpperCase","navigation","href","sectionId","submenu","styles","activeDesktopLink","inactiveDesktopLink","activeMobileLink","inactiveMobileLink","desktopLinkBase","mobileLinkBase","Navigation","pathname","usePathname","router","useRouter","mounted","setMounted","mobileMenuOpen","setMobileMenuOpen","openSubmenu","setOpenSubmenu","activeSection","setActiveSection","sectionIds","useMemo","map","item","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","target","id","root","rootMargin","threshold","element","document","getElementById","observe","disconnect","includes","toggleSubmenu","prev","handleSectionNavigation","preventDefault","section","scrollIntoView","behavior","push","isActive","nav","Link","MADTRIPS_NPUB","button","onClick","strokeLinecap","strokeLinejoin","subitem","a","type","aria-controls","aria-expanded","aria-hidden","NostrLoginButton","user","login","logout","shortenNpub","loginMethod","viewOnlyProfile","availableProfiles","useNostr","showDetails","setShowDetails","showLoginOptions","setShowLoginOptions","profileImage","setProfileImage","imageError","setImageError","log","image","handleNIP07Login","alert","handleNIP47Login","prompt","Error","message","handleViewOnlyLogin","handleLogout","handleImageError","handleClickOutside","nostrLoginButton","querySelector","contains","addEventListener","removeEventListener","handleButtonClick","aria-label","disabled","h3","fillRule","clipRule","handleSignup","window","open","p","handleSwitchFromViewOnly","Providers","children","NextThemeProvider","attribute","defaultTheme","forcedTheme","enableSystem","disableTransitionOnChange","NostrProvider","NostrLink","clickTime","setClickTime","handleClick","location","once","RootLayout","html","lang","suppressHydrationWarning","head","body","inter","main","footer","rel","getFullYear"],"sourceRoot":"","ignoreList":[]}